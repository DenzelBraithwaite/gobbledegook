(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();function J(){}const Hn=t=>t;function Nn(t,e){for(const n in e)t[n]=e[n];return t}function zr(t){return!!t&&(typeof t=="object"||typeof t=="function")&&typeof t.then=="function"}function ir(t){return t()}function ji(){return Object.create(null)}function tt(t){t.forEach(ir)}function Mt(t){return typeof t=="function"}function xe(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let Cn;function Ki(t,e){return Cn||(Cn=document.createElement("a")),Cn.href=e,t===Cn.href}function Ur(t){return Object.keys(t).length===0}function sr(t,...e){if(t==null)return J;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function Ae(t,e,n){t.$$.on_destroy.push(sr(e,n))}function rn(t,e,n,i){if(t){const r=rr(t,e,n,i);return t[0](r)}}function rr(t,e,n,i){return t[1]&&i?Nn(n.ctx.slice(),t[1](i(e))):n.ctx}function on(t,e,n,i){if(t[2]&&i){const r=t[2](i(n));if(e.dirty===void 0)return r;if(typeof r=="object"){const s=[],o=Math.max(e.dirty.length,r.length);for(let c=0;c<o;c+=1)s[c]=e.dirty[c]|r[c];return s}return e.dirty|r}return e.dirty}function an(t,e,n,i,r,s){if(r){const o=rr(e,n,i,s);t.p(o,r)}}function ln(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let i=0;i<n;i++)e[i]=-1;return e}return-1}function Gi(t){const e={};for(const n in t)n[0]!=="$"&&(e[n]=t[n]);return e}function Ge(t,e,n){return t.set(n),e}function Yi(t){const e=typeof t=="string"&&t.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return e?[parseFloat(e[1]),e[2]||"px"]:[t,"px"]}const or=typeof window<"u";let pi=or?()=>window.performance.now():()=>Date.now(),gi=or?t=>requestAnimationFrame(t):J;const qt=new Set;function ar(t){qt.forEach(e=>{e.c(t)||(qt.delete(e),e.f())}),qt.size!==0&&gi(ar)}function mi(t){let e;return qt.size===0&&gi(ar),{promise:new Promise(n=>{qt.add(e={c:t,f:n})}),abort(){qt.delete(e)}}}function h(t,e){t.appendChild(e)}function lr(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function Hr(t){const e=y("style");return Vr(lr(t),e),e.sheet}function Vr(t,e){return h(t.head||t,e),e.sheet}function W(t,e,n){t.insertBefore(e,n||null)}function V(t){t.parentNode&&t.parentNode.removeChild(t)}function Oe(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function y(t){return document.createElement(t)}function L(t){return document.createTextNode(t)}function E(){return L(" ")}function zt(){return L("")}function cn(t,e,n,i){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n,i)}function k(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function Fr(t){return Array.from(t.childNodes)}function te(t,e){e=""+e,t.data!==e&&(t.data=e)}function cr(t,e,{bubbles:n=!1,cancelable:i=!1}={}){const r=document.createEvent("CustomEvent");return r.initCustomEvent(t,n,i,e),r}function Xi(t,e){return new t(e)}const qn=new Map;let In=0;function Wr(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function $r(t,e){const n={stylesheet:Hr(e),rules:{}};return qn.set(t,n),n}function Mn(t,e,n,i,r,s,o,c=0){const u=16.666/i;let d=`{
`;for(let b=0;b<=1;b+=u){const q=e+(n-e)*s(b);d+=b*100+`%{${o(q,1-q)}}
`}const g=d+`100% {${o(n,1-n)}}
}`,_=`__svelte_${Wr(g)}_${c}`,w=lr(t),{stylesheet:B,rules:T}=qn.get(w)||$r(w,t);T[_]||(T[_]=!0,B.insertRule(`@keyframes ${_} ${g}`,B.cssRules.length));const S=t.style.animation||"";return t.style.animation=`${S?`${S}, `:""}${_} ${i}ms linear ${r}ms 1 both`,In+=1,_}function zn(t,e){const n=(t.style.animation||"").split(", "),i=n.filter(e?s=>s.indexOf(e)<0:s=>s.indexOf("__svelte")===-1),r=n.length-i.length;r&&(t.style.animation=i.join(", "),In-=r,In||jr())}function jr(){gi(()=>{In||(qn.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&V(e)}),qn.clear())})}let sn;function Qe(t){sn=t}function Ut(){if(!sn)throw new Error("Function called outside component initialization");return sn}function ur(t){Ut().$$.on_mount.push(t)}function Kr(t){Ut().$$.on_destroy.push(t)}function Gr(){const t=Ut();return(e,n,{cancelable:i=!1}={})=>{const r=t.$$.callbacks[e];if(r){const s=cr(e,n,{cancelable:i});return r.slice().forEach(o=>{o.call(t,s)}),!s.defaultPrevented}return!0}}function Zn(t,e){return Ut().$$.context.set(t,e),e}function si(t){return Ut().$$.context.get(t)}function Rn(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(i=>i.call(this,e))}const Lt=[],Ji=[];let It=[];const Qi=[],Yr=Promise.resolve();let ri=!1;function Xr(){ri||(ri=!0,Yr.then(bi))}function Ze(t){It.push(t)}const xn=new Set;let St=0;function bi(){if(St!==0)return;const t=sn;do{try{for(;St<Lt.length;){const e=Lt[St];St++,Qe(e),Jr(e.$$)}}catch(e){throw Lt.length=0,St=0,e}for(Qe(null),Lt.length=0,St=0;Ji.length;)Ji.pop()();for(let e=0;e<It.length;e+=1){const n=It[e];xn.has(n)||(xn.add(n),n())}It.length=0}while(Lt.length);for(;Qi.length;)Qi.pop()();ri=!1,xn.clear(),Qe(t)}function Jr(t){if(t.fragment!==null){t.update(),tt(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Ze)}}function Qr(t){const e=[],n=[];It.forEach(i=>t.indexOf(i)===-1?e.push(i):n.push(i)),n.forEach(i=>i()),It=e}let xt;function _i(){return xt||(xt=Promise.resolve(),xt.then(()=>{xt=null})),xt}function _t(t,e,n){t.dispatchEvent(cr(`${e?"intro":"outro"}${n}`))}const On=new Set;let Ye;function we(){Ye={r:0,c:[],p:Ye}}function ve(){Ye.r||tt(Ye.c),Ye=Ye.p}function v(t,e){t&&t.i&&(On.delete(t),t.i(e))}function P(t,e,n,i){if(t&&t.o){if(On.has(t))return;On.add(t),Ye.c.push(()=>{On.delete(t),i&&(n&&t.d(1),i())}),t.o(e)}else i&&i()}const yi={duration:0};function fr(t,e,n){const i={direction:"in"};let r=e(t,n,i),s=!1,o,c,u=0;function d(){o&&zn(t,o)}function g(){const{delay:w=0,duration:B=300,easing:T=Hn,tick:S=J,css:b}=r||yi;b&&(o=Mn(t,0,1,B,w,T,b,u++)),S(0,1);const q=pi()+w,K=q+B;c&&c.abort(),s=!0,Ze(()=>_t(t,!0,"start")),c=mi(G=>{if(s){if(G>=K)return S(1,0),_t(t,!0,"end"),d(),s=!1;if(G>=q){const Z=T((G-q)/B);S(Z,1-Z)}}return s})}let _=!1;return{start(){_||(_=!0,zn(t),Mt(r)?(r=r(i),_i().then(g)):g())},invalidate(){_=!1},end(){s&&(d(),s=!1)}}}function hr(t,e,n){const i={direction:"out"};let r=e(t,n,i),s=!0,o;const c=Ye;c.r+=1;function u(){const{delay:d=0,duration:g=300,easing:_=Hn,tick:w=J,css:B}=r||yi;B&&(o=Mn(t,1,0,g,d,_,B));const T=pi()+d,S=T+g;Ze(()=>_t(t,!1,"start")),mi(b=>{if(s){if(b>=S)return w(0,1),_t(t,!1,"end"),--c.r||tt(c.c),!1;if(b>=T){const q=_((b-T)/g);w(1-q,q)}}return s})}return Mt(r)?_i().then(()=>{r=r(i),u()}):u(),{end(d){d&&r.tick&&r.tick(1,0),s&&(o&&zn(t,o),s=!1)}}}function Zi(t,e,n,i){const r={direction:"both"};let s=e(t,n,r),o=i?0:1,c=null,u=null,d=null;function g(){d&&zn(t,d)}function _(B,T){const S=B.b-o;return T*=Math.abs(S),{a:o,b:B.b,d:S,duration:T,start:B.start,end:B.start+T,group:B.group}}function w(B){const{delay:T=0,duration:S=300,easing:b=Hn,tick:q=J,css:K}=s||yi,G={start:pi()+T,b:B};B||(G.group=Ye,Ye.r+=1),c||u?u=G:(K&&(g(),d=Mn(t,o,B,S,T,b,K)),B&&q(0,1),c=_(G,S),Ze(()=>_t(t,B,"start")),mi(Z=>{if(u&&Z>u.start&&(c=_(u,S),u=null,_t(t,c.b,"start"),K&&(g(),d=Mn(t,o,c.b,c.duration,0,b,s.css))),c){if(Z>=c.end)q(o=c.b,1-o),_t(t,c.b,"end"),u||(c.b?g():--c.group.r||tt(c.group.c)),c=null;else if(Z>=c.start){const ye=Z-c.start;o=c.a+c.d*b(ye/c.duration),q(o,1-o)}}return!!(c||u)}))}return{run(B){Mt(s)?_i().then(()=>{s=s(r),w(B)}):w(B)},end(){g(),c=u=null}}}function xi(t,e){const n=e.token={};function i(r,s,o,c){if(e.token!==n)return;e.resolved=c;let u=e.ctx;o!==void 0&&(u=u.slice(),u[o]=c);const d=r&&(e.current=r)(u);let g=!1;e.block&&(e.blocks?e.blocks.forEach((_,w)=>{w!==s&&_&&(we(),P(_,1,1,()=>{e.blocks[w]===_&&(e.blocks[w]=null)}),ve())}):e.block.d(1),d.c(),v(d,1),d.m(e.mount(),e.anchor),g=!0),e.block=d,e.blocks&&(e.blocks[s]=d),g&&bi()}if(zr(t)){const r=Ut();if(t.then(s=>{Qe(r),i(e.then,1,e.value,s),Qe(null)},s=>{if(Qe(r),i(e.catch,2,e.error,s),Qe(null),!e.hasCatch)throw s}),e.current!==e.pending)return i(e.pending,0),!0}else{if(e.current!==e.then)return i(e.then,1,e.value,t),!0;e.resolved=t}}function Zr(t,e,n){const i=e.slice(),{resolved:r}=t;t.current===t.then&&(i[t.value]=r),t.current===t.catch&&(i[t.error]=r),t.block.p(i,n)}function xr(t,e){const n={},i={},r={$$scope:1};let s=t.length;for(;s--;){const o=t[s],c=e[s];if(c){for(const u in o)u in c||(i[u]=1);for(const u in c)r[u]||(n[u]=c[u],r[u]=1);t[s]=c}else for(const u in o)r[u]=1}for(const o in i)o in n||(n[o]=void 0);return n}function es(t){return typeof t=="object"&&t!==null?t:{}}function _e(t){t&&t.c()}function pe(t,e,n,i){const{fragment:r,after_update:s}=t.$$;r&&r.m(e,n),i||Ze(()=>{const o=t.$$.on_mount.map(ir).filter(Mt);t.$$.on_destroy?t.$$.on_destroy.push(...o):tt(o),t.$$.on_mount=[]}),s.forEach(Ze)}function ge(t,e){const n=t.$$;n.fragment!==null&&(Qr(n.after_update),tt(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function eo(t,e){t.$$.dirty[0]===-1&&(Lt.push(t),Xr(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function nt(t,e,n,i,r,s,o,c=[-1]){const u=sn;Qe(t);const d=t.$$={fragment:null,ctx:[],props:s,update:J,not_equal:r,bound:ji(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:ji(),dirty:c,skip_bound:!1,root:e.target||u.$$.root};o&&o(d.root);let g=!1;if(d.ctx=n?n(t,e.props||{},(_,w,...B)=>{const T=B.length?B[0]:w;return d.ctx&&r(d.ctx[_],d.ctx[_]=T)&&(!d.skip_bound&&d.bound[_]&&d.bound[_](T),g&&eo(t,_)),w}):[],d.update(),g=!0,tt(d.before_update),d.fragment=i?i(d.ctx):!1,e.target){if(e.hydrate){const _=Fr(e.target);d.fragment&&d.fragment.l(_),_.forEach(V)}else d.fragment&&d.fragment.c();e.intro&&v(t.$$.fragment),pe(t,e.target,e.anchor,e.customElement),bi()}Qe(u)}class it{$destroy(){ge(this,1),this.$destroy=J}$on(e,n){if(!Mt(n))return J;const i=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return i.push(n),()=>{const r=i.indexOf(n);r!==-1&&i.splice(r,1)}}$set(e){this.$$set&&!Ur(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const ts={},oi={},to={},dr=/^:(.+)/,ns=4,no=3,io=2,so=1,ro=1,ai=t=>t.replace(/(^\/+|\/+$)/g,"").split("/"),ei=t=>t.replace(/(^\/+|\/+$)/g,""),oo=(t,e)=>{const n=t.default?0:ai(t.path).reduce((i,r)=>(i+=ns,r===""?i+=ro:dr.test(r)?i+=io:r[0]==="*"?i-=ns+so:i+=no,i),0);return{route:t,score:n,index:e}},ao=t=>t.map(oo).sort((e,n)=>e.score<n.score?1:e.score>n.score?-1:e.index-n.index),is=(t,e)=>{let n,i;const[r]=e.split("?"),s=ai(r),o=s[0]==="",c=ao(t);for(let u=0,d=c.length;u<d;u++){const g=c[u].route;let _=!1;if(g.default){i={route:g,params:{},uri:e};continue}const w=ai(g.path),B={},T=Math.max(s.length,w.length);let S=0;for(;S<T;S++){const b=w[S],q=s[S];if(b&&b[0]==="*"){const G=b==="*"?"*":b.slice(1);B[G]=s.slice(S).map(decodeURIComponent).join("/");break}if(typeof q>"u"){_=!0;break}const K=dr.exec(b);if(K&&!o){const G=decodeURIComponent(q);B[K[1]]=G}else if(b!==q){_=!0;break}}if(!_){n={route:g,params:B,uri:"/"+s.slice(0,S).join("/")};break}}return n||i||null},ss=(t,e)=>`${ei(e==="/"?t:`${ei(t)}/${ei(e)}`)}/`,pr=()=>typeof window<"u"&&"document"in window&&"location"in window,lo=t=>({params:t&4}),rs=t=>({params:t[2]});function os(t){let e,n,i,r;const s=[uo,co],o=[];function c(u,d){return u[0]?0:1}return e=c(t),n=o[e]=s[e](t),{c(){n.c(),i=zt()},m(u,d){o[e].m(u,d),W(u,i,d),r=!0},p(u,d){let g=e;e=c(u),e===g?o[e].p(u,d):(we(),P(o[g],1,1,()=>{o[g]=null}),ve(),n=o[e],n?n.p(u,d):(n=o[e]=s[e](u),n.c()),v(n,1),n.m(i.parentNode,i))},i(u){r||(v(n),r=!0)},o(u){P(n),r=!1},d(u){o[e].d(u),u&&V(i)}}}function co(t){let e;const n=t[8].default,i=rn(n,t,t[7],rs);return{c(){i&&i.c()},m(r,s){i&&i.m(r,s),e=!0},p(r,s){i&&i.p&&(!e||s&132)&&an(i,n,r,r[7],e?on(n,r[7],s,lo):ln(r[7]),rs)},i(r){e||(v(i,r),e=!0)},o(r){P(i,r),e=!1},d(r){i&&i.d(r)}}}function uo(t){let e,n,i,r={ctx:t,current:null,token:null,hasCatch:!1,pending:po,then:ho,catch:fo,value:12,blocks:[,,,]};return xi(n=t[0],r),{c(){e=zt(),r.block.c()},m(s,o){W(s,e,o),r.block.m(s,r.anchor=o),r.mount=()=>e.parentNode,r.anchor=e,i=!0},p(s,o){t=s,r.ctx=t,o&1&&n!==(n=t[0])&&xi(n,r)||Zr(r,t,o)},i(s){i||(v(r.block),i=!0)},o(s){for(let o=0;o<3;o+=1){const c=r.blocks[o];P(c)}i=!1},d(s){s&&V(e),r.block.d(s),r.token=null,r=null}}}function fo(t){return{c:J,m:J,p:J,i:J,o:J,d:J}}function ho(t){var c;let e,n,i;const r=[t[2],t[3]];var s=((c=t[12])==null?void 0:c.default)||t[12];function o(u){let d={};for(let g=0;g<r.length;g+=1)d=Nn(d,r[g]);return{props:d}}return s&&(e=Xi(s,o())),{c(){e&&_e(e.$$.fragment),n=zt()},m(u,d){e&&pe(e,u,d),W(u,n,d),i=!0},p(u,d){var _;const g=d&12?xr(r,[d&4&&es(u[2]),d&8&&es(u[3])]):{};if(d&1&&s!==(s=((_=u[12])==null?void 0:_.default)||u[12])){if(e){we();const w=e;P(w.$$.fragment,1,0,()=>{ge(w,1)}),ve()}s?(e=Xi(s,o()),_e(e.$$.fragment),v(e.$$.fragment,1),pe(e,n.parentNode,n)):e=null}else s&&e.$set(g)},i(u){i||(e&&v(e.$$.fragment,u),i=!0)},o(u){e&&P(e.$$.fragment,u),i=!1},d(u){u&&V(n),e&&ge(e,u)}}}function po(t){return{c:J,m:J,p:J,i:J,o:J,d:J}}function go(t){let e,n,i=t[1]&&t[1].route===t[5]&&os(t);return{c(){i&&i.c(),e=zt()},m(r,s){i&&i.m(r,s),W(r,e,s),n=!0},p(r,[s]){r[1]&&r[1].route===r[5]?i?(i.p(r,s),s&2&&v(i,1)):(i=os(r),i.c(),v(i,1),i.m(e.parentNode,e)):i&&(we(),P(i,1,1,()=>{i=null}),ve())},i(r){n||(v(i),n=!0)},o(r){P(i),n=!1},d(r){i&&i.d(r),r&&V(e)}}}function mo(t,e,n){let i,{$$slots:r={},$$scope:s}=e,{path:o=""}=e,{component:c=null}=e,u={},d={};const{registerRoute:g,unregisterRoute:_,activeRoute:w}=si(oi);Ae(t,w,T=>n(1,i=T));const B={path:o,default:o===""};return g(B),Kr(()=>{_(B)}),t.$$set=T=>{n(11,e=Nn(Nn({},e),Gi(T))),"path"in T&&n(6,o=T.path),"component"in T&&n(0,c=T.component),"$$scope"in T&&n(7,s=T.$$scope)},t.$$.update=()=>{if(i&&i.route===B){n(2,u=i.params);const{component:T,path:S,...b}=e;n(3,d=b),T&&(T.toString().startsWith("class ")?n(0,c=T):n(0,c=T())),pr()&&(window==null||window.scrollTo(0,0))}},e=Gi(e),[c,i,u,d,w,B,o,s,r]}class as extends it{constructor(e){super(),nt(this,e,mo,go,xe,{path:6,component:0})}}const Dt=[];function bo(t,e){return{subscribe:Be(t,e).subscribe}}function Be(t,e=J){let n;const i=new Set;function r(c){if(xe(t,c)&&(t=c,n)){const u=!Dt.length;for(const d of i)d[1](),Dt.push(d,t);if(u){for(let d=0;d<Dt.length;d+=2)Dt[d][0](Dt[d+1]);Dt.length=0}}}function s(c){r(c(t))}function o(c,u=J){const d=[c,u];return i.add(d),i.size===1&&(n=e(r)||J),c(t),()=>{i.delete(d),i.size===0&&n&&(n(),n=null)}}return{set:r,update:s,subscribe:o}}function _o(t,e,n){const i=!Array.isArray(t),r=i?[t]:t,s=e.length<2;return bo(n,o=>{let c=!1;const u=[];let d=0,g=J;const _=()=>{if(d)return;g();const B=e(i?u[0]:u,o);s?o(B):g=Mt(B)?B:J},w=r.map((B,T)=>sr(B,S=>{u[T]=S,d&=~(1<<T),c&&_()},()=>{d|=1<<T}));return c=!0,_(),function(){tt(w),g(),c=!1}})}const ti=t=>({...t.location,state:t.history.state,key:t.history.state&&t.history.state.key||"initial"}),yo=t=>{const e=[];let n=ti(t);return{get location(){return n},listen(i){e.push(i);const r=()=>{n=ti(t),i({location:n,action:"POP"})};return t.addEventListener("popstate",r),()=>{t.removeEventListener("popstate",r);const s=e.indexOf(i);e.splice(s,1)}},navigate(i,{state:r,replace:s=!1}={}){r={...r,key:Date.now()+""};try{s?t.history.replaceState(r,"",i):t.history.pushState(r,"",i)}catch{t.location[s?"replace":"assign"](i)}n=ti(t),e.forEach(o=>o({location:n,action:"PUSH"})),document.activeElement.blur()}}},wo=(t="/")=>{let e=0;const n=[{pathname:t,search:""}],i=[];return{get location(){return n[e]},addEventListener(r,s){},removeEventListener(r,s){},history:{get entries(){return n},get index(){return e},get state(){return i[e]},pushState(r,s,o){const[c,u=""]=o.split("?");e++,n.push({pathname:c,search:u}),i.push(r)},replaceState(r,s,o){const[c,u=""]=o.split("?");n[e]={pathname:c,search:u},i[e]=r}}}},vo=yo(pr()?window:wo()),ko=t=>({route:t&2,location:t&1}),ls=t=>({route:t[1]&&t[1].uri,location:t[0]});function To(t){let e;const n=t[12].default,i=rn(n,t,t[11],ls);return{c(){i&&i.c()},m(r,s){i&&i.m(r,s),e=!0},p(r,[s]){i&&i.p&&(!e||s&2051)&&an(i,n,r,r[11],e?on(n,r[11],s,ko):ln(r[11]),ls)},i(r){e||(v(i,r),e=!0)},o(r){P(i,r),e=!1},d(r){i&&i.d(r)}}}function Co(t,e,n){let i,r,s,o,{$$slots:c={},$$scope:u}=e,{basepath:d="/"}=e,{url:g=null}=e,{history:_=vo}=e;Zn(to,_);const w=si(ts),B=si(oi),T=Be([]);Ae(t,T,D=>n(9,r=D));const S=Be(null);Ae(t,S,D=>n(1,o=D));let b=!1;const q=w||Be(g?{pathname:g}:_.location);Ae(t,q,D=>n(0,i=D));const K=B?B.routerBase:Be({path:d,uri:d});Ae(t,K,D=>n(10,s=D));const G=_o([K,S],([D,X])=>{if(!X)return D;const{path:H}=D,{route:Y,uri:R}=X;return{path:Y.default?H:Y.path.replace(/\*.*$/,""),uri:R}}),Z=D=>{const{path:X}=s;let{path:H}=D;if(D._path=H,D.path=ss(X,H),typeof window>"u"){if(b)return;const Y=is([D],i.pathname);Y&&(S.set(Y),b=!0)}else T.update(Y=>[...Y,D])},ye=D=>{T.update(X=>X.filter(H=>H!==D))};return w||(ur(()=>_.listen(X=>{q.set(X.location)})),Zn(ts,q)),Zn(oi,{activeRoute:S,base:K,routerBase:G,registerRoute:Z,unregisterRoute:ye}),t.$$set=D=>{"basepath"in D&&n(6,d=D.basepath),"url"in D&&n(7,g=D.url),"history"in D&&n(8,_=D.history),"$$scope"in D&&n(11,u=D.$$scope)},t.$$.update=()=>{if(t.$$.dirty&1024){const{path:D}=s;T.update(X=>X.map(H=>Object.assign(H,{path:ss(D,H._path)})))}if(t.$$.dirty&513){const D=is(r,i.pathname);S.set(D)}},[i,o,T,S,q,K,d,g,_,r,s,u,c]}class Eo extends it{constructor(e){super(),nt(this,e,Co,To,xe,{basepath:6,url:7,history:8})}}function Ao(t){const e=t-1;return e*e*e+1}function Un(t,{delay:e=0,duration:n=400,easing:i=Hn}={}){const r=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:i,css:s=>`opacity: ${s*r}`}}function gr(t,{delay:e=0,duration:n=400,easing:i=Ao,x:r=0,y:s=0,opacity:o=0}={}){const c=getComputedStyle(t),u=+c.opacity,d=c.transform==="none"?"":c.transform,g=u*(1-o),[_,w]=Yi(r),[B,T]=Yi(s);return{delay:e,duration:n,easing:i,css:(S,b)=>`
			transform: ${d} translate(${(1-S)*_}${w}, ${(1-S)*B}${T});
			opacity: ${u-g*b}`}}const he=Be({id:void 0,title:"Player 1",points:{beasts:0,bots:0,dwarves:0,elves:0,humans:0,goblins:0,xenos:0},highestPoints:0,justWon:!1,wins:0,losses:0,draws:0,playedFirst:!1,playingTwice:!1,turn:!1,dwarfNextTurn:!1,drewWarchief:!1,goblinLordMarked:!1,hand:[],startingHand:[],cardsDrawn:[],discards:[],boosts:[],traps:[],neutrals:[],chargeDrawnTurns:[],infectDrawnTurns:[],hasChastity:!1,hasCorruption:!1,hasVision:!1,chargePoints:0,infectPoints:0}),de=Be({id:void 0,title:"Player 2",points:{beasts:0,bots:0,dwarves:0,elves:0,humans:0,goblins:0,xenos:0},highestPoints:0,justWon:!1,wins:0,losses:0,draws:0,playedFirst:!1,playingTwice:!1,turn:!1,dwarfNextTurn:!1,drewWarchief:!1,goblinLordMarked:!1,hand:[],startingHand:[],cardsDrawn:[],discards:[],boosts:[],traps:[],neutrals:[],hasChastity:!1,hasCorruption:!1,hasVision:!1,chargeDrawnTurns:[],infectDrawnTurns:[],chargePoints:0,infectPoints:0}),en=Be({emperor:{title:"emperor",displayTitle:"Emperor",points:10,amount:1,rarity:"legendary",traitTitle:"Unity Pact",trait:"Human points are doubled and all races in your hand except xenos will count towards your final score.",description:"The leader of the human race.",race:"human",image:"/humans/emperor.png"},commander:{title:"commander",displayTitle:"Commander",points:7,amount:2,rarity:"epic",traitTitle:"Rally",trait:"When the commander is in your hand, all humans you have will receive +1 point, including commanders. This effect also stacks with the emperor.",description:"Powerful soldier second only to the emperor.",race:"human",image:"/humans/commander.png"},assassin:{title:"assassin",displayTitle:"Assassin",points:6,amount:3,rarity:"amazing",traitTitle:"",trait:"",description:"A highly skilled professional killer.",race:"human",image:"/humans/assassin.png"},knight:{title:"knight",displayTitle:"Knight",points:5,amount:4,rarity:"uncommon",traitTitle:"",trait:"",description:"A middle ranked soldier.",race:"human",image:"/humans/knight.png"},soldier:{title:"soldier",displayTitle:"Soldier",points:4,amount:4,rarity:"uncommon",traitTitle:"",trait:"",description:"A low ranked soldier.",race:"human",image:"/humans/soldier.png"},scout:{title:"scout",displayTitle:"Scout",points:3,amount:4,rarity:"common",traitTitle:"",trait:"",description:"The lowest ranked in the human army.",race:"human",image:"/humans/scout.png"},villager:{title:"villager",displayTitle:"Villager",points:1,amount:2,rarity:"common",traitTitle:"",trait:"",description:"An innocent villager.",race:"human",image:"/humans/villager.png"},villager2:{title:"villager2",displayTitle:"Villager",points:1,amount:2,rarity:"common",traitTitle:"",trait:"",description:"An innocent villager.",race:"human",image:"/humans/villager2.png"},goblinLord:{title:"goblinLord",displayTitle:"Goblin Lord",points:11,amount:1,rarity:"legendary",traitTitle:"Gobbledegook",trait:"If your hand contains only goblins, you receive an insane amount of bonus points, doesn't count goblin lord's mark. Beware, the elf king can block this trait, resulting in a draw.",description:"The leader of the goblins.",race:"goblin",image:"/goblins/goblin-lord.gif"},goblinLordsMark:{title:"goblinLordsMark",displayTitle:"Goblin Lord's Mark",points:0,amount:1,rarity:"epic",traitTitle:"Death's Mark",trait:"Draw the goblin lord next turn, only applies if this card is drawn. If no goblin lord, draw a goblin.",description:"A sign that the goblin lord is near.",race:"goblin-ish",image:"/goblins/goblin-lord_mark.png"},warchief:{title:"warchief",displayTitle:"Warchief",points:8,amount:1,rarity:"epic",traitTitle:"Chieftain's call",trait:"The next card drawn will be the goblin lord's mark, if it's still in the deck.",description:"Born in battle, this brutal war hungry goblin is second only to the goblin lord himself.",race:"goblin",image:"/goblins/warchief.png"},troll:{title:"troll",displayTitle:"Troll",points:7,amount:3,rarity:"amazing",traitTitle:"",trait:"",description:"Loyal high ranked soldier in the goblin army.",race:"goblin",image:"/goblins/troll.png"},shaman:{title:"shaman",displayTitle:"Shaman",points:6,amount:3,rarity:"rare",traitTitle:"",trait:"",description:"A magic wielding goblin.",race:"goblin",image:"/goblins/shaman.png"},thief:{title:"thief",displayTitle:"Thief",points:4,amount:3,rarity:"uncommon",traitTitle:"",trait:"",description:"A quick, elusive but weak goblin.",race:"goblin",image:"/goblins/thief.png"},hobgoblin:{title:"hobgoblin",displayTitle:"Hobgoblin",points:3,amount:3,rarity:"uncommon",traitTitle:"",trait:"",description:"A low ranked goblin.",race:"goblin",image:"/goblins/hobgoblin.png"},bokoblin:{title:"bokoblin",displayTitle:"Bokoblin",points:2,amount:3,rarity:"common",traitTitle:"",trait:"",description:"The weakest of goblins.",race:"goblin",image:"/goblins/bokoblin.png"},elfKing:{title:"elfKing",displayTitle:"Elf King",points:12,amount:1,rarity:"legendary",traitTitle:"Superior Race",trait:"If your hand contains only elves, they will have their points trippled, otherwise doubled! The elf king also prevents the enemy from using the goblin lord's special trait.",description:"The purest, most powerful and respected leader of the elves.",race:"elf",image:"/elves/elf_king.png"},elfChampion:{title:"elfChampion",displayTitle:"Elf Champion",points:10,amount:1,rarity:"epic",traitTitle:"Stand Guard",trait:"The elf champion is always the first elf drawn.",description:"Destined to be the next elf king, this elf champion lost an arm in battle and came back even more fierce.",race:"elf",image:"/elves/elf_champion.png"},darkElf:{title:"darkElf",displayTitle:"Dark Elf",points:7,amount:3,rarity:"amazing",traitTitle:"",trait:"",description:"High ranked powerful elf.",race:"elf",image:"/elves/dark_elf.png"},highElf:{title:"highElf",displayTitle:"High Elf",points:6,amount:3,rarity:"amazing",traitTitle:"",trait:"",description:"An elf in tune with nature, they're quite strong..",race:"elf",image:"/elves/high_elf.png"},nadallen:{title:"nadallen",displayTitle:"Nadallen",points:5,amount:1,rarity:"rare",traitTitle:"Twin Power",trait:"If both Nelladan and Nadallen are in your hand, they both receive +5 bonus points. This effect does not stack with itself or the elf king.",description:"The stronger half of the rare elvan twins.",race:"elf",image:"/elves/nadallen.png"},nelladan:{title:"nelladan",displayTitle:"Nelladan",points:2,amount:4,rarity:"uncommon",traitTitle:"Twin Power",trait:"If both Nelladan and Nadallen are in your hand, they both receive +5 bonus points. This effect does not stack with itself or the elf king.",description:"A rare elvan twin.",race:"elf",image:"/elves/nelladan.png"},woodElf:{title:"woodElf",displayTitle:"Wood Elf",points:4,amount:4,rarity:"uncommon",traitTitle:"",trait:"",description:"An elf who aspires to be a forest dwelling elf.",race:"elf",image:"/elves/wood_elf.png"},forestDweller:{title:"forestDweller",displayTitle:"Wild Elf",points:3,amount:3,rarity:"uncommon",traitTitle:"",trait:"",description:"An elf with no social status.",race:"elf",image:"/elves/forest_dweller.png"},bard:{title:"bard",displayTitle:"Bard",points:1,amount:3,rarity:"common",traitTitle:"",trait:"",description:"A weak musician.",race:"elf",image:"/elves/bard.png"},longbeardLeader:{title:"longbeardLeader",displayTitle:"Longbeard Leader",points:11,amount:1,rarity:"legendary",traitTitle:"Drunken revenge",trait:"If drawn, the next card will be a dwarf. Additionally, gain 5 points for every discarded dwarf.",description:"The bravest and most feared amongst the dwarves.",race:"dwarf",image:"/dwarves/longbeard-leader.gif"},dwarfCommander:{title:"dwarfCommander",displayTitle:"Dwarf Commander",points:8,amount:2,rarity:"epic",traitTitle:"Recruit",trait:"If drawn, the next card will be a dwarf. Has no effect if there are no remaining dwarves.",description:"Right hand man to the longbeard leader himself.",race:"dwarf",image:"/dwarves/dwarf-commander.png"},alchemist:{title:"alchemist",displayTitle:"Alchemist",points:7,amount:2,rarity:"amazing",traitTitle:"",trait:"",description:"A dwarven warrior wielding science as magic.",race:"dwarf",image:"/dwarves/alchemist.png"},dwarfWarrior:{title:"dwarfWarrior",displayTitle:"Dwarf Warrior",points:6,amount:2,rarity:"amazing",traitTitle:"",trait:"",description:"A strong and reliable dwarven warrior.",race:"dwarf",image:"/dwarves/warrior.png"},hunter:{title:"hunter",displayTitle:"Hunter",points:5,amount:3,rarity:"rare",traitTitle:"",trait:"",description:"A strong and capable hunter.",race:"dwarf",image:"/dwarves/hunter.png"},traveller:{title:"traveller",displayTitle:"Traveller",points:4,amount:2,rarity:"uncommon",traitTitle:"",trait:"",description:"An adventurous but feeble dwarf.",race:"dwarf",image:"/dwarves/traveller.png"},miner:{title:"miner",displayTitle:"Miner",points:3,amount:3,rarity:"uncommon",traitTitle:"",trait:"",description:"An average miner, not great in a fight.",race:"dwarf",image:"/dwarves/miner.png"},blacksmith:{title:"blacksmith",displayTitle:"Blacksmith",points:3,amount:2,rarity:"uncommon",traitTitle:"",trait:"",description:"A typical blacksmith, not very strong.",race:"dwarf",image:"/dwarves/blacksmith.png"},hobbit:{title:"hobbit",displayTitle:"Hobbit",points:2,amount:3,rarity:"uncommon",traitTitle:"Half and half.",trait:"Hobbit points count towards both dwarves and humans.",description:"Half dwarf, half human. Although rare and different, they're generally accepted by all dwarves.",race:"dwarf",image:"/dwarves/hobbit.png"},bartender:{title:"bartender",displayTitle:"Bartender",points:1,amount:2,rarity:"common",traitTitle:"",trait:"",description:"A popular dwarf at the local pub, a serious drinker even amongst dwarves..",race:"dwarf",image:"/dwarves/bartender.png"},ai:{title:"ai",displayTitle:"A.I.",points:11,amount:1,rarity:"legendary",traitTitle:"Binary Manipulator",trait:"ALL bots will receive +2 points, effectively quarantining viruses. Additionally, A.I. will hack all bots and steal their points.",description:"The core of the modern bot society, excels in probability computation and hacking.",race:"bot",image:"/bots/ai.png"},protectron:{title:"protectron",displayTitle:"Protectron",points:9,amount:2,rarity:"epic",traitTitle:"Antivirus",trait:"Reprograms viruses into helpful programs, setting their point value to 6. Protectron will also receive +1 point for every reprogrammed virus.",description:"The most advanced battle bot and previous leader of the bots until A.I. took over, now second in command.",race:"bot",image:"/bots/protectron.png"},sawBot:{title:"sawBot",displayTitle:"Sawbot-3000",points:7,amount:4,rarity:"rare",traitTitle:"",trait:"",description:"A bot designed to kill humans and trees, but mostly humans, beware.",race:"bot",image:"/bots/saw-bot.png"},faeBot:{title:"faeBot",displayTitle:"Fae Bot",points:6,amount:3,rarity:"amazing",traitTitle:"",trait:"",description:"A bot created as a gift to the elves as a peace treaty.",race:"bot",image:"/bots/fae-bot.png"},killBot:{title:"killBot",displayTitle:"Kill Bot",points:5,amount:4,rarity:"rare",traitTitle:"",trait:"",description:"An aggressive bot, known to attack on sight.",race:"bot",image:"/bots/kill-bot.png"},incuBot:{title:"incuBot",displayTitle:"Incu Bot",points:2,amount:4,rarity:"uncommon",traitTitle:"",trait:"",description:"A weak incubator bot used to repair small bots.",race:"bot",image:"/bots/incu-bot.png"},virus:{title:"virus",displayTitle:"Virus",points:-2,amount:6,rarity:"common",traitTitle:"",trait:"",description:"A common computer virus, can be reprogrammed by protectron or quarantined A.I.",race:"bot",image:"/bots/virus.png"},dreamDestroyer:{title:"dreamDestroyer",displayTitle:"Dream Destroyer",points:12,amount:1,rarity:"legendary",traitTitle:"ðŸ¤¬Roid RageðŸ¤¬",trait:"All of your beasts are worth 12 points.",description:"The fiercest creature in the animal kingdom.",race:"beast",image:"/beasts/dream-destroyer.gif"},rhino:{title:"rhino",displayTitle:"Rhinestone",points:10,amount:3,rarity:"amazing",traitTitle:"Thick skin",trait:"Blocks all endgame trap cards.",description:"A feared beast at the top of the food chain.",race:"beast",image:"/beasts/rhino.png"},bear:{title:"bear",displayTitle:"Theo Thunderpaw",points:9,amount:3,rarity:"amazing",traitTitle:"",trait:"",description:"A powerful top level beast, matched by few.",race:"beast",image:"/beasts/bear.png"},lion:{title:"lion",displayTitle:"Goldenmane",points:8,amount:3,rarity:"rare",traitTitle:"",trait:"",description:"The original kings of the jungle.",race:"beast",image:"/beasts/lion.png"},panther:{title:"panther",displayTitle:"Panth Nocturna",points:7,amount:3,rarity:"rare",traitTitle:"",trait:"",description:"A quick and efficient beast, known to stalk it's prey before pouncing.",race:"beast",image:"/beasts/panther.png"},wolf:{title:"wolf",displayTitle:"Alpha Wolfbane",points:6,amount:3,rarity:"rare",traitTitle:"",trait:"",description:"A lone wolf with the strength of a pack.",race:"beast",image:"/beasts/wolf.png"},fox:{title:"fox",displayTitle:"Finn Foxglove",points:5,amount:3,rarity:"uncommon",traitTitle:"",trait:"",description:"A fox on steroids.",race:"beast",image:"/beasts/fox.png"},dog:{title:"dog",displayTitle:"Pawl Barkington",points:4,amount:3,rarity:"uncommon",traitTitle:"",trait:"",description:"More bark than bite, recognized as the weakest beast.",race:"beast",image:"/beasts/dog.png"},xenoGuard:{title:"xenoGuard",displayTitle:"Xeno Guard",points:15,amount:3,rarity:"epic",traitTitle:"Antibodies",trait:"Blocks all ALLY end game boost cards.",description:"The xenoGuard is a highly intelligent and powerful creature, feared by many. It is the most feared creature in the xeno hive, tasked with the safety of the xeno overlord.",race:"xeno",image:"/xenos/xeno_guard.png"},abyssolarian:{title:"abyssolarian",displayTitle:"Abyssolarian",points:10,amount:3,rarity:"epic",traitTitle:"",trait:"",description:"A feral xeno born in the darkest depths of Xenopp. Produces light to lure prey.",race:"xeno",image:"/xenos/abyssolarian.png"},warpstalker:{title:"warpstalker",displayTitle:"Warpstalker",points:0,amount:3,rarity:"epic",traitTitle:"Hive Resonance",trait:"When drawn, a random point value (7-13 inclusive) will be chosen, then applied to ALL ally warpstalkers.",description:"A xeno capable of riftwalking, similar to teleporting over short distances. Sometimes riftwalks to the wrong place.",race:"xeno",image:"/xenos/xeno_placeholder.png"},voidRunner:{title:"voidRunner",displayTitle:"Void Runner",points:0,amount:3,rarity:"epic",traitTitle:"Hive Unity",trait:"When drawn, ALL ally void Runners' points are set to the number of turns passed.",description:"A non sentient xeno who's only purpose is to run and grow stronger. If it ever stops it will die.",race:"xeno",image:"/xenos/xeno_placeholder.png"},nebulite:{title:"nebulite",displayTitle:"Nebulite",points:0,amount:3,rarity:"epic",traitTitle:"Hive Blossom",trait:"Buffs all xenos by +4, does not apply to self and does not stack with other Nebulites.",description:"Artificially created xenos incapable of speech.",race:"xeno",image:"/xenos/xeno_placeholder.png"},celenial:{title:"celenial",displayTitle:"Celenial",points:5,amount:3,rarity:"amazing",traitTitle:"",trait:"",description:"The lowest of the xenos, often mistreated. Excluding the nebulites, celenials are the weakest of the xenos, often used as bait for the abyssolarians.",race:"xeno",image:"/xenos/xeno_placeholder.png"},chastity:{title:"chastity",displayTitle:"Chastity",points:0,amount:1,rarity:"",traitTitle:"Purity",trait:"Active immediately even if discarded. Blocks all trap cards except Corruption, only one exists in deck.",description:"",race:"boost",image:"/boosts/rainbow_boost.png"},rejuvenate:{title:"rejuvenate",displayTitle:"Rejuvenate",points:0,amount:2,rarity:"",traitTitle:"Rejuvenation",trait:"If drawn, player gains 10 points at the end of the game even after this card is discarded",description:"",race:"boost",image:"/boosts/blue_boost.png"},dwarvenCall:{title:"dwarvenCall",displayTitle:"Dwarven Call",points:0,amount:2,rarity:"",traitTitle:"Last Call",trait:"If drawn, next card drawn is a dwarf. If no dwarves are left, draw random card.",description:"",race:"boost",image:"/boosts/ale.png"},charge:{title:"charge",displayTitle:"Charge",points:0,amount:2,rarity:"",traitTitle:"Recharge",trait:"Only affects bots and humans. If drawn, at the end of the game, gain points equal to (amount of turns - turns passed since drawn * charge cards) even if discarded.",description:"",race:"boost",image:"/boosts/charge.png"},corruption:{title:"corruption",displayTitle:"Corruption",points:0,amount:1,rarity:"",traitTitle:"Impurity",trait:"Active immediately even if discarded. Blocks all boost cards except Chastity, only one exists in deck.",description:"",race:"trap",image:"/boosts/rainbow_boost.png"},sap:{title:"sap",displayTitle:"Sap",points:0,amount:2,rarity:"",traitTitle:"Sapped",trait:"If drawn, player loses 10 points at the end of the game even after this card is discarded.",description:"",race:"trap",image:"/traps/red_trap.png"},xenophobia:{title:"xenophobia",displayTitle:"Xenophobia",points:0,amount:1,rarity:"",traitTitle:"Dissociate",trait:"If drawn, xenos lose 10 points at the end of the game even after this card is discarded.",description:"",race:"trap",image:"/traps/xeno_trap.png"},infect:{title:"infect",displayTitle:"Infect",points:0,amount:2,rarity:"",traitTitle:"Infection",trait:"Does not affect bots. If drawn, at the end of the game, lose points equal to (amount of turns - turns passed since drawn * infect cards) even if discarded.",description:"",race:"trap",image:"/traps/green_trap.png"},lost:{title:"lost",displayTitle:"Lost",points:0,amount:2,rarity:"",traitTitle:"Lost",trait:"If drawn, lose a turn because this card is useless.",description:"",race:"trap",image:"/traps/white_trap.png"},switcharoo:{title:"switcharoo",displayTitle:"Switcharoo",points:0,amount:2,rarity:"",traitTitle:"Swap Swap",trait:"When discarded, players will swap hands unless player has over 6 cards or gobbledegook declared. For special xeno cards(e.g. Void Runner) they will receive the new player's point value for that card, not the previous value.",description:"",race:"neutral",image:"/neutrals/switcharoo.png"},echo:{title:"echo",displayTitle:"Echo",points:0,amount:3,rarity:"",traitTitle:"Echo Echo",trait:"If drawn, player can draw until they have 8 cards. Discarding echos prolongs this, when you discard a non echo card, you will need to continue discarding down to 5 cards.",description:"",race:"neutral",image:"/neutrals/echo.png"},ticktock:{title:"ticktock",displayTitle:"Ticktock",points:0,amount:2,rarity:"",traitTitle:"Chrono Charge",trait:"If drawn, adds 3 turns.",description:"",race:"neutral",image:"/neutrals/ticktock.png"},vision:{title:"vision",displayTitle:"Vision",points:0,amount:3,rarity:"",traitTitle:"Envision",trait:"If drawn, see the opponents cards for 1 turn.",description:"",race:"neutral",image:"/neutrals/vision.png"}}),Bo=Be(["dreamDestroyer","rhino","rhino","rhino","bear","bear","bear","lion","lion","lion","panther","panther","panther","wolf","wolf","wolf","fox","fox","fox","dog","dog","dog"]),Po=Be(["ai","protectron","protectron","faeBot","faeBot","faeBot","sawBot","sawBot","sawBot","sawBot","killBot","killBot","killBot","killBot","incuBot","incuBot","incuBot","incuBot","virus","virus","virus","virus","virus","virus"]),Ro=Be(["longbeardLeader","dwarfCommander","dwarfCommander","alchemist","alchemist","dwarfWarrior","dwarfWarrior","hunter","hunter","hunter","miner","miner","miner","blacksmith","blacksmith","traveller","traveller","bartender","bartender","hobbit","hobbit","hobbit"]),Oo=Be(["elfKing","elfChampion","darkElf","darkElf","highElf","highElf","highElf","nadallen","nelladan","nelladan","nelladan","nelladan","woodElf","woodElf","woodElf","forestDweller","forestDweller","forestDweller","bard","bard","bard"]),So=Be(["goblinLord","warchief","troll","troll","troll","shaman","shaman","shaman","thief","thief","thief","hobgoblin","hobgoblin","hobgoblin","bokoblin","bokoblin","bokoblin","goblinLordsMark"]),Do=Be(["emperor","commander","commander","assassin","assassin","assassin","knight","knight","knight","knight","soldier","soldier","soldier","soldier","scout","scout","scout","scout","villager","villager","villager2","villager2"]),Lo=Be(["xenoGuard","xenoGuard","xenoGuard","abyssolarian","abyssolarian","abyssolarian","warpstalker","warpstalker","warpstalker","voidRunner","voidRunner","voidRunner","celenial","celenial","celenial","nebulite","nebulite","nebulite"]),No=Be(["chastity","rejuvenate","rejuvenate","charge","charge","dwarvenCall","dwarvenCall"]),qo=Be(["corruption","sap","sap","infect","infect","lost","lost","xenophobia"]),Io=Be(["echo","echo","switcharoo","ticktock","ticktock","vision","vision"]);function Mo(t){let e,n,i,r,s;const o=t[5].default,c=rn(o,t,t[4],null);return{c(){e=y("button"),c&&c.c(),k(e,"class",n=t[0]+" "+t[1]+" svelte-1q8ybnr")},m(u,d){W(u,e,d),c&&c.m(e,null),i=!0,r||(s=cn(e,"click",t[8]),r=!0)},p(u,d){c&&c.p&&(!i||d&16)&&an(c,o,u,u[4],i?on(o,u[4],d,null):ln(u[4]),null),(!i||d&3&&n!==(n=u[0]+" "+u[1]+" svelte-1q8ybnr"))&&k(e,"class",n)},i(u){i||(v(c,u),i=!0)},o(u){P(c,u),i=!1},d(u){u&&V(e),c&&c.d(u),r=!1,s()}}}function zo(t){let e,n,i,r,s;const o=t[5].default,c=rn(o,t,t[4],null);return{c(){e=y("button"),c&&c.c(),k(e,"class",n="round "+t[0]+" svelte-1q8ybnr")},m(u,d){W(u,e,d),c&&c.m(e,null),i=!0,r||(s=cn(e,"click",t[7]),r=!0)},p(u,d){c&&c.p&&(!i||d&16)&&an(c,o,u,u[4],i?on(o,u[4],d,null):ln(u[4]),null),(!i||d&1&&n!==(n="round "+u[0]+" svelte-1q8ybnr"))&&k(e,"class",n)},i(u){i||(v(c,u),i=!0)},o(u){P(c,u),i=!1},d(u){u&&V(e),c&&c.d(u),r=!1,s()}}}function Uo(t){let e,n,i,r,s;const o=t[5].default,c=rn(o,t,t[4],null);return{c(){e=y("button"),c&&c.c(),k(e,"type","submit"),k(e,"class",n=t[0]+" "+t[1]+" svelte-1q8ybnr")},m(u,d){W(u,e,d),c&&c.m(e,null),i=!0,r||(s=cn(e,"click",t[6]),r=!0)},p(u,d){c&&c.p&&(!i||d&16)&&an(c,o,u,u[4],i?on(o,u[4],d,null):ln(u[4]),null),(!i||d&3&&n!==(n=u[0]+" "+u[1]+" svelte-1q8ybnr"))&&k(e,"class",n)},i(u){i||(v(c,u),i=!0)},o(u){P(c,u),i=!1},d(u){u&&V(e),c&&c.d(u),r=!1,s()}}}function Ho(t){let e,n,i,r;const s=[Uo,zo,Mo],o=[];function c(u,d){return u[3]?0:u[2]?1:2}return e=c(t),n=o[e]=s[e](t),{c(){n.c(),i=zt()},m(u,d){o[e].m(u,d),W(u,i,d),r=!0},p(u,[d]){let g=e;e=c(u),e===g?o[e].p(u,d):(we(),P(o[g],1,1,()=>{o[g]=null}),ve(),n=o[e],n?n.p(u,d):(n=o[e]=s[e](u),n.c()),v(n,1),n.m(i.parentNode,i))},i(u){r||(v(n),r=!0)},o(u){P(n),r=!1},d(u){o[e].d(u),u&&V(i)}}}function Vo(t,e,n){let{$$slots:i={},$$scope:r}=e,{customClasses:s=""}=e,{bgColor:o=""}=e,{round:c=!1}=e,{btnSubmit:u=!1}=e;function d(w){Rn.call(this,t,w)}function g(w){Rn.call(this,t,w)}function _(w){Rn.call(this,t,w)}return t.$$set=w=>{"customClasses"in w&&n(0,s=w.customClasses),"bgColor"in w&&n(1,o=w.bgColor),"round"in w&&n(2,c=w.round),"btnSubmit"in w&&n(3,u=w.btnSubmit),"$$scope"in w&&n(4,r=w.$$scope)},[s,o,c,u,r,i,d,g,_]}class wi extends it{constructor(e){super(),nt(this,e,Vo,Ho,xe,{customClasses:0,bgColor:1,round:2,btnSubmit:3})}}function Fo(t){let e,n,i,r,s,o=us(t[0])+"",c,u,d,g,_,w,B,T,S,b,q,K,G,Z,ye,D,X,H,Y,R,x,me,U,Pe,Q,ie=t[7]&&cs(t);return{c(){e=y("div"),n=y("img"),r=E(),s=y("p"),c=L(o),d=E(),g=y("p"),_=L(t[4]),B=E(),T=y("p"),S=L(t[2]),q=E(),K=y("div"),G=y("div"),Z=y("p"),ye=L(t[6]),D=E(),ie&&ie.c(),X=E(),H=y("p"),Y=L(t[7]),k(n,"class","card-img svelte-1vr6xd0"),Ki(n.src,i=t[3])||k(n,"src",i),k(n,"alt","img of card"),k(s,"class",u="race "+t[0]+"-race svelte-1vr6xd0"),k(g,"class",w="points "+t[0]+"-race svelte-1vr6xd0"),k(T,"class",b="card-title "+t[0]+"-title svelte-1vr6xd0"),k(Z,"class","description svelte-1vr6xd0"),k(G,"class","bottom-section-wrapper svelte-1vr6xd0"),k(K,"class","card-bottom-section svelte-1vr6xd0"),k(e,"class",R="card bg-"+t[0]+(t[5]==="legendary"?"-rare":"")+" svelte-1vr6xd0")},m($,I){W($,e,I),h(e,n),h(e,r),h(e,s),h(s,c),h(e,d),h(e,g),h(g,_),h(e,B),h(e,T),h(T,S),h(e,q),h(e,K),h(K,G),h(G,Z),h(Z,ye),h(G,D),ie&&ie.m(G,null),h(G,X),h(G,H),h(H,Y),U=!0,Pe||(Q=cn(e,"click",t[9]),Pe=!0)},p($,I){(!U||I&8&&!Ki(n.src,i=$[3]))&&k(n,"src",i),(!U||I&1)&&o!==(o=us($[0])+"")&&te(c,o),(!U||I&1&&u!==(u="race "+$[0]+"-race svelte-1vr6xd0"))&&k(s,"class",u),(!U||I&16)&&te(_,$[4]),(!U||I&1&&w!==(w="points "+$[0]+"-race svelte-1vr6xd0"))&&k(g,"class",w),(!U||I&4)&&te(S,$[2]),(!U||I&1&&b!==(b="card-title "+$[0]+"-title svelte-1vr6xd0"))&&k(T,"class",b),(!U||I&64)&&te(ye,$[6]),$[7]?ie?ie.p($,I):(ie=cs($),ie.c(),ie.m(G,X)):ie&&(ie.d(1),ie=null),(!U||I&128)&&te(Y,$[7]),(!U||I&33&&R!==(R="card bg-"+$[0]+($[5]==="legendary"?"-rare":"")+" svelte-1vr6xd0"))&&k(e,"class",R)},i($){U||(Ze(()=>{U&&(me&&me.end(1),x=fr(e,gr,{x:100}),x.start())}),U=!0)},o($){x&&x.invalidate(),me=hr(e,Un,{}),U=!1},d($){$&&V(e),ie&&ie.d(),$&&me&&me.end(),Pe=!1,Q()}}}function Wo(t){let e,n,i,r,s,o;return{c(){e=y("div"),k(e,"class","card facedown bottom-deck svelte-1vr6xd0")},m(c,u){W(c,e,u),r=!0,s||(o=cn(e,"click",t[11]),s=!0)},p:J,i(c){r||(Ze(()=>{r&&(i&&i.end(1),n=fr(e,gr,{x:100}),n.start())}),r=!0)},o(c){n&&n.invalidate(),i=hr(e,Un,{}),r=!1},d(c){c&&V(e),c&&i&&i.end(),s=!1,o()}}}function cs(t){let e,n;return{c(){e=y("p"),n=L(t[8]),k(e,"class","special-trait svelte-1vr6xd0")},m(i,r){W(i,e,r),h(e,n)},p(i,r){r&256&&te(n,i[8])},d(i){i&&V(e)}}}function $o(t){let e,n,i,r;const s=[Wo,Fo],o=[];function c(u,d){return u[1]?1:0}return e=c(t),n=o[e]=s[e](t),{c(){n.c(),i=zt()},m(u,d){o[e].m(u,d),W(u,i,d),r=!0},p(u,[d]){let g=e;e=c(u),e===g?o[e].p(u,d):(we(),P(o[g],1,1,()=>{o[g]=null}),ve(),n=o[e],n?n.p(u,d):(n=o[e]=s[e](u),n.c()),v(n,1),n.m(i.parentNode,i))},i(u){r||(v(n),r=!0)},o(u){P(n),r=!1},d(u){o[e].d(u),u&&V(i)}}}function us(t){const e=t[0].toUpperCase(),n=t.slice(1);return e+n}function jo(t,e,n){let{faceUp:i=!0}=e,{displayTitle:r="Title here..."}=e,{title:s=""}=e,{img:o="/card-bg.png"}=e,{points:c=0}=e,{race:u="none"}=e,{rarity:d="common"}=e,{description:g=""}=e,{trait:_=""}=e,{traitTitle:w=""}=e;const B=Gr();function T(b){B("cardClick",{title:s,points:c,race:u,trait:_})}function S(b){Rn.call(this,t,b)}return t.$$set=b=>{"faceUp"in b&&n(1,i=b.faceUp),"displayTitle"in b&&n(2,r=b.displayTitle),"title"in b&&n(10,s=b.title),"img"in b&&n(3,o=b.img),"points"in b&&n(4,c=b.points),"race"in b&&n(0,u=b.race),"rarity"in b&&n(5,d=b.rarity),"description"in b&&n(6,g=b.description),"trait"in b&&n(7,_=b.trait),"traitTitle"in b&&n(8,w=b.traitTitle)},t.$$.update=()=>{t.$$.dirty&1&&u==="goblin-ish"&&n(0,u="goblin")},[u,i,r,o,c,d,g,_,w,T,s,S]}class Ke extends it{constructor(e){super(),nt(this,e,jo,$o,xe,{faceUp:1,displayTitle:2,title:10,img:3,points:4,race:0,rarity:5,description:6,trait:7,traitTitle:8})}}function Ko(t){let e;return{c(){e=y("div"),k(e,"class","spinner svelte-beofvy")},m(n,i){W(n,e,i)},p:J,i:J,o:J,d(n){n&&V(e)}}}class Go extends it{constructor(e){super(),nt(this,e,null,Ko,xe,{})}}const Je=Object.create(null);Je.open="0";Je.close="1";Je.ping="2";Je.pong="3";Je.message="4";Je.upgrade="5";Je.noop="6";const Sn=Object.create(null);Object.keys(Je).forEach(t=>{Sn[Je[t]]=t});const li={type:"error",data:"parser error"},mr=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",br=typeof ArrayBuffer=="function",_r=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,vi=({type:t,data:e},n,i)=>mr&&e instanceof Blob?n?i(e):fs(e,i):br&&(e instanceof ArrayBuffer||_r(e))?n?i(e):fs(new Blob([e]),i):i(Je[t]+(e||"")),fs=(t,e)=>{const n=new FileReader;return n.onload=function(){const i=n.result.split(",")[1];e("b"+(i||""))},n.readAsDataURL(t)};function hs(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let ni;function Yo(t,e){if(mr&&t.data instanceof Blob)return t.data.arrayBuffer().then(hs).then(e);if(br&&(t.data instanceof ArrayBuffer||_r(t.data)))return e(hs(t.data));vi(t,!1,n=>{ni||(ni=new TextEncoder),e(ni.encode(n))})}const ds="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",nn=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<ds.length;t++)nn[ds.charCodeAt(t)]=t;const Xo=t=>{let e=t.length*.75,n=t.length,i,r=0,s,o,c,u;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const d=new ArrayBuffer(e),g=new Uint8Array(d);for(i=0;i<n;i+=4)s=nn[t.charCodeAt(i)],o=nn[t.charCodeAt(i+1)],c=nn[t.charCodeAt(i+2)],u=nn[t.charCodeAt(i+3)],g[r++]=s<<2|o>>4,g[r++]=(o&15)<<4|c>>2,g[r++]=(c&3)<<6|u&63;return d},Jo=typeof ArrayBuffer=="function",ki=(t,e)=>{if(typeof t!="string")return{type:"message",data:yr(t,e)};const n=t.charAt(0);return n==="b"?{type:"message",data:Qo(t.substring(1),e)}:Sn[n]?t.length>1?{type:Sn[n],data:t.substring(1)}:{type:Sn[n]}:li},Qo=(t,e)=>{if(Jo){const n=Xo(t);return yr(n,e)}else return{base64:!0,data:t}},yr=(t,e)=>{switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},wr=String.fromCharCode(30),Zo=(t,e)=>{const n=t.length,i=new Array(n);let r=0;t.forEach((s,o)=>{vi(s,!1,c=>{i[o]=c,++r===n&&e(i.join(wr))})})},xo=(t,e)=>{const n=t.split(wr),i=[];for(let r=0;r<n.length;r++){const s=ki(n[r],e);if(i.push(s),s.type==="error")break}return i};function ea(){return new TransformStream({transform(t,e){Yo(t,n=>{const i=n.length;let r;if(i<126)r=new Uint8Array(1),new DataView(r.buffer).setUint8(0,i);else if(i<65536){r=new Uint8Array(3);const s=new DataView(r.buffer);s.setUint8(0,126),s.setUint16(1,i)}else{r=new Uint8Array(9);const s=new DataView(r.buffer);s.setUint8(0,127),s.setBigUint64(1,BigInt(i))}t.data&&typeof t.data!="string"&&(r[0]|=128),e.enqueue(r),e.enqueue(n)})}})}let ii;function En(t){return t.reduce((e,n)=>e+n.length,0)}function An(t,e){if(t[0].length===e)return t.shift();const n=new Uint8Array(e);let i=0;for(let r=0;r<e;r++)n[r]=t[0][i++],i===t[0].length&&(t.shift(),i=0);return t.length&&i<t[0].length&&(t[0]=t[0].slice(i)),n}function ta(t,e){ii||(ii=new TextDecoder);const n=[];let i=0,r=-1,s=!1;return new TransformStream({transform(o,c){for(n.push(o);;){if(i===0){if(En(n)<1)break;const u=An(n,1);s=(u[0]&128)===128,r=u[0]&127,r<126?i=3:r===126?i=1:i=2}else if(i===1){if(En(n)<2)break;const u=An(n,2);r=new DataView(u.buffer,u.byteOffset,u.length).getUint16(0),i=3}else if(i===2){if(En(n)<8)break;const u=An(n,8),d=new DataView(u.buffer,u.byteOffset,u.length),g=d.getUint32(0);if(g>Math.pow(2,53-32)-1){c.enqueue(li);break}r=g*Math.pow(2,32)+d.getUint32(4),i=3}else{if(En(n)<r)break;const u=An(n,r);c.enqueue(ki(s?u:ii.decode(u),e)),i=0}if(r===0||r>t){c.enqueue(li);break}}}})}const vr=4;function ke(t){if(t)return na(t)}function na(t){for(var e in ke.prototype)t[e]=ke.prototype[e];return t}ke.prototype.on=ke.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};ke.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this};ke.prototype.off=ke.prototype.removeListener=ke.prototype.removeAllListeners=ke.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var i,r=0;r<n.length;r++)if(i=n[r],i===e||i.fn===e){n.splice(r,1);break}return n.length===0&&delete this._callbacks["$"+t],this};ke.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(n){n=n.slice(0);for(var i=0,r=n.length;i<r;++i)n[i].apply(this,e)}return this};ke.prototype.emitReserved=ke.prototype.emit;ke.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};ke.prototype.hasListeners=function(t){return!!this.listeners(t).length};const We=(()=>typeof self<"u"?self:typeof window<"u"?window:Function("return this")())();function kr(t,...e){return e.reduce((n,i)=>(t.hasOwnProperty(i)&&(n[i]=t[i]),n),{})}const ia=We.setTimeout,sa=We.clearTimeout;function Vn(t,e){e.useNativeTimers?(t.setTimeoutFn=ia.bind(We),t.clearTimeoutFn=sa.bind(We)):(t.setTimeoutFn=We.setTimeout.bind(We),t.clearTimeoutFn=We.clearTimeout.bind(We))}const ra=1.33;function oa(t){return typeof t=="string"?aa(t):Math.ceil((t.byteLength||t.size)*ra)}function aa(t){let e=0,n=0;for(let i=0,r=t.length;i<r;i++)e=t.charCodeAt(i),e<128?n+=1:e<2048?n+=2:e<55296||e>=57344?n+=3:(i++,n+=4);return n}function la(t){let e="";for(let n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e}function ca(t){let e={},n=t.split("&");for(let i=0,r=n.length;i<r;i++){let s=n[i].split("=");e[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return e}class ua extends Error{constructor(e,n,i){super(e),this.description=n,this.context=i,this.type="TransportError"}}class Ti extends ke{constructor(e){super(),this.writable=!1,Vn(this,e),this.opts=e,this.query=e.query,this.socket=e.socket}onError(e,n,i){return super.emitReserved("error",new ua(e,n,i)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const n=ki(e,this.socket.binaryType);this.onPacket(n)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,n={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const n=la(e);return n.length?"?"+n:""}}const Tr="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),ci=64,fa={};let ps=0,Bn=0,gs;function ms(t){let e="";do e=Tr[t%ci]+e,t=Math.floor(t/ci);while(t>0);return e}function Cr(){const t=ms(+new Date);return t!==gs?(ps=0,gs=t):t+"."+ms(ps++)}for(;Bn<ci;Bn++)fa[Tr[Bn]]=Bn;let Er=!1;try{Er=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const ha=Er;function Ar(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||ha))return new XMLHttpRequest}catch{}if(!e)try{return new We[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function da(){}const pa=function(){return new Ar({xdomain:!1}).responseType!=null}();class ga extends Ti{constructor(e){if(super(e),this.polling=!1,typeof location<"u"){const i=location.protocol==="https:";let r=location.port;r||(r=i?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||r!==e.port}const n=e&&e.forceBase64;this.supportsBinary=pa&&!n,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";const n=()=>{this.readyState="paused",e()};if(this.polling||!this.writable){let i=0;this.polling&&(i++,this.once("pollComplete",function(){--i||n()})),this.writable||(i++,this.once("drain",function(){--i||n()}))}else n()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const n=i=>{if(this.readyState==="opening"&&i.type==="open"&&this.onOpen(),i.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(i)};xo(e,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,Zo(e,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=Cr()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(e,n)}request(e={}){return Object.assign(e,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new Xe(this.uri(),e)}doWrite(e,n){const i=this.request({method:"POST",data:e});i.on("success",n),i.on("error",(r,s)=>{this.onError("xhr post error",r,s)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(n,i)=>{this.onError("xhr poll error",n,i)}),this.pollXhr=e}}class Xe extends ke{constructor(e,n){super(),Vn(this,n),this.opts=n,this.method=n.method||"GET",this.uri=e,this.data=n.data!==void 0?n.data:null,this.create()}create(){var e;const n=kr(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this.opts.xd;const i=this.xhr=new Ar(n);try{i.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){i.setDisableHeaderCheck&&i.setDisableHeaderCheck(!0);for(let r in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(r)&&i.setRequestHeader(r,this.opts.extraHeaders[r])}}catch{}if(this.method==="POST")try{i.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{i.setRequestHeader("Accept","*/*")}catch{}(e=this.opts.cookieJar)===null||e===void 0||e.addCookies(i),"withCredentials"in i&&(i.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(i.timeout=this.opts.requestTimeout),i.onreadystatechange=()=>{var r;i.readyState===3&&((r=this.opts.cookieJar)===null||r===void 0||r.parseCookies(i)),i.readyState===4&&(i.status===200||i.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof i.status=="number"?i.status:0)},0))},i.send(this.data)}catch(r){this.setTimeoutFn(()=>{this.onError(r)},0);return}typeof document<"u"&&(this.index=Xe.requestsCount++,Xe.requests[this.index]=this)}onError(e){this.emitReserved("error",e,this.xhr),this.cleanup(!0)}cleanup(e){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=da,e)try{this.xhr.abort()}catch{}typeof document<"u"&&delete Xe.requests[this.index],this.xhr=null}}onLoad(){const e=this.xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}Xe.requestsCount=0;Xe.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",bs);else if(typeof addEventListener=="function"){const t="onpagehide"in We?"pagehide":"unload";addEventListener(t,bs,!1)}}function bs(){for(let t in Xe.requests)Xe.requests.hasOwnProperty(t)&&Xe.requests[t].abort()}const Ci=(()=>typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,n)=>n(e,0))(),Pn=We.WebSocket||We.MozWebSocket,_s=!0,ma="arraybuffer",ys=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class ba extends Ti{constructor(e){super(e),this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const e=this.uri(),n=this.opts.protocols,i=ys?{}:kr(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(i.headers=this.opts.extraHeaders);try{this.ws=_s&&!ys?n?new Pn(e,n):new Pn(e):new Pn(e,n,i)}catch(r){return this.emitReserved("error",r)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const i=e[n],r=n===e.length-1;vi(i,this.supportsBinary,s=>{const o={};try{_s&&this.ws.send(s)}catch{}r&&Ci(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=Cr()),this.supportsBinary||(n.b64=1),this.createUri(e,n)}check(){return!!Pn}}class _a extends Ti{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(e=>{const n=ta(Number.MAX_SAFE_INTEGER,this.socket.binaryType),i=e.readable.pipeThrough(n).getReader(),r=ea();r.readable.pipeTo(e.writable),this.writer=r.writable.getWriter();const s=()=>{i.read().then(({done:c,value:u})=>{c||(this.onPacket(u),s())}).catch(c=>{})};s();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this.writer.write(o).then(()=>this.onOpen())})}))}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const i=e[n],r=n===e.length-1;this.writer.write(i).then(()=>{r&&Ci(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this.transport)===null||e===void 0||e.close()}}const ya={websocket:ba,webtransport:_a,polling:ga},wa=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,va=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function ui(t){if(t.length>2e3)throw"URI too long";const e=t,n=t.indexOf("["),i=t.indexOf("]");n!=-1&&i!=-1&&(t=t.substring(0,n)+t.substring(n,i).replace(/:/g,";")+t.substring(i,t.length));let r=wa.exec(t||""),s={},o=14;for(;o--;)s[va[o]]=r[o]||"";return n!=-1&&i!=-1&&(s.source=e,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=ka(s,s.path),s.queryKey=Ta(s,s.query),s}function ka(t,e){const n=/\/{2,9}/g,i=e.replace(n,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&i.splice(0,1),e.slice(-1)=="/"&&i.splice(i.length-1,1),i}function Ta(t,e){const n={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(i,r,s){r&&(n[r]=s)}),n}let Br=class Nt extends ke{constructor(e,n={}){super(),this.binaryType=ma,this.writeBuffer=[],e&&typeof e=="object"&&(n=e,e=null),e?(e=ui(e),n.hostname=e.host,n.secure=e.protocol==="https"||e.protocol==="wss",n.port=e.port,e.query&&(n.query=e.query)):n.host&&(n.hostname=ui(n.host).host),Vn(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=n.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=ca(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(e){const n=Object.assign({},this.opts.query);n.EIO=vr,n.transport=e,this.id&&(n.sid=this.id);const i=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new ya[e](i)}open(){let e;if(this.opts.rememberUpgrade&&Nt.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)e="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else e=this.transports[0];this.readyState="opening";try{e=this.createTransport(e)}catch{this.transports.shift(),this.open();return}e.open(),this.setTransport(e)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",n=>this.onClose("transport close",n))}probe(e){let n=this.createTransport(e),i=!1;Nt.priorWebsocketSuccess=!1;const r=()=>{i||(n.send([{type:"ping",data:"probe"}]),n.once("packet",_=>{if(!i)if(_.type==="pong"&&_.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;Nt.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{i||this.readyState!=="closed"&&(g(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const w=new Error("probe error");w.transport=n.name,this.emitReserved("upgradeError",w)}}))};function s(){i||(i=!0,g(),n.close(),n=null)}const o=_=>{const w=new Error("probe error: "+_);w.transport=n.name,s(),this.emitReserved("upgradeError",w)};function c(){o("transport closed")}function u(){o("socket closed")}function d(_){n&&_.name!==n.name&&s()}const g=()=>{n.removeListener("open",r),n.removeListener("error",o),n.removeListener("close",c),this.off("close",u),this.off("upgrading",d)};n.once("open",r),n.once("error",o),n.once("close",c),this.once("close",u),this.once("upgrading",d),this.upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{i||n.open()},200):n.open()}onOpen(){if(this.readyState="open",Nt.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let e=0;const n=this.upgrades.length;for(;e<n;e++)this.probe(this.upgrades[e])}}onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),this.resetPingTimeout(),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const n=new Error("server error");n.code=e.data,this.onError(n);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this.getWritablePackets();this.transport.send(e),this.prevBufferLen=e.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let i=0;i<this.writeBuffer.length;i++){const r=this.writeBuffer[i].data;if(r&&(n+=oa(r)),i>0&&n>this.maxPayload)return this.writeBuffer.slice(0,i);n+=2}return this.writeBuffer}write(e,n,i){return this.sendPacket("message",e,n,i),this}send(e,n,i){return this.sendPacket("message",e,n,i),this}sendPacket(e,n,i,r){if(typeof n=="function"&&(r=n,n=void 0),typeof i=="function"&&(r=i,i=null),this.readyState==="closing"||this.readyState==="closed")return;i=i||{},i.compress=i.compress!==!1;const s={type:e,data:n,options:i};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),r&&this.once("flush",r),this.flush()}close(){const e=()=>{this.onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),e()},i=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?i():e()}):this.upgrading?i():e()),this}onError(e){Nt.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}onClose(e,n){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",e,n),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(e){const n=[];let i=0;const r=e.length;for(;i<r;i++)~this.transports.indexOf(e[i])&&n.push(e[i]);return n}};Br.protocol=vr;function Ca(t,e="",n){let i=t;n=n||typeof location<"u"&&location,t==null&&(t=n.protocol+"//"+n.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=n.protocol+t:t=n.host+t),/^(https?|wss?):\/\//.test(t)||(typeof n<"u"?t=n.protocol+"//"+t:t="https://"+t),i=ui(t)),i.port||(/^(http|ws)$/.test(i.protocol)?i.port="80":/^(http|ws)s$/.test(i.protocol)&&(i.port="443")),i.path=i.path||"/";const s=i.host.indexOf(":")!==-1?"["+i.host+"]":i.host;return i.id=i.protocol+"://"+s+":"+i.port+e,i.href=i.protocol+"://"+s+(n&&n.port===i.port?"":":"+i.port),i}const Ea=typeof ArrayBuffer=="function",Aa=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,Pr=Object.prototype.toString,Ba=typeof Blob=="function"||typeof Blob<"u"&&Pr.call(Blob)==="[object BlobConstructor]",Pa=typeof File=="function"||typeof File<"u"&&Pr.call(File)==="[object FileConstructor]";function Ei(t){return Ea&&(t instanceof ArrayBuffer||Aa(t))||Ba&&t instanceof Blob||Pa&&t instanceof File}function Dn(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let n=0,i=t.length;n<i;n++)if(Dn(t[n]))return!0;return!1}if(Ei(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return Dn(t.toJSON(),!0);for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&Dn(t[n]))return!0;return!1}function Ra(t){const e=[],n=t.data,i=t;return i.data=fi(n,e),i.attachments=e.length,{packet:i,buffers:e}}function fi(t,e){if(!t)return t;if(Ei(t)){const n={_placeholder:!0,num:e.length};return e.push(t),n}else if(Array.isArray(t)){const n=new Array(t.length);for(let i=0;i<t.length;i++)n[i]=fi(t[i],e);return n}else if(typeof t=="object"&&!(t instanceof Date)){const n={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=fi(t[i],e));return n}return t}function Oa(t,e){return t.data=hi(t.data,e),delete t.attachments,t}function hi(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let n=0;n<t.length;n++)t[n]=hi(t[n],e);else if(typeof t=="object")for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(t[n]=hi(t[n],e));return t}const Sa=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Da=5;var j;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(j||(j={}));class La{constructor(e){this.replacer=e}encode(e){return(e.type===j.EVENT||e.type===j.ACK)&&Dn(e)?this.encodeAsBinary({type:e.type===j.EVENT?j.BINARY_EVENT:j.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let n=""+e.type;return(e.type===j.BINARY_EVENT||e.type===j.BINARY_ACK)&&(n+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(n+=e.nsp+","),e.id!=null&&(n+=e.id),e.data!=null&&(n+=JSON.stringify(e.data,this.replacer)),n}encodeAsBinary(e){const n=Ra(e),i=this.encodeAsString(n.packet),r=n.buffers;return r.unshift(i),r}}function ws(t){return Object.prototype.toString.call(t)==="[object Object]"}class Ai extends ke{constructor(e){super(),this.reviver=e}add(e){let n;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(e);const i=n.type===j.BINARY_EVENT;i||n.type===j.BINARY_ACK?(n.type=i?j.EVENT:j.ACK,this.reconstructor=new Na(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(Ei(e)||e.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(e),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let n=0;const i={type:Number(e.charAt(0))};if(j[i.type]===void 0)throw new Error("unknown packet type "+i.type);if(i.type===j.BINARY_EVENT||i.type===j.BINARY_ACK){const s=n+1;for(;e.charAt(++n)!=="-"&&n!=e.length;);const o=e.substring(s,n);if(o!=Number(o)||e.charAt(n)!=="-")throw new Error("Illegal attachments");i.attachments=Number(o)}if(e.charAt(n+1)==="/"){const s=n+1;for(;++n&&!(e.charAt(n)===","||n===e.length););i.nsp=e.substring(s,n)}else i.nsp="/";const r=e.charAt(n+1);if(r!==""&&Number(r)==r){const s=n+1;for(;++n;){const o=e.charAt(n);if(o==null||Number(o)!=o){--n;break}if(n===e.length)break}i.id=Number(e.substring(s,n+1))}if(e.charAt(++n)){const s=this.tryParse(e.substr(n));if(Ai.isPayloadValid(i.type,s))i.data=s;else throw new Error("invalid payload")}return i}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,n){switch(e){case j.CONNECT:return ws(n);case j.DISCONNECT:return n===void 0;case j.CONNECT_ERROR:return typeof n=="string"||ws(n);case j.EVENT:case j.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&Sa.indexOf(n[0])===-1);case j.ACK:case j.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Na{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const n=Oa(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const qa=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Ai,Encoder:La,get PacketType(){return j},protocol:Da},Symbol.toStringTag,{value:"Module"}));function je(t,e,n){return t.on(e,n),function(){t.off(e,n)}}const Ia=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Rr extends ke{constructor(e,n,i){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=n,i&&i.auth&&(this.auth=i.auth),this._opts=Object.assign({},i),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[je(e,"open",this.onopen.bind(this)),je(e,"packet",this.onpacket.bind(this)),je(e,"error",this.onerror.bind(this)),je(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...n){if(Ia.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(n.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const i={type:j.EVENT,data:n};if(i.options={},i.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const o=this.ids++,c=n.pop();this._registerAckCallback(o,c),i.id=o}const r=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!r||!this.connected)||(this.connected?(this.notifyOutgoingListeners(i),this.packet(i)):this.sendBuffer.push(i)),this.flags={},this}_registerAckCallback(e,n){var i;const r=(i=this.flags.timeout)!==null&&i!==void 0?i:this._opts.ackTimeout;if(r===void 0){this.acks[e]=n;return}const s=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let o=0;o<this.sendBuffer.length;o++)this.sendBuffer[o].id===e&&this.sendBuffer.splice(o,1);n.call(this,new Error("operation has timed out"))},r);this.acks[e]=(...o)=>{this.io.clearTimeoutFn(s),n.apply(this,[null,...o])}}emitWithAck(e,...n){const i=this.flags.timeout!==void 0||this._opts.ackTimeout!==void 0;return new Promise((r,s)=>{n.push((o,c)=>i?o?s(o):r(c):r(o)),this.emit(e,...n)})}_addToQueue(e){let n;typeof e[e.length-1]=="function"&&(n=e.pop());const i={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((r,...s)=>i!==this._queue[0]?void 0:(r!==null?i.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(r)):(this._queue.shift(),n&&n(null,...s)),i.pending=!1,this._drainQueue())),this._queue.push(i),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!e||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:j.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,n)}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case j.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case j.EVENT:case j.BINARY_EVENT:this.onevent(e);break;case j.ACK:case j.BINARY_ACK:this.onack(e);break;case j.DISCONNECT:this.ondisconnect();break;case j.CONNECT_ERROR:this.destroy();const i=new Error(e.data.message);i.data=e.data.data,this.emitReserved("connect_error",i);break}}onevent(e){const n=e.data||[];e.id!=null&&n.push(this.ack(e.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const i of n)i.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const n=this;let i=!1;return function(...r){i||(i=!0,n.packet({type:j.ACK,id:e,data:r}))}}onack(e){const n=this.acks[e.id];typeof n=="function"&&(n.apply(this,e.data),delete this.acks[e.id])}onconnect(e,n){this.id=e,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:j.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const n=this._anyListeners;for(let i=0;i<n.length;i++)if(e===n[i])return n.splice(i,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const n=this._anyOutgoingListeners;for(let i=0;i<n.length;i++)if(e===n[i])return n.splice(i,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const i of n)i.apply(this,e.data)}}}function Ht(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}Ht.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=Math.floor(e*10)&1?t+n:t-n}return Math.min(t,this.max)|0};Ht.prototype.reset=function(){this.attempts=0};Ht.prototype.setMin=function(t){this.ms=t};Ht.prototype.setMax=function(t){this.max=t};Ht.prototype.setJitter=function(t){this.jitter=t};class di extends ke{constructor(e,n){var i;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(n=e,e=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,Vn(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((i=n.randomizationFactor)!==null&&i!==void 0?i:.5),this.backoff=new Ht({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=e;const r=n.parser||qa;this.encoder=new r.Encoder,this.decoder=new r.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var n;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(n=this.backoff)===null||n===void 0||n.setMin(e),this)}randomizationFactor(e){var n;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(n=this.backoff)===null||n===void 0||n.setJitter(e),this)}reconnectionDelayMax(e){var n;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(n=this.backoff)===null||n===void 0||n.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new Br(this.uri,this.opts);const n=this.engine,i=this;this._readyState="opening",this.skipReconnect=!1;const r=je(n,"open",function(){i.onopen(),e&&e()}),s=c=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",c),e?e(c):this.maybeReconnectOnOpen()},o=je(n,"error",s);if(this._timeout!==!1){const c=this._timeout,u=this.setTimeoutFn(()=>{r(),s(new Error("timeout")),n.close()},c);this.opts.autoUnref&&u.unref(),this.subs.push(()=>{this.clearTimeoutFn(u)})}return this.subs.push(r),this.subs.push(o),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(je(e,"ping",this.onping.bind(this)),je(e,"data",this.ondata.bind(this)),je(e,"error",this.onerror.bind(this)),je(e,"close",this.onclose.bind(this)),je(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(n){this.onclose("parse error",n)}}ondecoded(e){Ci(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,n){let i=this.nsps[e];return i?this._autoConnect&&!i.active&&i.connect():(i=new Rr(this,e,n),this.nsps[e]=i),i}_destroy(e){const n=Object.keys(this.nsps);for(const i of n)if(this.nsps[i].active)return;this._close()}_packet(e){const n=this.encoder.encode(e);for(let i=0;i<n.length;i++)this.engine.write(n[i],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e,n){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const i=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(r=>{r?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",r)):e.onreconnect()}))},n);this.opts.autoUnref&&i.unref(),this.subs.push(()=>{this.clearTimeoutFn(i)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const tn={};function Ln(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const n=Ca(t,e.path||"/socket.io"),i=n.source,r=n.id,s=n.path,o=tn[r]&&s in tn[r].nsps,c=e.forceNew||e["force new connection"]||e.multiplex===!1||o;let u;return c?u=new di(i,e):(tn[r]||(tn[r]=new di(i,e)),u=tn[r]),n.query&&!e.query&&(e.query=n.queryKey),u.socket(n.path,e)}Object.assign(Ln,{Manager:di,Socket:Rr,io:Ln,connect:Ln});function vs(t,e,n){const i=t.slice();return i[63]=e[n],i}function ks(t,e,n){const i=t.slice();return i[63]=e[n],i}function Ts(t,e,n){const i=t.slice();return i[63]=e[n],i}function Cs(t,e,n){const i=t.slice();return i[63]=e[n],i}function Es(t,e,n){const i=t.slice();return i[63]=e[n],i}function As(t,e,n){const i=t.slice();return i[63]=e[n],i}function Bs(t,e,n){const i=t.slice();return i[63]=e[n],i}function Ps(t,e,n){const i=t.slice();return i[63]=e[n],i}function Rs(t,e,n){const i=t.slice();return i[63]=e[n],i}function Os(t,e,n){const i=t.slice();return i[63]=e[n],i}function Ss(t,e,n){const i=t.slice();return i[80]=e[n],i}function Ds(t,e,n){const i=t.slice();return i[83]=e[n],i}function Ls(t,e,n){const i=t.slice();return i[86]=e[n],i}function Ns(t,e,n){const i=t.slice();return i[80]=e[n],i}function qs(t,e,n){const i=t.slice();return i[83]=e[n],i}function Is(t,e,n){const i=t.slice();return i[86]=e[n],i}function Ms(t){let e,n;return e=new wi({props:{customClasses:"btn__green w-25",$$slots:{default:[Ma]},$$scope:{ctx:t}}}),e.$on("click",t[10]),{c(){_e(e.$$.fragment)},m(i,r){pe(e,i,r),n=!0},p(i,r){const s={};r[3]&64&&(s.$$scope={dirty:r,ctx:i}),e.$set(s)},i(i){n||(v(e.$$.fragment,i),n=!0)},o(i){P(e.$$.fragment,i),n=!1},d(i){ge(e,i)}}}function Ma(t){let e;return{c(){e=L("Start game")},m(n,i){W(n,e,i)},d(n){n&&V(e)}}}function za(t){let e,n,i,r,s,o,c,u,d,g,_,w,B,T,S,b,q,K,G,Z,ye,D,X,H,Y,R,x,me,U=t[6]&&zs(),Pe=t[9].hand,Q=[];for(let C=0;C<Pe.length;C+=1)Q[C]=Us(ks(t,Pe,C));const ie=C=>P(Q[C],1,1,()=>{Q[C]=null});let $=t[8].hand,I=[];for(let C=0;C<$.length;C+=1)I[C]=Hs(vs(t,$,C));const Re=C=>P(I[C],1,1,()=>{I[C]=null});D=new Ke({props:{faceUp:!1}}),D.$on("click",t[12]);const st=[Va,Ha],N=[];function Me(C,M){return C[1]||C[5]<5?0:1}H=Me(t),Y=N[H]=st[H](t);let be=t[2]&&Vs(t);return{c(){U&&U.c(),e=E(),n=y("div"),i=y("div"),r=y("p"),s=L("Player 1"),c=E();for(let C=0;C<Q.length;C+=1)Q[C].c();d=E(),g=y("div"),_=y("p"),w=L("Player 2"),T=E();for(let C=0;C<I.length;C+=1)I[C].c();b=E(),q=y("div"),K=y("h1"),G=L("Turn "),Z=L(t[5]),ye=E(),_e(D.$$.fragment),X=E(),Y.c(),R=E(),be&&be.c(),k(r,"class",o="p1-name "+(t[9].turn?"turn-active":"")+" svelte-q5scfz"),k(i,"class",u="card-section card-section__ally "+(t[9].turn||t[9].justWon?"section-active":"")+" svelte-q5scfz"),k(_,"class",B="p2-name "+(t[8].turn?"turn-active":"")+" svelte-q5scfz"),k(g,"class",S="card-section card-section__enemy "+(t[8].turn||t[8].justWon?"section-active":"")+" svelte-q5scfz"),k(K,"class","turn-count svelte-q5scfz"),k(q,"class","game-buttons svelte-q5scfz"),k(n,"class",x="game-board "+(t[0]?"gobble-declared":"")+" svelte-q5scfz")},m(C,M){U&&U.m(C,M),W(C,e,M),W(C,n,M),h(n,i),h(i,r),h(r,s),h(i,c);for(let Te=0;Te<Q.length;Te+=1)Q[Te]&&Q[Te].m(i,null);h(n,d),h(n,g),h(g,_),h(_,w),h(g,T);for(let Te=0;Te<I.length;Te+=1)I[Te]&&I[Te].m(g,null);h(n,b),h(n,q),h(q,K),h(K,G),h(K,Z),h(q,ye),pe(D,q,null),h(q,X),N[H].m(q,null),h(n,R),be&&be.m(n,null),me=!0},p(C,M){if(C[6]?U?M[0]&64&&v(U,1):(U=zs(),U.c(),v(U,1),U.m(e.parentNode,e)):U&&(we(),P(U,1,1,()=>{U=null}),ve()),(!me||M[0]&512&&o!==(o="p1-name "+(C[9].turn?"turn-active":"")+" svelte-q5scfz"))&&k(r,"class",o),M[0]&11136){Pe=C[9].hand;let F;for(F=0;F<Pe.length;F+=1){const $e=ks(C,Pe,F);Q[F]?(Q[F].p($e,M),v(Q[F],1)):(Q[F]=Us($e),Q[F].c(),v(Q[F],1),Q[F].m(i,null))}for(we(),F=Pe.length;F<Q.length;F+=1)ie(F);ve()}if((!me||M[0]&512&&u!==(u="card-section card-section__ally "+(C[9].turn||C[9].justWon?"section-active":"")+" svelte-q5scfz"))&&k(i,"class",u),(!me||M[0]&256&&B!==(B="p2-name "+(C[8].turn?"turn-active":"")+" svelte-q5scfz"))&&k(_,"class",B),M[0]&11136){$=C[8].hand;let F;for(F=0;F<$.length;F+=1){const $e=vs(C,$,F);I[F]?(I[F].p($e,M),v(I[F],1)):(I[F]=Hs($e),I[F].c(),v(I[F],1),I[F].m(g,null))}for(we(),F=$.length;F<I.length;F+=1)Re(F);ve()}(!me||M[0]&256&&S!==(S="card-section card-section__enemy "+(C[8].turn||C[8].justWon?"section-active":"")+" svelte-q5scfz"))&&k(g,"class",S),(!me||M[0]&32)&&te(Z,C[5]);let Te=H;H=Me(C),H===Te?N[H].p(C,M):(we(),P(N[Te],1,1,()=>{N[Te]=null}),ve(),Y=N[H],Y?Y.p(C,M):(Y=N[H]=st[H](C),Y.c()),v(Y,1),Y.m(q,null)),C[2]?be?be.p(C,M):(be=Vs(C),be.c(),be.m(n,null)):be&&(be.d(1),be=null),(!me||M[0]&1&&x!==(x="game-board "+(C[0]?"gobble-declared":"")+" svelte-q5scfz"))&&k(n,"class",x)},i(C){if(!me){v(U);for(let M=0;M<Pe.length;M+=1)v(Q[M]);for(let M=0;M<$.length;M+=1)v(I[M]);v(D.$$.fragment,C),v(Y),me=!0}},o(C){P(U),Q=Q.filter(Boolean);for(let M=0;M<Q.length;M+=1)P(Q[M]);I=I.filter(Boolean);for(let M=0;M<I.length;M+=1)P(I[M]);P(D.$$.fragment,C),P(Y),me=!1},d(C){U&&U.d(C),C&&V(e),C&&V(n),Oe(Q,C),Oe(I,C),ge(D),N[H].d(),be&&be.d()}}}function Ua(t){let e,n,i,r,s,o,c,u,d,g,_,w,B,T=t[9].chargePoints+"",S,b,q,K,G,Z,ye,D,X,H=t[9].infectPoints+"",Y,R,x,me,U,Pe,Q,ie,$,I,Re,st,N,Me,be,C=t[9].wins+"",M,Te,F=t[9].losses+"",$e,yt,wt=t[9].draws+"",Vt,un,ze,fn,vt=t[8].wins+"",Ft,hn,rt=t[8].losses+"",Wt,dn,ot=t[8].draws+"",$t,jt,Kt,Gt,kt,Yt,Xt=t[8].chargePoints+"",pn,a,p,A,O,ee,Ce,ne,at,lt,Jt,ct=t[8].infectPoints+"",Qt,Bi,Fn,Pi,Wn,$n,Ri,jn,Oi,Kn,gn,Si,Zt,Di,Gn,Li,Tt,Ue,mn,Ni,Yn,bn,qi,Ii,He,_n,Mi,Xn,yn,zi,Ui,Ct,Ve,wn,Hi,Jn,vn,Vi,Fi,Fe,kn,Wi,Qn,Tn,$i,et,Ee,Et=t[9].boosts,Se=[];for(let f=0;f<Et.length;f+=1)Se[f]=Fs(Is(t,Et,f));let At=t[9].traps,De=[];for(let f=0;f<At.length;f+=1)De[f]=Ws(qs(t,At,f));let Bt=t[9].neutrals,Le=[];for(let f=0;f<Bt.length;f+=1)Le[f]=$s(Ns(t,Bt,f));let Pt=t[8].boosts,Ne=[];for(let f=0;f<Pt.length;f+=1)Ne[f]=js(Ls(t,Pt,f));let Rt=t[8].traps,qe=[];for(let f=0;f<Rt.length;f+=1)qe[f]=Ks(Ds(t,Rt,f));let Ot=t[9].neutrals,Ie=[];for(let f=0;f<Ot.length;f+=1)Ie[f]=Gs(Ss(t,Ot,f));let ut=t[9].startingHand,se=[];for(let f=0;f<ut.length;f+=1)se[f]=Ys(Os(t,ut,f));const Or=f=>P(se[f],1,1,()=>{se[f]=null});let ft=t[9].cardsDrawn,re=[];for(let f=0;f<ft.length;f+=1)re[f]=Xs(Rs(t,ft,f));const Sr=f=>P(re[f],1,1,()=>{re[f]=null});let ht=t[9].hand,oe=[];for(let f=0;f<ht.length;f+=1)oe[f]=Js(Ps(t,ht,f));const Dr=f=>P(oe[f],1,1,()=>{oe[f]=null});let dt=t[9].discards,ae=[];for(let f=0;f<dt.length;f+=1)ae[f]=Qs(Bs(t,dt,f));const Lr=f=>P(ae[f],1,1,()=>{ae[f]=null});let pt=t[8].startingHand,le=[];for(let f=0;f<pt.length;f+=1)le[f]=Zs(As(t,pt,f));const Nr=f=>P(le[f],1,1,()=>{le[f]=null});let gt=t[8].cardsDrawn,ce=[];for(let f=0;f<gt.length;f+=1)ce[f]=xs(Es(t,gt,f));const qr=f=>P(ce[f],1,1,()=>{ce[f]=null});let mt=t[8].hand,ue=[];for(let f=0;f<mt.length;f+=1)ue[f]=er(Cs(t,mt,f));const Ir=f=>P(ue[f],1,1,()=>{ue[f]=null});let bt=t[8].discards,fe=[];for(let f=0;f<bt.length;f+=1)fe[f]=tr(Ts(t,bt,f));const Mr=f=>P(fe[f],1,1,()=>{fe[f]=null});return{c(){e=y("div"),n=y("div"),i=y("div"),r=y("p"),s=L(t[3]),o=E(),c=y("p"),u=L(t[4]),d=E(),g=y("p"),g.textContent="Player1 Boosts:",_=E(),w=y("p"),B=L("Charge boost points: "),S=L(T),b=E();for(let f=0;f<Se.length;f+=1)Se[f].c();q=E(),K=y("br"),G=E(),Z=y("p"),Z.textContent="Player1 Traps:",ye=E(),D=y("p"),X=L("Infect trap penalty: "),Y=L(H),R=E(),x=y("span"),x.textContent="Trap cards:",me=E();for(let f=0;f<De.length;f+=1)De[f].c();U=E(),Pe=y("br"),Q=E(),ie=y("span"),ie.textContent="Neutral cards:",$=E();for(let f=0;f<Le.length;f+=1)Le[f].c();I=E(),Re=y("h2"),Re.textContent="Player 1",st=E(),N=y("div"),Me=y("p"),be=L("Player 1 Win/Lose/Draw: "),M=L(C),Te=L("/"),$e=L(F),yt=L("/"),Vt=L(wt),un=E(),ze=y("p"),fn=L("Player 2 Win/Lose/Draw: "),Ft=L(vt),hn=L("/"),Wt=L(rt),dn=L("/"),$t=L(ot),jt=E(),Kt=y("p"),Kt.textContent="Player2 Boosts:",Gt=E(),kt=y("p"),Yt=L("Charge boost points: "),pn=L(Xt),a=E(),p=y("span"),p.textContent="Boost cards:",A=E();for(let f=0;f<Ne.length;f+=1)Ne[f].c();O=E(),ee=y("br"),Ce=E(),ne=y("p"),ne.textContent="Player2 Traps:",at=E(),lt=y("p"),Jt=L("Infect trap penalty: "),Qt=L(ct),Bi=E(),Fn=y("span"),Fn.textContent="Trap cards:",Pi=E();for(let f=0;f<qe.length;f+=1)qe[f].c();Wn=E(),$n=y("br"),Ri=E(),jn=y("span"),jn.textContent="Neutral cards:",Oi=E();for(let f=0;f<Ie.length;f+=1)Ie[f].c();Kn=E(),gn=y("h2"),gn.textContent="Player 2",Si=E(),Zt=y("h2"),Di=L("Turn count: "),Gn=L(t[5]),Li=E(),Tt=y("div"),Ue=y("div"),mn=y("p"),mn.textContent="Starting Hand:",Ni=E();for(let f=0;f<se.length;f+=1)se[f].c();Yn=E(),bn=y("p"),bn.textContent="Cards drawn:",qi=E();for(let f=0;f<re.length;f+=1)re[f].c();Ii=E(),He=y("div"),_n=y("p"),_n.textContent="Final Hand:",Mi=E();for(let f=0;f<oe.length;f+=1)oe[f].c();Xn=E(),yn=y("p"),yn.textContent="Cards discarded:",zi=E();for(let f=0;f<ae.length;f+=1)ae[f].c();Ui=E(),Ct=y("div"),Ve=y("div"),wn=y("p"),wn.textContent="Starting Hand:",Hi=E();for(let f=0;f<le.length;f+=1)le[f].c();Jn=E(),vn=y("p"),vn.textContent="Cards drawn:",Vi=E();for(let f=0;f<ce.length;f+=1)ce[f].c();Fi=E(),Fe=y("div"),kn=y("p"),kn.textContent="Final Hand:",Wi=E();for(let f=0;f<ue.length;f+=1)ue[f].c();Qn=E(),Tn=y("p"),Tn.textContent="Cards discarded:",$i=E();for(let f=0;f<fe.length;f+=1)fe[f].c();k(c,"class","margin-bottom-sm svelte-q5scfz"),k(K,"class","margin-bottom-sm svelte-q5scfz"),k(Pe,"class","margin-bottom-sm svelte-q5scfz"),k(Re,"class","results-player-floating-header results-player-float-left svelte-q5scfz"),k(ze,"class","margin-bottom-sm svelte-q5scfz"),k(ee,"class","margin-bottom-sm svelte-q5scfz"),k($n,"class","margin-bottom-sm svelte-q5scfz"),k(gn,"class","results-player-floating-header results-player-float-right svelte-q5scfz"),k(Zt,"class","results-player-floating-header results-turn-count-float-middle svelte-q5scfz"),k(n,"class","results-messages-flex-wrapper svelte-q5scfz"),k(mn,"class","history__small-header svelte-q5scfz"),k(bn,"class","history__small-header svelte-q5scfz"),k(Ue,"class","history__cards-drawn"),k(_n,"class","history__small-header svelte-q5scfz"),k(yn,"class","history__small-header svelte-q5scfz"),k(He,"class","history__cards-discarded"),k(Tt,"class","player-history-wrapper svelte-q5scfz"),k(wn,"class","history__small-header svelte-q5scfz"),k(vn,"class","history__small-header svelte-q5scfz"),k(Ve,"class","history__cards-drawn"),k(kn,"class","history__small-header svelte-q5scfz"),k(Tn,"class","history__small-header svelte-q5scfz"),k(Fe,"class","history__cards-discarded"),k(Ct,"class","player-history-wrapper svelte-q5scfz"),k(e,"class","results-screen svelte-q5scfz")},m(f,m){W(f,e,m),h(e,n),h(n,i),h(i,r),h(r,s),h(i,o),h(i,c),h(c,u),h(i,d),h(i,g),h(i,_),h(i,w),h(w,B),h(w,S),h(i,b);for(let l=0;l<Se.length;l+=1)Se[l]&&Se[l].m(i,null);h(i,q),h(i,K),h(i,G),h(i,Z),h(i,ye),h(i,D),h(D,X),h(D,Y),h(i,R),h(i,x),h(i,me);for(let l=0;l<De.length;l+=1)De[l]&&De[l].m(i,null);h(i,U),h(i,Pe),h(i,Q),h(i,ie),h(i,$);for(let l=0;l<Le.length;l+=1)Le[l]&&Le[l].m(i,null);h(i,I),h(i,Re),h(n,st),h(n,N),h(N,Me),h(Me,be),h(Me,M),h(Me,Te),h(Me,$e),h(Me,yt),h(Me,Vt),h(N,un),h(N,ze),h(ze,fn),h(ze,Ft),h(ze,hn),h(ze,Wt),h(ze,dn),h(ze,$t),h(N,jt),h(N,Kt),h(N,Gt),h(N,kt),h(kt,Yt),h(kt,pn),h(N,a),h(N,p),h(N,A);for(let l=0;l<Ne.length;l+=1)Ne[l]&&Ne[l].m(N,null);h(N,O),h(N,ee),h(N,Ce),h(N,ne),h(N,at),h(N,lt),h(lt,Jt),h(lt,Qt),h(N,Bi),h(N,Fn),h(N,Pi);for(let l=0;l<qe.length;l+=1)qe[l]&&qe[l].m(N,null);h(N,Wn),h(N,$n),h(N,Ri),h(N,jn),h(N,Oi);for(let l=0;l<Ie.length;l+=1)Ie[l]&&Ie[l].m(N,null);h(N,Kn),h(N,gn),h(N,Si),h(N,Zt),h(Zt,Di),h(Zt,Gn),h(e,Li),h(e,Tt),h(Tt,Ue),h(Ue,mn),h(Ue,Ni);for(let l=0;l<se.length;l+=1)se[l]&&se[l].m(Ue,null);h(Ue,Yn),h(Ue,bn),h(Ue,qi);for(let l=0;l<re.length;l+=1)re[l]&&re[l].m(Ue,null);h(Tt,Ii),h(Tt,He),h(He,_n),h(He,Mi);for(let l=0;l<oe.length;l+=1)oe[l]&&oe[l].m(He,null);h(He,Xn),h(He,yn),h(He,zi);for(let l=0;l<ae.length;l+=1)ae[l]&&ae[l].m(He,null);h(e,Ui),h(e,Ct),h(Ct,Ve),h(Ve,wn),h(Ve,Hi);for(let l=0;l<le.length;l+=1)le[l]&&le[l].m(Ve,null);h(Ve,Jn),h(Ve,vn),h(Ve,Vi);for(let l=0;l<ce.length;l+=1)ce[l]&&ce[l].m(Ve,null);h(Ct,Fi),h(Ct,Fe),h(Fe,kn),h(Fe,Wi);for(let l=0;l<ue.length;l+=1)ue[l]&&ue[l].m(Fe,null);h(Fe,Qn),h(Fe,Tn),h(Fe,$i);for(let l=0;l<fe.length;l+=1)fe[l]&&fe[l].m(Fe,null);Ee=!0},p(f,m){if((!Ee||m[0]&8)&&te(s,f[3]),(!Ee||m[0]&16)&&te(u,f[4]),(!Ee||m[0]&512)&&T!==(T=f[9].chargePoints+"")&&te(S,T),m[0]&512){Et=f[9].boosts;let l;for(l=0;l<Et.length;l+=1){const z=Is(f,Et,l);Se[l]?Se[l].p(z,m):(Se[l]=Fs(z),Se[l].c(),Se[l].m(i,q))}for(;l<Se.length;l+=1)Se[l].d(1);Se.length=Et.length}if((!Ee||m[0]&512)&&H!==(H=f[9].infectPoints+"")&&te(Y,H),m[0]&512){At=f[9].traps;let l;for(l=0;l<At.length;l+=1){const z=qs(f,At,l);De[l]?De[l].p(z,m):(De[l]=Ws(z),De[l].c(),De[l].m(i,U))}for(;l<De.length;l+=1)De[l].d(1);De.length=At.length}if(m[0]&512){Bt=f[9].neutrals;let l;for(l=0;l<Bt.length;l+=1){const z=Ns(f,Bt,l);Le[l]?Le[l].p(z,m):(Le[l]=$s(z),Le[l].c(),Le[l].m(i,I))}for(;l<Le.length;l+=1)Le[l].d(1);Le.length=Bt.length}if((!Ee||m[0]&512)&&C!==(C=f[9].wins+"")&&te(M,C),(!Ee||m[0]&512)&&F!==(F=f[9].losses+"")&&te($e,F),(!Ee||m[0]&512)&&wt!==(wt=f[9].draws+"")&&te(Vt,wt),(!Ee||m[0]&256)&&vt!==(vt=f[8].wins+"")&&te(Ft,vt),(!Ee||m[0]&256)&&rt!==(rt=f[8].losses+"")&&te(Wt,rt),(!Ee||m[0]&256)&&ot!==(ot=f[8].draws+"")&&te($t,ot),(!Ee||m[0]&256)&&Xt!==(Xt=f[8].chargePoints+"")&&te(pn,Xt),m[0]&256){Pt=f[8].boosts;let l;for(l=0;l<Pt.length;l+=1){const z=Ls(f,Pt,l);Ne[l]?Ne[l].p(z,m):(Ne[l]=js(z),Ne[l].c(),Ne[l].m(N,O))}for(;l<Ne.length;l+=1)Ne[l].d(1);Ne.length=Pt.length}if((!Ee||m[0]&256)&&ct!==(ct=f[8].infectPoints+"")&&te(Qt,ct),m[0]&256){Rt=f[8].traps;let l;for(l=0;l<Rt.length;l+=1){const z=Ds(f,Rt,l);qe[l]?qe[l].p(z,m):(qe[l]=Ks(z),qe[l].c(),qe[l].m(N,Wn))}for(;l<qe.length;l+=1)qe[l].d(1);qe.length=Rt.length}if(m[0]&512){Ot=f[9].neutrals;let l;for(l=0;l<Ot.length;l+=1){const z=Ss(f,Ot,l);Ie[l]?Ie[l].p(z,m):(Ie[l]=Gs(z),Ie[l].c(),Ie[l].m(N,Kn))}for(;l<Ie.length;l+=1)Ie[l].d(1);Ie.length=Ot.length}if((!Ee||m[0]&32)&&te(Gn,f[5]),m[0]&33408){ut=f[9].startingHand;let l;for(l=0;l<ut.length;l+=1){const z=Os(f,ut,l);se[l]?(se[l].p(z,m),v(se[l],1)):(se[l]=Ys(z),se[l].c(),v(se[l],1),se[l].m(Ue,Yn))}for(we(),l=ut.length;l<se.length;l+=1)Or(l);ve()}if(m[0]&33408){ft=f[9].cardsDrawn;let l;for(l=0;l<ft.length;l+=1){const z=Rs(f,ft,l);re[l]?(re[l].p(z,m),v(re[l],1)):(re[l]=Xs(z),re[l].c(),v(re[l],1),re[l].m(Ue,null))}for(we(),l=ft.length;l<re.length;l+=1)Sr(l);ve()}if(m[0]&33408){ht=f[9].hand;let l;for(l=0;l<ht.length;l+=1){const z=Ps(f,ht,l);oe[l]?(oe[l].p(z,m),v(oe[l],1)):(oe[l]=Js(z),oe[l].c(),v(oe[l],1),oe[l].m(He,Xn))}for(we(),l=ht.length;l<oe.length;l+=1)Dr(l);ve()}if(m[0]&33408){dt=f[9].discards;let l;for(l=0;l<dt.length;l+=1){const z=Bs(f,dt,l);ae[l]?(ae[l].p(z,m),v(ae[l],1)):(ae[l]=Qs(z),ae[l].c(),v(ae[l],1),ae[l].m(He,null))}for(we(),l=dt.length;l<ae.length;l+=1)Lr(l);ve()}if(m[0]&33152){pt=f[8].startingHand;let l;for(l=0;l<pt.length;l+=1){const z=As(f,pt,l);le[l]?(le[l].p(z,m),v(le[l],1)):(le[l]=Zs(z),le[l].c(),v(le[l],1),le[l].m(Ve,Jn))}for(we(),l=pt.length;l<le.length;l+=1)Nr(l);ve()}if(m[0]&33152){gt=f[8].cardsDrawn;let l;for(l=0;l<gt.length;l+=1){const z=Es(f,gt,l);ce[l]?(ce[l].p(z,m),v(ce[l],1)):(ce[l]=xs(z),ce[l].c(),v(ce[l],1),ce[l].m(Ve,null))}for(we(),l=gt.length;l<ce.length;l+=1)qr(l);ve()}if(m[0]&33152){mt=f[8].hand;let l;for(l=0;l<mt.length;l+=1){const z=Cs(f,mt,l);ue[l]?(ue[l].p(z,m),v(ue[l],1)):(ue[l]=er(z),ue[l].c(),v(ue[l],1),ue[l].m(Fe,Qn))}for(we(),l=mt.length;l<ue.length;l+=1)Ir(l);ve()}if(m[0]&33152){bt=f[8].discards;let l;for(l=0;l<bt.length;l+=1){const z=Ts(f,bt,l);fe[l]?(fe[l].p(z,m),v(fe[l],1)):(fe[l]=tr(z),fe[l].c(),v(fe[l],1),fe[l].m(Fe,null))}for(we(),l=bt.length;l<fe.length;l+=1)Mr(l);ve()}},i(f){if(!Ee){for(let m=0;m<ut.length;m+=1)v(se[m]);for(let m=0;m<ft.length;m+=1)v(re[m]);for(let m=0;m<ht.length;m+=1)v(oe[m]);for(let m=0;m<dt.length;m+=1)v(ae[m]);for(let m=0;m<pt.length;m+=1)v(le[m]);for(let m=0;m<gt.length;m+=1)v(ce[m]);for(let m=0;m<mt.length;m+=1)v(ue[m]);for(let m=0;m<bt.length;m+=1)v(fe[m]);Ze(()=>{Ee&&(et||(et=Zi(e,Un,{},!0)),et.run(1))}),Ee=!0}},o(f){se=se.filter(Boolean);for(let m=0;m<se.length;m+=1)P(se[m]);re=re.filter(Boolean);for(let m=0;m<re.length;m+=1)P(re[m]);oe=oe.filter(Boolean);for(let m=0;m<oe.length;m+=1)P(oe[m]);ae=ae.filter(Boolean);for(let m=0;m<ae.length;m+=1)P(ae[m]);le=le.filter(Boolean);for(let m=0;m<le.length;m+=1)P(le[m]);ce=ce.filter(Boolean);for(let m=0;m<ce.length;m+=1)P(ce[m]);ue=ue.filter(Boolean);for(let m=0;m<ue.length;m+=1)P(ue[m]);fe=fe.filter(Boolean);for(let m=0;m<fe.length;m+=1)P(fe[m]);et||(et=Zi(e,Un,{},!1)),et.run(0),Ee=!1},d(f){f&&V(e),Oe(Se,f),Oe(De,f),Oe(Le,f),Oe(Ne,f),Oe(qe,f),Oe(Ie,f),Oe(se,f),Oe(re,f),Oe(oe,f),Oe(ae,f),Oe(le,f),Oe(ce,f),Oe(ue,f),Oe(fe,f),f&&et&&et.end()}}}function zs(t){let e,n;return e=new Go({}),{c(){_e(e.$$.fragment)},m(i,r){pe(e,i,r),n=!0},i(i){n||(v(e.$$.fragment,i),n=!0)},o(i){P(e.$$.fragment,i),n=!1},d(i){ge(e,i)}}}function Us(t){let e,n;return e=new Ke({props:{faceUp:t[11]("p1")||t[8].hasVision,displayTitle:t[7][t[63]].displayTitle,title:t[7][t[63]].title,img:t[7][t[63]].image,trait:t[7][t[63]].trait,traitTitle:t[7][t[63]].traitTitle,description:t[7][t[63]].description,race:t[7][t[63]].race,rarity:t[7][t[63]].rarity,points:t[7][t[63]].points}}),e.$on("cardClick",t[16]),{c(){_e(e.$$.fragment)},m(i,r){pe(e,i,r),n=!0},p(i,r){const s={};r[0]&256&&(s.faceUp=i[11]("p1")||i[8].hasVision),r[0]&640&&(s.displayTitle=i[7][i[63]].displayTitle),r[0]&640&&(s.title=i[7][i[63]].title),r[0]&640&&(s.img=i[7][i[63]].image),r[0]&640&&(s.trait=i[7][i[63]].trait),r[0]&640&&(s.traitTitle=i[7][i[63]].traitTitle),r[0]&640&&(s.description=i[7][i[63]].description),r[0]&640&&(s.race=i[7][i[63]].race),r[0]&640&&(s.rarity=i[7][i[63]].rarity),r[0]&640&&(s.points=i[7][i[63]].points),e.$set(s)},i(i){n||(v(e.$$.fragment,i),n=!0)},o(i){P(e.$$.fragment,i),n=!1},d(i){ge(e,i)}}}function Hs(t){let e,n;return e=new Ke({props:{faceUp:t[11]("p2")||t[9].hasVision,displayTitle:t[7][t[63]].displayTitle,title:t[7][t[63]].title,img:t[7][t[63]].image,trait:t[7][t[63]].trait,traitTitle:t[7][t[63]].traitTitle,description:t[7][t[63]].description,race:t[7][t[63]].race,rarity:t[7][t[63]].rarity,points:t[7][t[63]].points}}),e.$on("cardClick",t[17]),{c(){_e(e.$$.fragment)},m(i,r){pe(e,i,r),n=!0},p(i,r){const s={};r[0]&512&&(s.faceUp=i[11]("p2")||i[9].hasVision),r[0]&384&&(s.displayTitle=i[7][i[63]].displayTitle),r[0]&384&&(s.title=i[7][i[63]].title),r[0]&384&&(s.img=i[7][i[63]].image),r[0]&384&&(s.trait=i[7][i[63]].trait),r[0]&384&&(s.traitTitle=i[7][i[63]].traitTitle),r[0]&384&&(s.description=i[7][i[63]].description),r[0]&384&&(s.race=i[7][i[63]].race),r[0]&384&&(s.rarity=i[7][i[63]].rarity),r[0]&384&&(s.points=i[7][i[63]].points),e.$set(s)},i(i){n||(v(e.$$.fragment,i),n=!0)},o(i){P(e.$$.fragment,i),n=!1},d(i){ge(e,i)}}}function Ha(t){let e,n;return e=new wi({props:{round:!0,customClasses:"btn__orange",$$slots:{default:[Fa]},$$scope:{ctx:t}}}),e.$on("click",t[14]),{c(){_e(e.$$.fragment)},m(i,r){pe(e,i,r),n=!0},p(i,r){const s={};r[3]&64&&(s.$$scope={dirty:r,ctx:i}),e.$set(s)},i(i){n||(v(e.$$.fragment,i),n=!0)},o(i){P(e.$$.fragment,i),n=!1},d(i){ge(e,i)}}}function Va(t){let e,n;return e=new wi({props:{round:!0,customClasses:"btn__orange_disabled",$$slots:{default:[Wa]},$$scope:{ctx:t}}}),{c(){_e(e.$$.fragment)},m(i,r){pe(e,i,r),n=!0},p(i,r){const s={};r[3]&64&&(s.$$scope={dirty:r,ctx:i}),e.$set(s)},i(i){n||(v(e.$$.fragment,i),n=!0)},o(i){P(e.$$.fragment,i),n=!1},d(i){ge(e,i)}}}function Fa(t){let e;return{c(){e=L("Gobbledegook!")},m(n,i){W(n,e,i)},d(n){n&&V(e)}}}function Wa(t){let e;return{c(){e=L("Gobbledegook!")},m(n,i){W(n,e,i)},d(n){n&&V(e)}}}function Vs(t){let e,n=t[9].turn?"Player 1":"Player 2",i,r;return{c(){e=y("p"),i=L(n),r=y("span"),r.textContent="'s turn",k(r,"class","svelte-q5scfz"),k(e,"class","turn-text svelte-q5scfz")},m(s,o){W(s,e,o),h(e,i),h(e,r)},p(s,o){o[0]&512&&n!==(n=s[9].turn?"Player 1":"Player 2")&&te(i,n)},d(s){s&&V(e)}}}function Fs(t){let e,n=t[86]+"",i,r;return{c(){e=y("span"),i=L(n),r=L(" Â ")},m(s,o){W(s,e,o),h(e,i),h(e,r)},p(s,o){o[0]&512&&n!==(n=s[86]+"")&&te(i,n)},d(s){s&&V(e)}}}function Ws(t){let e,n=t[83]+"",i,r;return{c(){e=y("span"),i=L(n),r=L(" Â ")},m(s,o){W(s,e,o),h(e,i),h(e,r)},p(s,o){o[0]&512&&n!==(n=s[83]+"")&&te(i,n)},d(s){s&&V(e)}}}function $s(t){let e,n=t[80]+"",i,r;return{c(){e=y("span"),i=L(n),r=L(" Â ")},m(s,o){W(s,e,o),h(e,i),h(e,r)},p(s,o){o[0]&512&&n!==(n=s[80]+"")&&te(i,n)},d(s){s&&V(e)}}}function js(t){let e,n=t[86]+"",i,r;return{c(){e=y("span"),i=L(n),r=L(" Â ")},m(s,o){W(s,e,o),h(e,i),h(e,r)},p(s,o){o[0]&256&&n!==(n=s[86]+"")&&te(i,n)},d(s){s&&V(e)}}}function Ks(t){let e,n=t[83]+"",i,r;return{c(){e=y("span"),i=L(n),r=L(" Â ")},m(s,o){W(s,e,o),h(e,i),h(e,r)},p(s,o){o[0]&256&&n!==(n=s[83]+"")&&te(i,n)},d(s){s&&V(e)}}}function Gs(t){let e,n=t[80]+"",i,r;return{c(){e=y("span"),i=L(n),r=L(" Â ")},m(s,o){W(s,e,o),h(e,i),h(e,r)},p(s,o){o[0]&512&&n!==(n=s[80]+"")&&te(i,n)},d(s){s&&V(e)}}}function Ys(t){let e,n,i;return n=new Ke({props:{displayTitle:t[7][t[63]].displayTitle,title:t[7][t[63]].title,img:t[7][t[63]].image,trait:t[7][t[63]].trait,traitTitle:t[7][t[63]].traitTitle,race:t[7][t[63]].race,rarity:t[7][t[63]].rarity,points:t[15](t[63],"p1")}}),{c(){e=y("div"),_e(n.$$.fragment),k(e,"class","history__card-wrapper svelte-q5scfz")},m(r,s){W(r,e,s),pe(n,e,null),i=!0},p(r,s){const o={};s[0]&640&&(o.displayTitle=r[7][r[63]].displayTitle),s[0]&640&&(o.title=r[7][r[63]].title),s[0]&640&&(o.img=r[7][r[63]].image),s[0]&640&&(o.trait=r[7][r[63]].trait),s[0]&640&&(o.traitTitle=r[7][r[63]].traitTitle),s[0]&640&&(o.race=r[7][r[63]].race),s[0]&640&&(o.rarity=r[7][r[63]].rarity),s[0]&512&&(o.points=r[15](r[63],"p1")),n.$set(o)},i(r){i||(v(n.$$.fragment,r),i=!0)},o(r){P(n.$$.fragment,r),i=!1},d(r){r&&V(e),ge(n)}}}function Xs(t){let e,n,i,r;return n=new Ke({props:{displayTitle:t[7][t[63]].displayTitle,title:t[7][t[63]].title,img:t[7][t[63]].image,trait:t[7][t[63]].trait,traitTitle:t[7][t[63]].traitTitle,race:t[7][t[63]].race,rarity:t[7][t[63]].rarity,points:t[15](t[63],"p1")}}),{c(){e=y("div"),_e(n.$$.fragment),i=E(),k(e,"class","history__card-wrapper svelte-q5scfz")},m(s,o){W(s,e,o),pe(n,e,null),h(e,i),r=!0},p(s,o){const c={};o[0]&640&&(c.displayTitle=s[7][s[63]].displayTitle),o[0]&640&&(c.title=s[7][s[63]].title),o[0]&640&&(c.img=s[7][s[63]].image),o[0]&640&&(c.trait=s[7][s[63]].trait),o[0]&640&&(c.traitTitle=s[7][s[63]].traitTitle),o[0]&640&&(c.race=s[7][s[63]].race),o[0]&640&&(c.rarity=s[7][s[63]].rarity),o[0]&512&&(c.points=s[15](s[63],"p1")),n.$set(c)},i(s){r||(v(n.$$.fragment,s),r=!0)},o(s){P(n.$$.fragment,s),r=!1},d(s){s&&V(e),ge(n)}}}function Js(t){let e,n,i,r;return n=new Ke({props:{displayTitle:t[7][t[63]].displayTitle,title:t[7][t[63]].title,img:t[7][t[63]].image,trait:t[7][t[63]].trait,traitTitle:t[7][t[63]].traitTitle,race:t[7][t[63]].race,rarity:t[7][t[63]].rarity,points:t[15](t[63],"p1")}}),{c(){e=y("div"),_e(n.$$.fragment),i=E(),k(e,"class","history__card-wrapper svelte-q5scfz")},m(s,o){W(s,e,o),pe(n,e,null),h(e,i),r=!0},p(s,o){const c={};o[0]&640&&(c.displayTitle=s[7][s[63]].displayTitle),o[0]&640&&(c.title=s[7][s[63]].title),o[0]&640&&(c.img=s[7][s[63]].image),o[0]&640&&(c.trait=s[7][s[63]].trait),o[0]&640&&(c.traitTitle=s[7][s[63]].traitTitle),o[0]&640&&(c.race=s[7][s[63]].race),o[0]&640&&(c.rarity=s[7][s[63]].rarity),o[0]&512&&(c.points=s[15](s[63],"p1")),n.$set(c)},i(s){r||(v(n.$$.fragment,s),r=!0)},o(s){P(n.$$.fragment,s),r=!1},d(s){s&&V(e),ge(n)}}}function Qs(t){let e,n,i,r;return n=new Ke({props:{displayTitle:t[7][t[63]].displayTitle,title:t[7][t[63]].title,img:t[7][t[63]].image,trait:t[7][t[63]].trait,traitTitle:t[7][t[63]].traitTitle,race:t[7][t[63]].race,rarity:t[7][t[63]].rarity,points:t[15](t[63],"p1")}}),{c(){e=y("div"),_e(n.$$.fragment),i=E(),k(e,"class","history__card-wrapper svelte-q5scfz")},m(s,o){W(s,e,o),pe(n,e,null),h(e,i),r=!0},p(s,o){const c={};o[0]&640&&(c.displayTitle=s[7][s[63]].displayTitle),o[0]&640&&(c.title=s[7][s[63]].title),o[0]&640&&(c.img=s[7][s[63]].image),o[0]&640&&(c.trait=s[7][s[63]].trait),o[0]&640&&(c.traitTitle=s[7][s[63]].traitTitle),o[0]&640&&(c.race=s[7][s[63]].race),o[0]&640&&(c.rarity=s[7][s[63]].rarity),o[0]&512&&(c.points=s[15](s[63],"p1")),n.$set(c)},i(s){r||(v(n.$$.fragment,s),r=!0)},o(s){P(n.$$.fragment,s),r=!1},d(s){s&&V(e),ge(n)}}}function Zs(t){let e,n,i;return n=new Ke({props:{displayTitle:t[7][t[63]].displayTitle,title:t[7][t[63]].title,img:t[7][t[63]].image,trait:t[7][t[63]].trait,traitTitle:t[7][t[63]].traitTitle,race:t[7][t[63]].race,rarity:t[7][t[63]].rarity,points:t[15](t[63],"p2")}}),{c(){e=y("div"),_e(n.$$.fragment),k(e,"class","history__card-wrapper svelte-q5scfz")},m(r,s){W(r,e,s),pe(n,e,null),i=!0},p(r,s){const o={};s[0]&384&&(o.displayTitle=r[7][r[63]].displayTitle),s[0]&384&&(o.title=r[7][r[63]].title),s[0]&384&&(o.img=r[7][r[63]].image),s[0]&384&&(o.trait=r[7][r[63]].trait),s[0]&384&&(o.traitTitle=r[7][r[63]].traitTitle),s[0]&384&&(o.race=r[7][r[63]].race),s[0]&384&&(o.rarity=r[7][r[63]].rarity),s[0]&256&&(o.points=r[15](r[63],"p2")),n.$set(o)},i(r){i||(v(n.$$.fragment,r),i=!0)},o(r){P(n.$$.fragment,r),i=!1},d(r){r&&V(e),ge(n)}}}function xs(t){let e,n,i,r;return n=new Ke({props:{displayTitle:t[7][t[63]].displayTitle,title:t[7][t[63]].title,img:t[7][t[63]].image,trait:t[7][t[63]].trait,traitTitle:t[7][t[63]].traitTitle,race:t[7][t[63]].race,rarity:t[7][t[63]].rarity,points:t[15](t[63],"p2")}}),{c(){e=y("div"),_e(n.$$.fragment),i=E(),k(e,"class","history__card-wrapper svelte-q5scfz")},m(s,o){W(s,e,o),pe(n,e,null),h(e,i),r=!0},p(s,o){const c={};o[0]&384&&(c.displayTitle=s[7][s[63]].displayTitle),o[0]&384&&(c.title=s[7][s[63]].title),o[0]&384&&(c.img=s[7][s[63]].image),o[0]&384&&(c.trait=s[7][s[63]].trait),o[0]&384&&(c.traitTitle=s[7][s[63]].traitTitle),o[0]&384&&(c.race=s[7][s[63]].race),o[0]&384&&(c.rarity=s[7][s[63]].rarity),o[0]&256&&(c.points=s[15](s[63],"p2")),n.$set(c)},i(s){r||(v(n.$$.fragment,s),r=!0)},o(s){P(n.$$.fragment,s),r=!1},d(s){s&&V(e),ge(n)}}}function er(t){let e,n,i,r;return n=new Ke({props:{displayTitle:t[7][t[63]].displayTitle,title:t[7][t[63]].title,img:t[7][t[63]].image,trait:t[7][t[63]].trait,traitTitle:t[7][t[63]].traitTitle,race:t[7][t[63]].race,rarity:t[7][t[63]].rarity,points:t[15](t[63],"p2")}}),{c(){e=y("div"),_e(n.$$.fragment),i=E(),k(e,"class","history__card-wrapper svelte-q5scfz")},m(s,o){W(s,e,o),pe(n,e,null),h(e,i),r=!0},p(s,o){const c={};o[0]&384&&(c.displayTitle=s[7][s[63]].displayTitle),o[0]&384&&(c.title=s[7][s[63]].title),o[0]&384&&(c.img=s[7][s[63]].image),o[0]&384&&(c.trait=s[7][s[63]].trait),o[0]&384&&(c.traitTitle=s[7][s[63]].traitTitle),o[0]&384&&(c.race=s[7][s[63]].race),o[0]&384&&(c.rarity=s[7][s[63]].rarity),o[0]&256&&(c.points=s[15](s[63],"p2")),n.$set(c)},i(s){r||(v(n.$$.fragment,s),r=!0)},o(s){P(n.$$.fragment,s),r=!1},d(s){s&&V(e),ge(n)}}}function tr(t){let e,n,i,r;return n=new Ke({props:{displayTitle:t[7][t[63]].displayTitle,title:t[7][t[63]].title,img:t[7][t[63]].image,trait:t[7][t[63]].trait,traitTitle:t[7][t[63]].traitTitle,race:t[7][t[63]].race,rarity:t[7][t[63]].rarity,points:t[15](t[63],"p2")}}),{c(){e=y("div"),_e(n.$$.fragment),i=E(),k(e,"class","history__card-wrapper svelte-q5scfz")},m(s,o){W(s,e,o),pe(n,e,null),h(e,i),r=!0},p(s,o){const c={};o[0]&384&&(c.displayTitle=s[7][s[63]].displayTitle),o[0]&384&&(c.title=s[7][s[63]].title),o[0]&384&&(c.img=s[7][s[63]].image),o[0]&384&&(c.trait=s[7][s[63]].trait),o[0]&384&&(c.traitTitle=s[7][s[63]].traitTitle),o[0]&384&&(c.race=s[7][s[63]].race),o[0]&384&&(c.rarity=s[7][s[63]].rarity),o[0]&256&&(c.points=s[15](s[63],"p2")),n.$set(c)},i(s){r||(v(n.$$.fragment,s),r=!0)},o(s){P(n.$$.fragment,s),r=!1},d(s){s&&V(e),ge(n)}}}function $a(t){let e,n,i,r,s,o=!t[2]&&Ms(t);const c=[Ua,za],u=[];function d(g,_){return g[3]?0:1}return i=d(t),r=u[i]=c[i](t),{c(){e=y("main"),o&&o.c(),n=E(),r.c()},m(g,_){W(g,e,_),o&&o.m(e,null),h(e,n),u[i].m(e,null),s=!0},p(g,_){g[2]?o&&(we(),P(o,1,1,()=>{o=null}),ve()):o?(o.p(g,_),_[0]&4&&v(o,1)):(o=Ms(g),o.c(),v(o,1),o.m(e,n));let w=i;i=d(g),i===w?u[i].p(g,_):(we(),P(u[w],1,1,()=>{u[w]=null}),ve(),r=u[i],r?r.p(g,_):(r=u[i]=c[i](g),r.c()),v(r,1),r.m(e,null))},i(g){s||(v(o),v(r),s=!0)},o(g){P(o),P(r),s=!1},d(g){g&&V(e),o&&o.d(),u[i].d()}}}function ja(t,e){let n=t.hand.filter(r=>r==="protectron").length,i=t.hand.filter(r=>r==="virus").length;t.hand.includes("ai")&&(n+=e.hand.filter(r=>r==="protectron").length,i+=e.hand.filter(r=>r==="virus").length),t.hand.forEach(r=>{r==="virus"&&(t.points.bots+=8),r==="protectron"&&(t.points.bots+=n*i)}),t.hand.includes("ai")&&e.hand.forEach(r=>{r==="virus"&&(t.points.bots+=8),r==="protectron"&&(t.points.bots+=n*i)})}function Ka(t,e,n){let i,r,s,o,c,u,d,g,_,w,B,T,S;Ae(t,en,a=>n(7,i=a)),Ae(t,Ro,a=>n(22,r=a)),Ae(t,de,a=>n(8,s=a)),Ae(t,he,a=>n(9,o=a)),Ae(t,Io,a=>n(23,c=a)),Ae(t,qo,a=>n(24,u=a)),Ae(t,No,a=>n(25,d=a)),Ae(t,Lo,a=>n(26,g=a)),Ae(t,Bo,a=>n(27,_=a)),Ae(t,Po,a=>n(28,w=a)),Ae(t,Oo,a=>n(29,B=a)),Ae(t,So,a=>n(30,T=a)),Ae(t,Do,a=>n(31,S=a));let b=Ln("http://192.168.2.10:6912"),q=!1,K=!1,G=!1,Z=!0,ye="",D="",X=0,H=!1,Y={...i},R={beasts:[..._],bots:[...w],dwarves:[...r],elves:[...B],goblins:[...T],humans:[...S],xenos:[...g],boosts:[...d],traps:[...u],neutrals:[...c]},x=Object.keys(R);ur(()=>{b.on("connect",()=>console.log(`User ID: ${b.id} connected!`)),b.on("connect_error",a=>console.error("Connection error:",a)),b.on("set-users",a=>{Object.entries(a).forEach(([p,A])=>{he.update(O=>(O.id=a.p1,O)),de.update(O=>(O.id=a.p2,O))})}),b.on("game-started",a=>{U(),he.set(a.player1),de.set(a.player2),R={...a.fullDeck}}),b.on("add-turn-count",()=>n(5,X++,X)),b.on("turn-changed",a=>{he.update(p=>(p.turn=!a.player1.turn,p.playingTwice=!1,p.hasVision=!1,p)),de.update(p=>(p.turn=!a.player2.turn,p.playingTwice=!1,p.hasVision=!1,p))}),b.on("turn-count-increased",()=>n(5,X+=3)),b.on("card-drawn",a=>{R={...a.fullDeck},x=a.deckTypes,he.set(a.player1),de.set(a.player2)}),b.on("hands-swapped",a=>{he.set(a.player1),de.set(a.player2)}),b.on("card-discarded",a=>{he.set(a.player1),de.set(a.player2)}),b.on("gdg-declared",()=>n(0,q=!0)),b.on("end-game-sync-started",a=>{Re()==="p1"&&de.set(a.player2),Re()==="p2"&&he.set(a.player1),Y={...a.cardDetails},b.emit("finish-end-game-sync",{player1:o,player2:s,cardDetails:i})}),b.on("end-game-sync-finished",a=>{he.set(a.player1),de.set(a.player2),Y={...a.cardDetails}}),b.on("game-ended",a=>me()),b.emit("client-ready")});function me(){Z=!0,n(2,G=!1),n(1,K=!0),he.update(a=>(a.turn=!1,a)),de.update(a=>(a.turn=!1,a)),ze(o,s),ze(s,o),console.log({p1:o,p2:s}),Vt(),$(),$(!0),console.log(o,s)}function U(){he.update(a=>(a.highestPoints=0,a.points.beasts=0,a.points.bots=0,a.points.dwarves=0,a.points.elves=0,a.points.goblins=0,a.points.humans=0,a.points.xenos=0,a.discards=[],a.justWon=!1,a.boosts=[],a.traps=[],a.neutrals=[],a.chargeDrawnTurns=[],a.infectDrawnTurns=[],a.chargePoints=0,a.infectPoints=0,a)),de.update(a=>(a.highestPoints=0,a.points.beasts=0,a.points.bots=0,a.points.dwarves=0,a.points.elves=0,a.points.goblins=0,a.points.humans=0,a.points.xenos=0,a.discards=[],a.justWon=!1,a.boosts=[],a.traps=[],a.neutrals=[],a.chargeDrawnTurns=[],a.infectDrawnTurns=[],a.chargePoints=0,a.infectPoints=0,a)),R.humans=[...S],R.goblins=[...T],R.elves=[...B],R.dwarves=[...r],R.bots=[...w],R.beasts=[..._],R.xenos=[...g],R.boosts=[...d],R.traps=[...u],R.neutrals=[...c],Ge(en,i.warpstalker.points=0,i),Ge(en,i.voidRunner.points=0,i),n(5,X=0),Z=!1,n(2,G=!0),n(0,q=!1),n(1,K=!1),n(3,ye="")}function Pe(){U(),Me(o),Me(s),Q(),b.emit("start-game",{player1:o,player2:s,fullDeck:R})}function Q(){Math.ceil(Math.random()*2)===1?(Ge(he,o.playedFirst=!0,o),Ge(he,o.turn=!0,o),Ge(de,s.turn=!1,s)):(Ge(de,s.playedFirst=!0,s),Ge(he,o.turn=!1,o),Ge(de,s.turn=!0,s))}function ie(a){a.playingTwice||a.hand.length>=6||(o.playedFirst&&o.turn||s.playedFirst&&s.turn)&&b.emit("new-turn")}function $(a=!1){const p=R.beasts.length||0,A=R.bots.length||0,O=R.dwarves.length||0,ee=R.elves.length||0,Ce=R.goblins.length||0,ne=R.humans.length||0,at=R.xenos.length||0,lt=R.boosts.length||0,Jt=R.traps.length||0,ct=R.neutrals.length||0;if(a)console.log(`Cards remaining per deck:

      Beasts: ${p}

      Humans: ${ne}

      Goblins: ${Ce}

      Elves: ${ee}

      Dwarves: ${O}
)
      Bots: ${A}
)
      Xenos: ${at}
)
      Boosts: ${lt}
)
      Traps: ${Jt}
)
      Neutrals: ${ct}
`);else{const Qt=ne+Ce+ee+O+A+p+at+lt+Jt+ct;console.log(`Cards remaining in deck: ${Qt}`)}}function I(){return!!(o.id===b.id&&o.turn||s.id===b.id&&s.turn)}function Re(){return o.id===b.id?"p1":s.id===b.id?"p2":"guest"}function st(a){return!!(Z||Re()==="guest"||Re()==="p1"&&a==="p1"||Re()==="p2"&&a==="p2")}function N(){b.emit("change-turns",{player1:o,player2:s})}function Me(a){for(let p=1;p<=5;p++){let A=Math.floor(Math.random()*x.length),O=x[A];A=Math.floor(Math.random()*R[O].length);const ee=R[O][A],Ce=R[O].indexOf(ee);R[O].splice(Ce,1),a.hand.push(ee),["corruption"].includes(ee)&&Gt(a,ee),["chastity"].includes(ee)&&jt(a,ee),["switcharoo"].includes(ee)&&Yt(a,ee)}o===a?he.update(p=>(p.hand=a.hand,p.startingHand=a.hand,p)):de.update(p=>(p.hand=a.hand,p.startingHand=a.hand,p))}function be(a,p=!0){if(Z)return;p&&ie(a);let A="",O="",ee=0;if(n(1,K=!0),a.hand.length>5&&!a.playingTwice||a.hand.length>=8)return;if(a.dwarfNextTurn?A=C(a):(ee=Math.floor(Math.random()*x.length),A=x[ee]),x.length===0&&A===void 0){console.log("No more cards!"),n(6,H=!0),b.emit("start-end-game-sync",{player1:o,player2:s,cardDetails:i}),setTimeout(()=>{b.emit("end-game"),n(6,H=!1)},1500);return}if(a.goblinLordMarked)a.goblinLordMarked=!1,R.goblins.length===0?A=x[ee]:A="goblins",R.goblins.includes("goblinLord")?O=R.goblins.find(ne=>ne==="goblinLord"):(ee=Math.floor(Math.random()*R[A].length),O=R[A][ee]);else{if(A==="elves"&&R.elves.includes("elfChampion")?O=R.elves.find(ne=>ne==="elfChampion"):(ee=Math.floor(Math.random()*R[A].length),O=R[A][ee]),a.drewWarchief&&M(a)&&(A="goblins",O="goblinLordsMark"),O==="lost"&&a.hand.includes("chastity")){const ne=R[A].indexOf(O);if(R[A].splice(ne,1),R[A].length===0){const at=x.indexOf(A);x.splice(at,1)}be(a,!1);return}(O==="longbeardLeader"||O==="dwarfCommander"||O==="dwarvenCall"&&!a.hasCorruption)&&(a.dwarfNextTurn=!0),O==="warchief"&&(a.drewWarchief=!0),O==="goblinLordsMark"&&(a.goblinLordMarked=!0),(O==="warpstalker"||O==="voidRunner")&&ot(a,O),i[O].race==="trap"&&Gt(a,O),i[O].race==="boost"&&jt(a,O),i[O].race==="neutral"&&Yt(a,O)}const Ce=R[A].indexOf(O);if(R[A].splice(Ce,1),R[A].length===0){const ne=x.indexOf(A);x.splice(ne,1)}a.title==="Player 1"?he.update(ne=>(ne.hand=[...ne.hand,O],ne.cardsDrawn=[...a.cardsDrawn,O],ne)):de.update(ne=>(ne.hand=[...ne.hand,O],ne.cardsDrawn=[...a.cardsDrawn,O],ne)),b.emit("draw-card",{player1:o,player2:s,deckTypes:x,fullDeck:R})}function C(a){a.dwarfNextTurn=!1;let p="",A=0;return R.dwarves&&R.dwarves.length!==0?p="dwarves":(A=Math.floor(Math.random()*x.length),p=x[A]),p}function M(a){return a.drewWarchief=!1,!!(R.goblins&&R.goblins.includes("goblinLordsMark"))}function Te(){Z||Re()!=="guest"&&(I()&&o.turn&&be(o),I()&&s.turn&&be(s))}function F(a){if(!I())return;const p=Re()==="p1"?o:s;if(o.turn){const A=o.hand.indexOf(a);he.update(O=>(O.hand.splice(A,1),O.discards=[...O.discards,a],O))}else if(s.turn){const A=s.hand.indexOf(a);de.update(O=>(O.hand.splice(A,1),O.discards=[...O.discards,a],O))}b.emit("discard-card",{player1:o,player2:s}),a==="switcharoo"&&p.hand.length===5&&!q&&$e(),p.playingTwice&&a!=="echo"&&(p.playingTwice=!1),!(p.hand.length>5)&&(q?(n(6,H=!0),b.emit("start-end-game-sync",{player1:o,player2:s,cardDetails:i}),setTimeout(()=>{b.emit("end-game"),n(6,H=!1)},1500)):(N(),n(1,K=!1)))}function $e(){let a=[...s.hand];de.update(p=>(p.hand=[...o.hand],p)),he.update(p=>(p.hand=[...a],p)),b.emit("swap-hands",{player1:o,player2:s})}function yt(a,p){let A=a.detail.title;p.length>5&&F(A)}function wt(){I()&&(Z||(q?(n(6,H=!0),b.emit("start-end-game-sync",{player1:o,player2:s,cardDetails:i}),setTimeout(()=>{b.emit("end-game"),n(6,H=!1)},1500)):(console.log("Gobbledegook declared!!"),N(),n(0,q=!0),b.emit("gdg-declared"))))}function Vt(){o.highestPoints>s.highestPoints?(he.update(a=>(a.justWon=!0,a.wins+=1,a)),de.update(a=>(a.losses+=1,a)),n(3,ye=`Player 1 is the winner with ${o.highestPoints} points!ðŸŽŠðŸ¥³ðŸ¾`),n(4,D=`Player 2 loses with ${s.highestPoints} points...${s.highestPoints<=0?"ðŸ’©ðŸ’©ðŸ’©":"ðŸ’©"}`)):s.highestPoints>o.highestPoints?(he.update(a=>(a.losses+=1,a)),de.update(a=>(a.justWon=!0,a.wins+=1,a)),n(3,ye=`Player 2 is the winner with ${s.highestPoints} points!ðŸŽŠðŸ¥³ðŸ¾`),n(4,D=`Player 1 loses with ${o.highestPoints} points...${o.highestPoints<=0?"ðŸ’©ðŸ’©ðŸ’©":"ðŸ’©"}`)):o.highestPoints===5e5&&s.highestPoints===5e5?(he.update(a=>(a.justWon=!0,a.draws+=1,a)),de.update(a=>(a.justWon=!0,a.draws+=1,a)),n(3,ye="It seems neither the goblins nor the elves want to go to war with each other while their leaders are on the field..."),n(4,D=" it's a draw!ðŸ˜“ðŸ˜“ðŸ˜“")):(he.update(a=>(a.justWon=!0,a.draws+=1,a)),de.update(a=>(a.justWon=!0,a.draws+=1,a)),n(3,ye=`Player 1 had ${o.highestPoints} points and player 2 had ${s.highestPoints} points...`),n(4,D=" it's a draw!ðŸ˜“"))}function un(a){a.hand.forEach(p=>{const A=i[p].race;switch(A){case"beast":a.points.beasts+=i[p].points;break;case"bot":i[p].title==="faeBot"&&(a.points.elves+=i[p].points),a.points.bots+=i[p].points;break;case"elf":a.points.elves+=i[p].points;break;case"dwarf":i[p].title==="hobbit"&&(a.points.humans+=i[p].points),a.points.dwarves+=i[p].points;break;case"goblin":a.points.goblins+=i[p].points;break;case"human":a.points.humans+=i[p].points;break;case"xeno":a.points.xenos+=Re()==="p1"&&a===o||Re()==="p2"&&a===s?i[p].points:Y[p].points;break;default:console.log(`Didn't match a race? This was the race of the card: ${A}`)}a.highestPoints=Math.max(a.points.beasts,a.points.bots,a.points.dwarves,a.points.elves,a.points.goblins,a.points.humans,a.points.xenos)})}function ze(a,p){un(a),p.hand.includes("ai")&&(a.points.bots=0),a.hand.includes("commander")&&vt(a),a.hand.includes("emperor")&&fn(a),a.hand.includes("goblinLord")&&Ft(a,p),a.hand.includes("elfKing")&&hn(a,p),a.hand.includes("dreamDestroyer")&&rt(a),a.hand.includes("dreamDestroyer")&&rt(a),a.hand.includes("ai")&&Wt(a,p),a.hand.includes("protectron")&&ja(a,p),a.hand.includes("longbeardLeader")&&dn(a),a.hand.includes("nelladan")&&a.hand.includes("nadallen")&&(a.points.elves+=10),a.hand.includes("nebulite")&&ot(a,"nebulite"),a.highestPoints=Math.max(a.points.beasts,a.points.bots,a.points.dwarves,a.points.elves,a.points.goblins,a.points.humans,a.points.xenos),Kt(a),kt(a)}function fn(a){a.points.humans*=2,a.hand.forEach(p=>{i[p].race!=="human"&&i[p].race!=="xeno"&&i[p].title!=="hobbit"&&(a.points.humans+=i[p].points)})}function vt(a){let p=a.hand.filter(A=>A==="commander").length;a.hand.forEach(A=>{(i[A].race==="human"||i[A].title==="hobbit")&&(a.points.humans+=p)})}function Ft(a,p){const A=a.hand.every(Ce=>i[Ce].race==="goblin");console.log(`from inside calculateGoblinLord, goblinHand = ${A}`);const O=p.hand.every(Ce=>i[Ce].race==="elf"),ee=p.hand.includes("elfKing");A&&O&&ee?a.points.goblins=5e5:A&&(a.points.goblins=1e6)}function hn(a,p){const A=p.hand.every(Ce=>i[Ce].race==="goblin"),O=a.hand.every(Ce=>i[Ce].race==="elf"||i[Ce].title==="faeBot"),ee=p.hand.includes("goblinLord");A&&ee&&O?a.points.elves=5e5:O?a.points.elves*=3:a.points.elves*=2}function rt(a){a.points.beasts=0,a.hand.forEach(p=>{i[p].race==="beast"&&(a.points.beasts+=12)})}function Wt(a,p){a.points.bots=0,p.points.bots=0,a.hand.forEach(A=>{i[A].race==="bot"&&(a.points.bots+=i[A].points+2)}),p.hand.forEach(A=>{i[A].race==="bot"&&(a.points.bots+=i[A].points+2)})}function dn(a){let p=0;o.discards.forEach(A=>{r.includes(A)&&(p+=1)}),s.discards.forEach(A=>{r.includes(A)&&(p+=1)}),a.points.dwarves+=p*5}function ot(a,p){p==="warpstalker"&&Ge(en,i[p].points=Math.ceil(Math.random()*7)+6,i),p==="voidRunner"&&Ge(en,i[p].points=X,i),p==="nebulite"&&a.hand.forEach(A=>{i[A].race==="xeno"&&i[A].title!=="nebulite"&&(a.points.xenos+=4)})}function $t(a,p){if(!["warpstalker","voidRunner"].includes(a))return i[a].points;if(Re()===p){if(a==="warpstalker")return i.warpstalker.points;if(a==="voidRunner")return i.voidRunner.points}else{if(a==="warpstalker")return Y.warpstalker.points;if(a==="voidRunner")return Y.voidRunner.points}}function jt(a,p){a.boosts=[...a.boosts,p],p==="charge"&&(a.chargeDrawnTurns=[...a.chargeDrawnTurns,X])}function Kt(a){if(!(a.hand.includes("xenoguard")||a.hand.includes("corruption")||a.discards.includes("corruption"))){for(let p=0;p<a.chargeDrawnTurns.length;p++)a.chargePoints+=X-a.chargeDrawnTurns[p];a.points.bots+=a.chargePoints,a.points.humans+=a.chargePoints,a.points.bots>a.highestPoints&&(a.highestPoints=a.points.bots),a.points.humans>a.highestPoints&&(a.highestPoints=a.points.humans),a.boosts.forEach(p=>{p==="rejuvenate"&&(a.highestPoints+=10)})}}function Gt(a,p){a.traps=[...a.traps,p],p==="infect"&&(a.infectDrawnTurns=[...a.infectDrawnTurns,X])}function kt(a){if(!(a.hand.includes("rhino")||a.hand.includes("chastity")||a.discards.includes("chastity"))){for(let p=0;p<a.infectDrawnTurns.length;p++)a.infectPoints+=X-a.infectDrawnTurns[p];a.points.bots!==a.highestPoints&&(a.highestPoints-=a.infectPoints),a.traps.forEach(p=>{p==="sap"&&(a.highestPoints-=10),p==="xenophobia"&&(a.points.xenos-=10),p==="xenophobia"&&a.points.xenos===a.highestPoints&&(a.highestPoints-=10)})}}function Yt(a,p){a.neutrals=[...a.neutrals,p],p==="echo"&&(a.playingTwice=!0),p==="vision"&&(a.hasVision=!0),p==="ticktock"&&b.emit("increase-turn-count")}return[q,K,G,ye,D,X,H,i,s,o,Pe,st,Te,yt,wt,$t,a=>yt(a,o.hand),a=>yt(a,s.hand)]}class Ga extends it{constructor(e){super(),nt(this,e,Ka,$a,xe,{},null,[-1,-1,-1,-1])}}function Ya(t){let e,n,i;return n=new Ga({}),{c(){e=y("main"),_e(n.$$.fragment),k(e,"class","svelte-hd17me")},m(r,s){W(r,e,s),pe(n,e,null),i=!0},p:J,i(r){i||(v(n.$$.fragment,r),i=!0)},o(r){P(n.$$.fragment,r),i=!1},d(r){r&&V(e),ge(n)}}}class nr extends it{constructor(e){super(),nt(this,e,null,Ya,xe,{})}}function Xa(t){let e,n,i,r;return e=new as({props:{path:"/home",component:nr}}),i=new as({props:{path:"/",component:nr}}),{c(){_e(e.$$.fragment),n=E(),_e(i.$$.fragment)},m(s,o){pe(e,s,o),W(s,n,o),pe(i,s,o),r=!0},p:J,i(s){r||(v(e.$$.fragment,s),v(i.$$.fragment,s),r=!0)},o(s){P(e.$$.fragment,s),P(i.$$.fragment,s),r=!1},d(s){ge(e,s),s&&V(n),ge(i,s)}}}function Ja(t){let e,n;return e=new Eo({props:{$$slots:{default:[Xa]},$$scope:{ctx:t}}}),{c(){_e(e.$$.fragment)},m(i,r){pe(e,i,r),n=!0},p(i,[r]){const s={};r&1&&(s.$$scope={dirty:r,ctx:i}),e.$set(s)},i(i){n||(v(e.$$.fragment,i),n=!0)},o(i){P(e.$$.fragment,i),n=!1},d(i){ge(e,i)}}}class Qa extends it{constructor(e){super(),nt(this,e,null,Ja,xe,{})}}new Qa({target:document.getElementById("app")});
