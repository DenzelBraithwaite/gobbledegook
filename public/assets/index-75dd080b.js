(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();function G(){}const jt=t=>t;function Ne(t,e){for(const n in e)t[n]=e[n];return t}function yi(t){return!!t&&(typeof t=="object"||typeof t=="function")&&typeof t.then=="function"}function qn(t){return t()}function Jt(){return Object.create(null)}function Me(t){t.forEach(qn)}function it(t){return typeof t=="function"}function Oe(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let rt;function Xt(t,e){return rt||(rt=document.createElement("a")),rt.href=e,t===rt.href}function wi(t){return Object.keys(t).length===0}function In(t,...e){if(t==null)return G;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function he(t,e,n){t.$$.on_destroy.push(In(e,n))}function qe(t,e,n,i){if(t){const s=jn(t,e,n,i);return t[0](s)}}function jn(t,e,n,i){return t[1]&&i?Ne(n.ctx.slice(),t[1](i(e))):n.ctx}function Ie(t,e,n,i){if(t[2]&&i){const s=t[2](i(n));if(e.dirty===void 0)return s;if(typeof s=="object"){const r=[],a=Math.max(e.dirty.length,s.length);for(let c=0;c<a;c+=1)r[c]=e.dirty[c]|s[c];return r}return e.dirty|s}return e.dirty}function je(t,e,n,i,s,r){if(s){const a=jn(e,n,i,r);t.p(a,s)}}function Ue(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let i=0;i<n;i++)e[i]=-1;return e}return-1}function Rt(t){const e={};for(const n in t)n[0]!=="$"&&(e[n]=t[n]);return e}function Qt(t,e){const n={};e=new Set(e);for(const i in t)!e.has(i)&&i[0]!=="$"&&(n[i]=t[i]);return n}function oe(t,e,n){return t.set(n),e}function Zt(t){const e=typeof t=="string"&&t.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return e?[parseFloat(e[1]),e[2]||"px"]:[t,"px"]}const Un=typeof window<"u";let Wn=Un?()=>window.performance.now():()=>Date.now(),Ut=Un?t=>requestAnimationFrame(t):G;const Ke=new Set;function Fn(t){Ke.forEach(e=>{e.c(t)||(Ke.delete(e),e.f())}),Ke.size!==0&&Ut(Fn)}function Vn(t){let e;return Ke.size===0&&Ut(Fn),{promise:new Promise(n=>{Ke.add(e={c:t,f:n})}),abort(){Ke.delete(e)}}}function y(t,e){t.appendChild(e)}function zn(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function ki(t){const e=B("style");return vi(zn(t),e),e.sheet}function vi(t,e){return y(t.head||t,e),e.sheet}function ee(t,e,n){t.insertBefore(e,n||null)}function X(t){t.parentNode&&t.parentNode.removeChild(t)}function pt(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function B(t){return document.createElement(t)}function V(t){return document.createTextNode(t)}function x(){return V(" ")}function Je(){return V("")}function We(t,e,n,i){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n,i)}function O(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}const Ti=["width","height"];function $t(t,e){const n=Object.getOwnPropertyDescriptors(t.__proto__);for(const i in e)e[i]==null?t.removeAttribute(i):i==="style"?t.style.cssText=e[i]:i==="__value"?t.value=t[i]=e[i]:n[i]&&n[i].set&&Ti.indexOf(i)===-1?t[i]=e[i]:O(t,i,e[i])}function Ei(t){return Array.from(t.childNodes)}function pe(t,e){e=""+e,t.data!==e&&(t.data=e)}function Hn(t,e,{bubbles:n=!1,cancelable:i=!1}={}){const s=document.createEvent("CustomEvent");return s.initCustomEvent(t,n,i,e),s}function xt(t,e){return new t(e)}const mt=new Map;let gt=0;function Ai(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function Ci(t,e){const n={stylesheet:ki(e),rules:{}};return mt.set(t,n),n}function Kn(t,e,n,i,s,r,a,c=0){const o=16.666/i;let u=`{
`;for(let _=0;_<=1;_+=o){const L=e+(n-e)*r(_);u+=_*100+`%{${a(L,1-L)}}
`}const h=u+`100% {${a(n,1-n)}}
}`,g=`__svelte_${Ai(h)}_${c}`,m=zn(t),{stylesheet:k,rules:w}=mt.get(m)||Ci(m,t);w[g]||(w[g]=!0,k.insertRule(`@keyframes ${g} ${h}`,k.cssRules.length));const b=t.style.animation||"";return t.style.animation=`${b?`${b}, `:""}${g} ${i}ms linear ${s}ms 1 both`,gt+=1,g}function Bt(t,e){const n=(t.style.animation||"").split(", "),i=n.filter(e?r=>r.indexOf(e)<0:r=>r.indexOf("__svelte")===-1),s=n.length-i.length;s&&(t.style.animation=i.join(", "),gt-=s,gt||Oi())}function Oi(){Ut(()=>{gt||(mt.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&X(e)}),mt.clear())})}let tt;function Ce(t){tt=t}function Xe(){if(!tt)throw new Error("Function called outside component initialization");return tt}function Gn(t){Xe().$$.on_mount.push(t)}function Ri(t){Xe().$$.on_destroy.push(t)}function Yn(){const t=Xe();return(e,n,{cancelable:i=!1}={})=>{const s=t.$$.callbacks[e];if(s){const r=Hn(e,n,{cancelable:i});return s.slice().forEach(a=>{a.call(t,r)}),!r.defaultPrevented}return!0}}function kt(t,e){return Xe().$$.context.set(t,e),e}function Ge(t){return Xe().$$.context.get(t)}function xe(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(i=>i.call(this,e))}const ze=[],en=[];let Ye=[];const tn=[],Bi=Promise.resolve();let Pt=!1;function Pi(){Pt||(Pt=!0,Bi.then(Wt))}function De(t){Ye.push(t)}const vt=new Set;let Fe=0;function Wt(){if(Fe!==0)return;const t=tt;do{try{for(;Fe<ze.length;){const e=ze[Fe];Fe++,Ce(e),Si(e.$$)}}catch(e){throw ze.length=0,Fe=0,e}for(Ce(null),ze.length=0,Fe=0;en.length;)en.pop()();for(let e=0;e<Ye.length;e+=1){const n=Ye[e];vt.has(n)||(vt.add(n),n())}Ye.length=0}while(ze.length);for(;tn.length;)tn.pop()();Pt=!1,vt.clear(),Ce(t)}function Si(t){if(t.fragment!==null){t.update(),Me(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(De)}}function Li(t){const e=[],n=[];Ye.forEach(i=>t.indexOf(i)===-1?e.push(i):n.push(i)),n.forEach(i=>i()),Ye=e}let Ze;function Jn(){return Ze||(Ze=Promise.resolve(),Ze.then(()=>{Ze=null})),Ze}function bt(t,e,n){t.dispatchEvent(Hn(`${e?"intro":"outro"}${n}`))}const ut=new Set;let Be;function be(){Be={r:0,c:[],p:Be}}function _e(){Be.r||Me(Be.c),Be=Be.p}function T(t,e){t&&t.i&&(ut.delete(t),t.i(e))}function R(t,e,n,i){if(t&&t.o){if(ut.has(t))return;ut.add(t),Be.c.push(()=>{ut.delete(t),i&&(n&&t.d(1),i())}),t.o(e)}else i&&i()}const Xn={duration:0};function Qn(t,e,n){const i={direction:"in"};let s=e(t,n,i),r=!1,a,c,o=0;function u(){a&&Bt(t,a)}function h(){const{delay:m=0,duration:k=300,easing:w=jt,tick:b=G,css:_}=s||Xn;_&&(a=Kn(t,0,1,k,m,w,_,o++)),b(0,1);const L=Wn()+m,S=L+k;c&&c.abort(),r=!0,De(()=>bt(t,!0,"start")),c=Vn(M=>{if(r){if(M>=S)return b(1,0),bt(t,!0,"end"),u(),r=!1;if(M>=L){const v=w((M-L)/k);b(v,1-v)}}return r})}let g=!1;return{start(){g||(g=!0,Bt(t),it(s)?(s=s(i),Jn().then(h)):h())},invalidate(){g=!1},end(){r&&(u(),r=!1)}}}function Zn(t,e,n){const i={direction:"out"};let s=e(t,n,i),r=!0,a;const c=Be;c.r+=1;function o(){const{delay:u=0,duration:h=300,easing:g=jt,tick:m=G,css:k}=s||Xn;k&&(a=Kn(t,1,0,h,u,g,k));const w=Wn()+u,b=w+h;De(()=>bt(t,!1,"start")),Vn(_=>{if(r){if(_>=b)return m(0,1),bt(t,!1,"end"),--c.r||Me(c.c),!1;if(_>=w){const L=g((_-w)/h);m(1-L,L)}}return r})}return it(s)?Jn().then(()=>{s=s(i),o()}):o(),{end(u){u&&s.tick&&s.tick(1,0),r&&(a&&Bt(t,a),r=!1)}}}function nn(t,e){const n=e.token={};function i(s,r,a,c){if(e.token!==n)return;e.resolved=c;let o=e.ctx;a!==void 0&&(o=o.slice(),o[a]=c);const u=s&&(e.current=s)(o);let h=!1;e.block&&(e.blocks?e.blocks.forEach((g,m)=>{m!==r&&g&&(be(),R(g,1,1,()=>{e.blocks[m]===g&&(e.blocks[m]=null)}),_e())}):e.block.d(1),u.c(),T(u,1),u.m(e.mount(),e.anchor),h=!0),e.block=u,e.blocks&&(e.blocks[r]=u),h&&Wt()}if(yi(t)){const s=Xe();if(t.then(r=>{Ce(s),i(e.then,1,e.value,r),Ce(null)},r=>{if(Ce(s),i(e.catch,2,e.error,r),Ce(null),!e.hasCatch)throw r}),e.current!==e.pending)return i(e.pending,0),!0}else{if(e.current!==e.then)return i(e.then,1,e.value,t),!0;e.resolved=t}}function Ni(t,e,n){const i=e.slice(),{resolved:s}=t;t.current===t.then&&(i[t.value]=s),t.current===t.catch&&(i[t.error]=s),t.block.p(i,n)}function $n(t,e){const n={},i={},s={$$scope:1};let r=t.length;for(;r--;){const a=t[r],c=e[r];if(c){for(const o in a)o in c||(i[o]=1);for(const o in c)s[o]||(n[o]=c[o],s[o]=1);t[r]=c}else for(const o in a)s[o]=1}for(const a in i)a in n||(n[a]=void 0);return n}function sn(t){return typeof t=="object"&&t!==null?t:{}}function de(t){t&&t.c()}function ce(t,e,n,i){const{fragment:s,after_update:r}=t.$$;s&&s.m(e,n),i||De(()=>{const a=t.$$.on_mount.map(qn).filter(it);t.$$.on_destroy?t.$$.on_destroy.push(...a):Me(a),t.$$.on_mount=[]}),r.forEach(De)}function ue(t,e){const n=t.$$;n.fragment!==null&&(Li(n.after_update),Me(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Di(t,e){t.$$.dirty[0]===-1&&(ze.push(t),Pi(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Pe(t,e,n,i,s,r,a,c=[-1]){const o=tt;Ce(t);const u=t.$$={fragment:null,ctx:[],props:r,update:G,not_equal:s,bound:Jt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(o?o.$$.context:[])),callbacks:Jt(),dirty:c,skip_bound:!1,root:e.target||o.$$.root};a&&a(u.root);let h=!1;if(u.ctx=n?n(t,e.props||{},(g,m,...k)=>{const w=k.length?k[0]:m;return u.ctx&&s(u.ctx[g],u.ctx[g]=w)&&(!u.skip_bound&&u.bound[g]&&u.bound[g](w),h&&Di(t,g)),m}):[],u.update(),h=!0,Me(u.before_update),u.fragment=i?i(u.ctx):!1,e.target){if(e.hydrate){const g=Ei(e.target);u.fragment&&u.fragment.l(g),g.forEach(X)}else u.fragment&&u.fragment.c();e.intro&&T(t.$$.fragment),ce(t,e.target,e.anchor,e.customElement),Wt()}Ce(o)}class Se{$destroy(){ue(this,1),this.$destroy=G}$on(e,n){if(!it(n))return G;const i=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return i.push(n),()=>{const s=i.indexOf(n);s!==-1&&i.splice(s,1)}}$set(e){this.$$set&&!wi(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const St={},_t={},xn={},ei=/^:(.+)/,rn=4,Mi=3,qi=2,Ii=1,ji=1,nt=t=>t.replace(/(^\/+|\/+$)/g,"").split("/"),Tt=t=>t.replace(/(^\/+|\/+$)/g,""),Ui=(t,e)=>{const n=t.default?0:nt(t.path).reduce((i,s)=>(i+=rn,s===""?i+=ji:ei.test(s)?i+=qi:s[0]==="*"?i-=rn+Ii:i+=Mi,i),0);return{route:t,score:n,index:e}},Wi=t=>t.map(Ui).sort((e,n)=>e.score<n.score?1:e.score>n.score?-1:e.index-n.index),on=(t,e)=>{let n,i;const[s]=e.split("?"),r=nt(s),a=r[0]==="",c=Wi(t);for(let o=0,u=c.length;o<u;o++){const h=c[o].route;let g=!1;if(h.default){i={route:h,params:{},uri:e};continue}const m=nt(h.path),k={},w=Math.max(r.length,m.length);let b=0;for(;b<w;b++){const _=m[b],L=r[b];if(_&&_[0]==="*"){const M=_==="*"?"*":_.slice(1);k[M]=r.slice(b).map(decodeURIComponent).join("/");break}if(typeof L>"u"){g=!0;break}const S=ei.exec(_);if(S&&!a){const M=decodeURIComponent(L);k[S[1]]=M}else if(_!==L){g=!0;break}}if(!g){n={route:h,params:k,uri:"/"+r.slice(0,b).join("/")};break}}return n||i||null},Et=(t,e)=>t+(e?`?${e}`:""),Fi=(t,e)=>{if(t.startsWith("/"))return t;const[n,i]=t.split("?"),[s]=e.split("?"),r=nt(n),a=nt(s);if(r[0]==="")return Et(s,i);if(!r[0].startsWith(".")){const u=a.concat(r).join("/");return Et((s==="/"?"":"/")+u,i)}const c=a.concat(r),o=[];return c.forEach(u=>{u===".."?o.pop():u!=="."&&o.push(u)}),Et("/"+o.join("/"),i)},an=(t,e)=>`${Tt(e==="/"?t:`${Tt(t)}/${Tt(e)}`)}/`,Vi=t=>!t.defaultPrevented&&t.button===0&&!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey),ti=()=>typeof window<"u"&&"document"in window&&"location"in window,zi=t=>({active:t&4}),ln=t=>({active:!!t[2]});function Hi(t){let e,n,i,s;const r=t[16].default,a=qe(r,t,t[15],ln);let c=[{href:t[0]},{"aria-current":t[2]},t[1],t[6]],o={};for(let u=0;u<c.length;u+=1)o=Ne(o,c[u]);return{c(){e=B("a"),a&&a.c(),$t(e,o)},m(u,h){ee(u,e,h),a&&a.m(e,null),n=!0,i||(s=We(e,"click",t[5]),i=!0)},p(u,[h]){a&&a.p&&(!n||h&32772)&&je(a,r,u,u[15],n?Ie(r,u[15],h,zi):Ue(u[15]),ln),$t(e,o=$n(c,[(!n||h&1)&&{href:u[0]},(!n||h&4)&&{"aria-current":u[2]},h&2&&u[1],h&64&&u[6]]))},i(u){n||(T(a,u),n=!0)},o(u){R(a,u),n=!1},d(u){u&&X(e),a&&a.d(u),i=!1,s()}}}function Ki(t,e,n){let i;const s=["to","replace","state","getProps"];let r=Qt(e,s),a,c,{$$slots:o={},$$scope:u}=e,{to:h="#"}=e,{replace:g=!1}=e,{state:m={}}=e,{getProps:k=()=>({})}=e;const w=Ge(St);he(t,w,A=>n(13,a=A));const{base:b}=Ge(_t);he(t,b,A=>n(14,c=A));const{navigate:_}=Ge(xn),L=Yn();let S,M,v,I;const E=A=>{if(L("click",A),Vi(A)){A.preventDefault();const Q=a.pathname===S||g;_(S,{state:m,replace:Q})}};return t.$$set=A=>{e=Ne(Ne({},e),Rt(A)),n(6,r=Qt(e,s)),"to"in A&&n(7,h=A.to),"replace"in A&&n(8,g=A.replace),"state"in A&&n(9,m=A.state),"getProps"in A&&n(10,k=A.getProps),"$$scope"in A&&n(15,u=A.$$scope)},t.$$.update=()=>{t.$$.dirty&16512&&n(0,S=h==="/"?c.uri:Fi(h,c.uri)),t.$$.dirty&8193&&n(11,M=a.pathname.startsWith(S)),t.$$.dirty&8193&&n(12,v=S===a.pathname),t.$$.dirty&4096&&n(2,i=v?"page":void 0),n(1,I=k({location:a,href:S,isPartiallyCurrent:M,isCurrent:v,existingProps:r}))},[S,I,i,w,b,E,r,h,g,m,k,M,v,a,c,u,o]}class Gi extends Se{constructor(e){super(),Pe(this,e,Ki,Hi,Oe,{to:7,replace:8,state:9,getProps:10})}}const Yi=t=>({params:t&4}),cn=t=>({params:t[2]});function un(t){let e,n,i,s;const r=[Xi,Ji],a=[];function c(o,u){return o[0]?0:1}return e=c(t),n=a[e]=r[e](t),{c(){n.c(),i=Je()},m(o,u){a[e].m(o,u),ee(o,i,u),s=!0},p(o,u){let h=e;e=c(o),e===h?a[e].p(o,u):(be(),R(a[h],1,1,()=>{a[h]=null}),_e(),n=a[e],n?n.p(o,u):(n=a[e]=r[e](o),n.c()),T(n,1),n.m(i.parentNode,i))},i(o){s||(T(n),s=!0)},o(o){R(n),s=!1},d(o){a[e].d(o),o&&X(i)}}}function Ji(t){let e;const n=t[8].default,i=qe(n,t,t[7],cn);return{c(){i&&i.c()},m(s,r){i&&i.m(s,r),e=!0},p(s,r){i&&i.p&&(!e||r&132)&&je(i,n,s,s[7],e?Ie(n,s[7],r,Yi):Ue(s[7]),cn)},i(s){e||(T(i,s),e=!0)},o(s){R(i,s),e=!1},d(s){i&&i.d(s)}}}function Xi(t){let e,n,i,s={ctx:t,current:null,token:null,hasCatch:!1,pending:$i,then:Zi,catch:Qi,value:12,blocks:[,,,]};return nn(n=t[0],s),{c(){e=Je(),s.block.c()},m(r,a){ee(r,e,a),s.block.m(r,s.anchor=a),s.mount=()=>e.parentNode,s.anchor=e,i=!0},p(r,a){t=r,s.ctx=t,a&1&&n!==(n=t[0])&&nn(n,s)||Ni(s,t,a)},i(r){i||(T(s.block),i=!0)},o(r){for(let a=0;a<3;a+=1){const c=s.blocks[a];R(c)}i=!1},d(r){r&&X(e),s.block.d(r),s.token=null,s=null}}}function Qi(t){return{c:G,m:G,p:G,i:G,o:G,d:G}}function Zi(t){var c;let e,n,i;const s=[t[2],t[3]];var r=((c=t[12])==null?void 0:c.default)||t[12];function a(o){let u={};for(let h=0;h<s.length;h+=1)u=Ne(u,s[h]);return{props:u}}return r&&(e=xt(r,a())),{c(){e&&de(e.$$.fragment),n=Je()},m(o,u){e&&ce(e,o,u),ee(o,n,u),i=!0},p(o,u){var g;const h=u&12?$n(s,[u&4&&sn(o[2]),u&8&&sn(o[3])]):{};if(u&1&&r!==(r=((g=o[12])==null?void 0:g.default)||o[12])){if(e){be();const m=e;R(m.$$.fragment,1,0,()=>{ue(m,1)}),_e()}r?(e=xt(r,a()),de(e.$$.fragment),T(e.$$.fragment,1),ce(e,n.parentNode,n)):e=null}else r&&e.$set(h)},i(o){i||(e&&T(e.$$.fragment,o),i=!0)},o(o){e&&R(e.$$.fragment,o),i=!1},d(o){o&&X(n),e&&ue(e,o)}}}function $i(t){return{c:G,m:G,p:G,i:G,o:G,d:G}}function xi(t){let e,n,i=t[1]&&t[1].route===t[5]&&un(t);return{c(){i&&i.c(),e=Je()},m(s,r){i&&i.m(s,r),ee(s,e,r),n=!0},p(s,[r]){s[1]&&s[1].route===s[5]?i?(i.p(s,r),r&2&&T(i,1)):(i=un(s),i.c(),T(i,1),i.m(e.parentNode,e)):i&&(be(),R(i,1,1,()=>{i=null}),_e())},i(s){n||(T(i),n=!0)},o(s){R(i),n=!1},d(s){i&&i.d(s),s&&X(e)}}}function es(t,e,n){let i,{$$slots:s={},$$scope:r}=e,{path:a=""}=e,{component:c=null}=e,o={},u={};const{registerRoute:h,unregisterRoute:g,activeRoute:m}=Ge(_t);he(t,m,w=>n(1,i=w));const k={path:a,default:a===""};return h(k),Ri(()=>{g(k)}),t.$$set=w=>{n(11,e=Ne(Ne({},e),Rt(w))),"path"in w&&n(6,a=w.path),"component"in w&&n(0,c=w.component),"$$scope"in w&&n(7,r=w.$$scope)},t.$$.update=()=>{if(i&&i.route===k){n(2,o=i.params);const{component:w,path:b,..._}=e;n(3,u=_),w&&(w.toString().startsWith("class ")?n(0,c=w):n(0,c=w())),ti()&&(window==null||window.scrollTo(0,0))}},e=Rt(e),[c,i,o,u,m,k,a,r,s]}class fn extends Se{constructor(e){super(),Pe(this,e,es,xi,Oe,{path:6,component:0})}}const Ve=[];function ts(t,e){return{subscribe:me(t,e).subscribe}}function me(t,e=G){let n;const i=new Set;function s(c){if(Oe(t,c)&&(t=c,n)){const o=!Ve.length;for(const u of i)u[1](),Ve.push(u,t);if(o){for(let u=0;u<Ve.length;u+=2)Ve[u][0](Ve[u+1]);Ve.length=0}}}function r(c){s(c(t))}function a(c,o=G){const u=[c,o];return i.add(u),i.size===1&&(n=e(s)||G),c(t),()=>{i.delete(u),i.size===0&&n&&(n(),n=null)}}return{set:s,update:r,subscribe:a}}function ns(t,e,n){const i=!Array.isArray(t),s=i?[t]:t,r=e.length<2;return ts(n,a=>{let c=!1;const o=[];let u=0,h=G;const g=()=>{if(u)return;h();const k=e(i?o[0]:o,a);r?a(k):h=it(k)?k:G},m=s.map((k,w)=>In(k,b=>{o[w]=b,u&=~(1<<w),c&&g()},()=>{u|=1<<w}));return c=!0,g(),function(){Me(m),h(),c=!1}})}const At=t=>({...t.location,state:t.history.state,key:t.history.state&&t.history.state.key||"initial"}),is=t=>{const e=[];let n=At(t);return{get location(){return n},listen(i){e.push(i);const s=()=>{n=At(t),i({location:n,action:"POP"})};return t.addEventListener("popstate",s),()=>{t.removeEventListener("popstate",s);const r=e.indexOf(i);e.splice(r,1)}},navigate(i,{state:s,replace:r=!1}={}){s={...s,key:Date.now()+""};try{r?t.history.replaceState(s,"",i):t.history.pushState(s,"",i)}catch{t.location[r?"replace":"assign"](i)}n=At(t),e.forEach(a=>a({location:n,action:"PUSH"})),document.activeElement.blur()}}},ss=(t="/")=>{let e=0;const n=[{pathname:t,search:""}],i=[];return{get location(){return n[e]},addEventListener(s,r){},removeEventListener(s,r){},history:{get entries(){return n},get index(){return e},get state(){return i[e]},pushState(s,r,a){const[c,o=""]=a.split("?");e++,n.push({pathname:c,search:o}),i.push(s)},replaceState(s,r,a){const[c,o=""]=a.split("?");n[e]={pathname:c,search:o},i[e]=s}}}},rs=is(ti()?window:ss()),os=t=>({route:t&2,location:t&1}),hn=t=>({route:t[1]&&t[1].uri,location:t[0]});function as(t){let e;const n=t[12].default,i=qe(n,t,t[11],hn);return{c(){i&&i.c()},m(s,r){i&&i.m(s,r),e=!0},p(s,[r]){i&&i.p&&(!e||r&2051)&&je(i,n,s,s[11],e?Ie(n,s[11],r,os):Ue(s[11]),hn)},i(s){e||(T(i,s),e=!0)},o(s){R(i,s),e=!1},d(s){i&&i.d(s)}}}function ls(t,e,n){let i,s,r,a,{$$slots:c={},$$scope:o}=e,{basepath:u="/"}=e,{url:h=null}=e,{history:g=rs}=e;kt(xn,g);const m=Ge(St),k=Ge(_t),w=me([]);he(t,w,E=>n(9,s=E));const b=me(null);he(t,b,E=>n(1,a=E));let _=!1;const L=m||me(h?{pathname:h}:g.location);he(t,L,E=>n(0,i=E));const S=k?k.routerBase:me({path:u,uri:u});he(t,S,E=>n(10,r=E));const M=ns([S,b],([E,A])=>{if(!A)return E;const{path:Q}=E,{route:W,uri:Y}=A;return{path:W.default?Q:W.path.replace(/\*.*$/,""),uri:Y}}),v=E=>{const{path:A}=r;let{path:Q}=E;if(E._path=Q,E.path=an(A,Q),typeof window>"u"){if(_)return;const W=on([E],i.pathname);W&&(b.set(W),_=!0)}else w.update(W=>[...W,E])},I=E=>{w.update(A=>A.filter(Q=>Q!==E))};return m||(Gn(()=>g.listen(A=>{L.set(A.location)})),kt(St,L)),kt(_t,{activeRoute:b,base:S,routerBase:M,registerRoute:v,unregisterRoute:I}),t.$$set=E=>{"basepath"in E&&n(6,u=E.basepath),"url"in E&&n(7,h=E.url),"history"in E&&n(8,g=E.history),"$$scope"in E&&n(11,o=E.$$scope)},t.$$.update=()=>{if(t.$$.dirty&1024){const{path:E}=r;w.update(A=>A.map(Q=>Object.assign(Q,{path:an(E,Q._path)})))}if(t.$$.dirty&513){const E=on(s,i.pathname);b.set(E)}},[i,a,w,b,L,S,u,h,g,s,r,o,c]}class cs extends Se{constructor(e){super(),Pe(this,e,ls,as,Oe,{basepath:6,url:7,history:8})}}const te=me({id:void 0,title:"Player 1",points:{beasts:0,bots:0,dwarves:0,elves:0,humans:0,goblins:0,xenos:0},highestPoints:0,justWon:!1,wins:0,losses:0,draws:0,turn:!1,dwarfNextTurn:!1,goblinLordMarked:!1,hand:[],discards:[]}),ne=me({id:void 0,title:"Player 2",points:{beasts:0,bots:0,dwarves:0,elves:0,humans:0,goblins:0,xenos:0},highestPoints:0,justWon:!1,wins:0,losses:0,draws:0,dwarfNextTurn:!1,goblinLordMarked:!1,turn:!1,hand:[],discards:[]}),us=me({emperor:{title:"emperor",displayTitle:"Emperor",points:10,amount:1,rarity:"legendary",trait:"Human points are doubled and all cards in your hand will count towards your final score, regardless of race.",traitTitle:"No Discrimination",description:"The leader of the human race.",race:"human",image:"/humans/emperor.gif"},commander:{title:"commander",displayTitle:"Commander",points:8,amount:2,rarity:"epic",trait:"When the commander is in your hand, all humans you have will receive +1 point, including commanders. This effect also stacks with the emperor.",traitTitle:"Rally",description:"Powerful warrior second only to the emperor.",race:"human",image:"/humans/commander.png"},assassin:{title:"assassin",displayTitle:"Assassin",points:6,amount:3,rarity:"amazing",trait:"",traitTitle:"",description:"A highly skilled professional killer.",race:"human",image:"/humans/assassin.png"},knight:{title:"knight",displayTitle:"Knight",points:4,amount:4,rarity:"uncommon",trait:"",traitTitle:"",description:"A middle ranked warrior.",race:"human",image:"/humans/knight.png"},soldier:{title:"soldier",displayTitle:"Soldier",points:3,amount:4,rarity:"uncommon",trait:"",traitTitle:"",description:"A low ranked warrior.",race:"human",image:"/humans/soldier.png"},scout:{title:"scout",displayTitle:"Scout",points:2,amount:5,rarity:"common",trait:"",traitTitle:"",description:"The lowest ranked in the human army.",race:"human",image:"/humans/scout.png"},villager:{title:"villager",displayTitle:"Villager",points:1,amount:6,rarity:"common",trait:"",traitTitle:"",description:"An innocent villager.",race:"human",image:"/humans/villager.png"},goblinLord:{title:"goblinLord",displayTitle:"Goblin Lord",points:10,amount:1,rarity:"legendary",trait:"If your hand contains only goblins, you receive an insane amount of bonus points, doesn't count goblin lord's mark. Beware, the elf king can block this trait, resulting in a draw.",traitTitle:"Gobbledegook",description:"The leader of the goblins.",race:"goblin",image:"/goblins/goblin-lord.gif"},goblinLordsMark:{title:"goblinLordsMark",displayTitle:"Goblin Lord's Mark",points:0,amount:1,rarity:"epic",trait:"Draw the goblin lord next turn.",traitTitle:"Death's Mark",description:"A sign that the goblin lord is near.",race:"goblin-ish",image:"/goblins/goblin-lord_mark.png"},giant:{title:"giant",displayTitle:"Giant",points:8,amount:2,rarity:"epic",trait:"",traitTitle:"",description:"The strongest weapons of the goblin lord.",race:"goblin",image:"/goblins/giant.png"},troll:{title:"troll",displayTitle:"Troll",points:6,amount:3,rarity:"amazing",trait:"",traitTitle:"",description:"Loyal high ranked soldier in the goblin army.",race:"goblin",image:"/goblins/troll.png"},shaman:{title:"shaman",displayTitle:"Shaman",points:5,amount:4,rarity:"rare",trait:"",traitTitle:"",description:"A magic wielding goblin.",race:"goblin",image:"/goblins/shaman.png"},thief:{title:"thief",displayTitle:"Thief",points:3,amount:4,rarity:"uncommon",trait:"",traitTitle:"",description:"A quick, elusive but weak goblin.",race:"goblin",image:"/goblins/thief.png"},hobgoblin:{title:"hobgoblin",displayTitle:"Hobgoblin",points:2,amount:4,rarity:"uncommon",trait:"",traitTitle:"",description:"A low ranked goblin.",race:"goblin",image:"/goblins/hobgoblin.png"},bokoblin:{title:"bokoblin",displayTitle:"Bokoblin",points:1,amount:6,rarity:"common",trait:"",traitTitle:"",description:"The weakest of goblins.",race:"goblin",image:"/goblins/bokoblin.png"},elfKing:{title:"elfKing",displayTitle:"Elf King",points:10,amount:1,rarity:"legendary",trait:"If your hand contains only elves, they will have their points trippled, otherwise doubled! The elf king also prevents the enemy from using the goblin lord's special trait.",traitTitle:"Superior Race",description:"The purest, most powerful and respected leader of the elves.",race:"elf",image:"/elves/elf-king.gif"},elfChampion:{title:"elfChampion",displayTitle:"Elf Champion",points:8,amount:2,rarity:"epic",trait:"",traitTitle:"",description:"Elf king guard candidate.",race:"elf",image:"/elves/champion.png"},darkElf:{title:"darkElf",displayTitle:"Dark Elf",points:6,amount:3,rarity:"amazing",trait:"",traitTitle:"",description:"High ranked powerful elf.",race:"elf",image:"/elves/dark-elf.png"},forestDweller:{title:"forestDweller",displayTitle:"Forest Dweller",points:5,amount:3,rarity:"amazing",trait:"",traitTitle:"",description:"An elf in tuned with nature, they're quite strong..",race:"elf",image:"/elves/forest-dweller.png"},nadallen:{title:"nadallen",displayTitle:"Nadallen",points:4,amount:1,rarity:"rare",trait:"If both Nelladan and Nadallen are in your hand, they both receive +5 bonus points. This effect does not stack with itself or the elf king.",traitTitle:"Twin Power",description:"The stronger half of the rare elvan twins.",race:"elf",image:"/elves/nadallen.png"},nelladan:{title:"nelladan",displayTitle:"Nelladan",points:2,amount:4,rarity:"uncommon",trait:"If both Nelladan and Nadallen are in your hand, they both receive +5 bonus points. This effect does not stack with itself or the elf king.",traitTitle:"Twin Power",description:"A rare elvan twin.",race:"elf",image:"/elves/nelladan.png"},woodElf:{title:"woodElf",displayTitle:"Wood Elf",points:3,amount:4,rarity:"uncommon",trait:"",traitTitle:"",description:"An elf who aspires to be a forest dwelling elf.",race:"elf",image:"/elves/wood-elf.png"},wildElf:{title:"wildElf",displayTitle:"Wild Elf",points:2,amount:4,rarity:"uncommon",trait:"",traitTitle:"",description:"An elf with no social status.",race:"elf",image:"/elves/wild-elf.png"},bard:{title:"bard",displayTitle:"Bard",points:1,amount:4,rarity:"common",trait:"",traitTitle:"",description:"A weak musician.",race:"elf",image:"/elves/bard.png"},longbeardLeader:{title:"longbeardLeader",displayTitle:"Longbeard Leader",points:10,amount:1,rarity:"legendary",trait:"At the end of the game, if there are more discarded dwarves than remaining(or equal) dwarves in the deck, dwarves receive 50 bonus points. Additionally, the next card drawn will be a dwarf.",traitTitle:"Drunken rage",description:"The bravest and most feared amongst the dwarves.",race:"dwarf",image:"/dwarves/longbeard-leader.gif"},dwarfCommander:{title:"dwarfCommander",displayTitle:"Dwarf Commander",points:8,amount:2,rarity:"epic",trait:"The next card will be a dwarf. Has no effect if there are no remaining dwarves.",traitTitle:"Recruit",description:"Right hand man to the longbeard leader himself.",race:"dwarf",image:"/dwarves/dwarf-commander.png"},alchemist:{title:"alchemist",displayTitle:"Alchemist",points:6,amount:2,rarity:"amazing",trait:"",traitTitle:"",description:"A dwarven warrior wielding science as magic.",race:"dwarf",image:"/dwarves/alchemist.png"},dwarfWarrior:{title:"dwarfWarrior",displayTitle:"Dwarf Warrior",points:5,amount:3,rarity:"amazing",trait:"",traitTitle:"",description:"A strong and reliable dwarven warrior.",race:"dwarf",image:"/dwarves/warrior.png"},hunter:{title:"hunter",displayTitle:"Hunter",points:4,amount:3,rarity:"rare",trait:"",traitTitle:"",description:"A strong and capable hunter.",race:"dwarf",image:"/dwarves/hunter.png"},traveller:{title:"traveller",displayTitle:"Traveller",points:3,amount:4,rarity:"uncommon",trait:"",traitTitle:"",description:"An adventurous but feeble dwarf.",race:"dwarf",image:"/dwarves/traveller.png"},miner:{title:"miner",displayTitle:"Miner",points:2,amount:3,rarity:"uncommon",trait:"",traitTitle:"",description:"An average miner, not great in a fight.",race:"dwarf",image:"/dwarves/miner.png"},blacksmith:{title:"blacksmith",displayTitle:"Blacksmith",points:2,amount:3,rarity:"uncommon",trait:"",traitTitle:"",description:"A typical blacksmith, not very strong.",race:"dwarf",image:"/dwarves/blacksmith.png"},hobbit:{title:"hobbit",displayTitle:"Hobbit",points:1,amount:4,rarity:"uncommon",trait:"Half and half.",traitTitle:"Hobbit points count towards both dwarves and humans.",description:"Half dwarf, half human. Although rare and different, they're generally accepted by all dwarves.",race:"dwarf",image:"/dwarves/hobbit.png"},bartender:{title:"bartender",displayTitle:"Bartender",points:1,amount:4,rarity:"common",trait:"",traitTitle:"",description:"A popular dwarf at the local pub, a serious drinker even amongst dwarves..",race:"dwarf",image:"/dwarves/bartender.png"},crusher541A57:{title:"crusher541A57",displayTitle:"Crusher 541-A-57",points:10,amount:1,rarity:"legendary",trait:"ALL bots will receive +2 points. Additionally, Crusher will hack all bots and steal their points.",traitTitle:"Binary Manipulator",description:"The most advanced battle and hacking unit known to man.",race:"bot",image:"/bots/crusher-5A1A-57.gif"},ai:{title:"ai",displayTitle:"A.I.",points:8,amount:2,rarity:"epic",trait:"Converts viruses into helpful programs, setting their point value to 6. A.I. will also receive +1 point for every cleansed virus.",traitTitle:"Antivirus",description:"The core of the modern bot society.",race:"bot",image:"/bots/ai.png"},faeBot:{title:"faeBot",displayTitle:"Fae Bot",points:6,amount:3,rarity:"amazing",trait:"",traitTitle:"",description:"A bot created as a gift to the elves as a peace treaty.",race:"bot",image:"/bots/fae-bot.png"},sawBot3000:{title:"sawBot3000",displayTitle:"Sawbot-3000",points:4,amount:4,rarity:"rare",trait:"",traitTitle:"",description:"A bot designed to kill, beware.",race:"bot",image:"/bots/saw-bot-3000.png"},infernoBot:{title:"infernoBot",displayTitle:"Inferno Bot",points:3,amount:4,rarity:"rare",trait:"",traitTitle:"",description:"An angry aggressive bot, known to attack on sight.",race:"bot",image:"/bots/inferno-bot.png"},incubator:{title:"incubator",displayTitle:"Incubator",points:2,amount:5,rarity:"uncommon",trait:"",traitTitle:"",description:"A weak mother bot used to raise young infants.",race:"bot",image:"/bots/incubator.png"},virus:{title:"virus",displayTitle:"Virus",points:-2,amount:7,rarity:"common",trait:"",traitTitle:"",description:"A common computer virus.",race:"bot",image:"/bots/virus.png"},dreamDestroyer:{title:"dreamDestroyer",displayTitle:"Dream Destroyer",points:12,amount:1,rarity:"legendary",trait:"All of your beasts are worth 12 points.",traitTitle:"Roid Rage",description:"The fiercest creature in the animal kingdom.",race:"beast",image:"/beasts/dream-destroyer.gif"},rhino:{title:"rhino",displayTitle:"Rhinestone",points:8,amount:3,rarity:"amazing",trait:"Blocks trap cards. (not yet implemented)",traitTitle:"Thick skin",description:"A feared beast at the top of the food chain.",race:"beast",image:"/beasts/rhino.png"},bear:{title:"bear",displayTitle:"Theodore Thunderpaws",points:7,amount:3,rarity:"amazing",trait:"",traitTitle:"",description:"A powerful top level beast, matched by few.",race:"beast",image:"/beasts/bear.png"},lion:{title:"lion",displayTitle:"Savannah Goldenmane",points:6,amount:4,rarity:"rare",trait:"",traitTitle:"",description:"The original kings of the jungle.",race:"beast",image:"/beasts/lion.png"},panther:{title:"panther",displayTitle:"Panthera Nocturna",points:5,amount:4,rarity:"rare",trait:"",traitTitle:"",description:"A quick and efficient beast, known to stalk it's prey before pouncing.",race:"beast",image:"/beasts/panther.png"},wolf:{title:"wolf",displayTitle:"Alpha Wolfbane",points:4,amount:4,rarity:"rare",trait:"",traitTitle:"",description:"A lone wolf with the strength of a pack.",race:"beast",image:"/beasts/wolf.png"},fox:{title:"fox",displayTitle:"Finn Foxglove",points:3,amount:4,rarity:"uncommon",trait:"",traitTitle:"",description:"A fox on steroids.",race:"beast",image:"/beasts/fox.png"},dog:{title:"dog",displayTitle:"Pawl Barkington",points:2,amount:4,rarity:"uncommon",trait:"",traitTitle:"",description:"More bark than bite, recognized as the weakest beast.",race:"beast",image:"/beasts/dog.png"}}),fs=me(["dreamDestroyer","rhino","rhino","rhino","bear","bear","bear","lion","lion","lion","panther","panther","panther","wolf","wolf","wolf","fox","fox","fox","dog","dog","dog"]),hs=me(["crusher541A57","ai","ai","faeBot","faeBot","faeBot","sawBot3000","sawBot3000","sawBot3000","sawBot3000","infernoBot","infernoBot","infernoBot","infernoBot","incubator","incubator","incubator","incubator","virus","virus","virus","virus","virus","virus"]),ds=me(["longbeardLeader","dwarfCommander","dwarfCommander","alchemist","alchemist","dwarfWarrior","dwarfWarrior","hunter","hunter","hunter","miner","miner","miner","blacksmith","blacksmith","traveller","traveller","bartender","bartender","hobbit","hobbit","hobbit"]),ps=me(["elfKing","elfChampion","elfChampion","darkElf","darkElf","forestDweller","forestDweller","forestDweller","nadallen","nelladan","nelladan","nelladan","nelladan","woodElf","woodElf","woodElf","wildElf","wildElf","wildElf","bard","bard","bard"]),ms=me(["goblinLord","giant","giant","troll","troll","troll","shaman","shaman","shaman","thief","thief","thief","hobgoblin","hobgoblin","hobgoblin","bokoblin","bokoblin","bokoblin","goblinLordsMark"]),gs=me(["emperor","commander","commander","assassin","assassin","assassin","knight","knight","knight","knight","soldier","soldier","soldier","soldier","scout","scout","scout","scout","villager","villager","villager","villager"]);function bs(t){let e,n,i,s,r;const a=t[6].default,c=qe(a,t,t[11],null);return{c(){e=B("button"),c&&c.c(),O(e,"class",n=t[0]+" "+t[1]+" svelte-1duzco6")},m(o,u){ee(o,e,u),c&&c.m(e,null),i=!0,s||(r=We(e,"click",t[10]),s=!0)},p(o,u){c&&c.p&&(!i||u&2048)&&je(c,a,o,o[11],i?Ie(a,o[11],u,null):Ue(o[11]),null),(!i||u&3&&n!==(n=o[0]+" "+o[1]+" svelte-1duzco6"))&&O(e,"class",n)},i(o){i||(T(c,o),i=!0)},o(o){R(c,o),i=!1},d(o){o&&X(e),c&&c.d(o),s=!1,r()}}}function _s(t){let e,n,i,s,r;const a=t[6].default,c=qe(a,t,t[11],null);return{c(){e=B("button"),c&&c.c(),O(e,"class",n="round "+t[0]+" svelte-1duzco6")},m(o,u){ee(o,e,u),c&&c.m(e,null),i=!0,s||(r=We(e,"click",t[9]),s=!0)},p(o,u){c&&c.p&&(!i||u&2048)&&je(c,a,o,o[11],i?Ie(a,o[11],u,null):Ue(o[11]),null),(!i||u&1&&n!==(n="round "+o[0]+" svelte-1duzco6"))&&O(e,"class",n)},i(o){i||(T(c,o),i=!0)},o(o){R(c,o),i=!1},d(o){o&&X(e),c&&c.d(o),s=!1,r()}}}function ys(t){let e,n;return e=new Gi({props:{to:t[5],$$slots:{default:[ks]},$$scope:{ctx:t}}}),{c(){de(e.$$.fragment)},m(i,s){ce(e,i,s),n=!0},p(i,s){const r={};s&32&&(r.to=i[5]),s&2051&&(r.$$scope={dirty:s,ctx:i}),e.$set(r)},i(i){n||(T(e.$$.fragment,i),n=!0)},o(i){R(e.$$.fragment,i),n=!1},d(i){ue(e,i)}}}function ws(t){let e,n,i,s,r;const a=t[6].default,c=qe(a,t,t[11],null);return{c(){e=B("button"),c&&c.c(),O(e,"type","submit"),O(e,"class",n=t[0]+" "+t[1]+" svelte-1duzco6")},m(o,u){ee(o,e,u),c&&c.m(e,null),i=!0,s||(r=We(e,"click",t[7]),s=!0)},p(o,u){c&&c.p&&(!i||u&2048)&&je(c,a,o,o[11],i?Ie(a,o[11],u,null):Ue(o[11]),null),(!i||u&3&&n!==(n=o[0]+" "+o[1]+" svelte-1duzco6"))&&O(e,"class",n)},i(o){i||(T(c,o),i=!0)},o(o){R(c,o),i=!1},d(o){o&&X(e),c&&c.d(o),s=!1,r()}}}function ks(t){let e,n,i,s,r;const a=t[6].default,c=qe(a,t,t[11],null);return{c(){e=B("button"),c&&c.c(),O(e,"class",n=t[0]+" "+t[1]+" svelte-1duzco6")},m(o,u){ee(o,e,u),c&&c.m(e,null),i=!0,s||(r=We(e,"click",t[8]),s=!0)},p(o,u){c&&c.p&&(!i||u&2048)&&je(c,a,o,o[11],i?Ie(a,o[11],u,null):Ue(o[11]),null),(!i||u&3&&n!==(n=o[0]+" "+o[1]+" svelte-1duzco6"))&&O(e,"class",n)},i(o){i||(T(c,o),i=!0)},o(o){R(c,o),i=!1},d(o){o&&X(e),c&&c.d(o),s=!1,r()}}}function vs(t){let e,n,i,s;const r=[ws,ys,_s,bs],a=[];function c(o,u){return o[3]?0:o[4]?1:o[2]?2:3}return e=c(t),n=a[e]=r[e](t),{c(){n.c(),i=Je()},m(o,u){a[e].m(o,u),ee(o,i,u),s=!0},p(o,[u]){let h=e;e=c(o),e===h?a[e].p(o,u):(be(),R(a[h],1,1,()=>{a[h]=null}),_e(),n=a[e],n?n.p(o,u):(n=a[e]=r[e](o),n.c()),T(n,1),n.m(i.parentNode,i))},i(o){s||(T(n),s=!0)},o(o){R(n),s=!1},d(o){a[e].d(o),o&&X(i)}}}function Ts(t,e,n){let{$$slots:i={},$$scope:s}=e,{customClasses:r=""}=e,{bgColor:a=""}=e,{round:c=!1}=e,{btnSubmit:o=!1}=e,{btnLink:u=!1}=e,{path:h=""}=e;function g(b){xe.call(this,t,b)}function m(b){xe.call(this,t,b)}function k(b){xe.call(this,t,b)}function w(b){xe.call(this,t,b)}return t.$$set=b=>{"customClasses"in b&&n(0,r=b.customClasses),"bgColor"in b&&n(1,a=b.bgColor),"round"in b&&n(2,c=b.round),"btnSubmit"in b&&n(3,o=b.btnSubmit),"btnLink"in b&&n(4,u=b.btnLink),"path"in b&&n(5,h=b.path),"$$scope"in b&&n(11,s=b.$$scope)},[r,a,c,o,u,h,i,g,m,k,w,s]}class yt extends Se{constructor(e){super(),Pe(this,e,Ts,vs,Oe,{customClasses:0,bgColor:1,round:2,btnSubmit:3,btnLink:4,path:5})}}function Es(t){const e=t-1;return e*e*e+1}function ni(t,{delay:e=0,duration:n=400,easing:i=jt}={}){const s=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:i,css:r=>`opacity: ${r*s}`}}function ii(t,{delay:e=0,duration:n=400,easing:i=Es,x:s=0,y:r=0,opacity:a=0}={}){const c=getComputedStyle(t),o=+c.opacity,u=c.transform==="none"?"":c.transform,h=o*(1-a),[g,m]=Zt(s),[k,w]=Zt(r);return{delay:e,duration:n,easing:i,css:(b,_)=>`
			transform: ${u} translate(${(1-b)*g}${m}, ${(1-b)*k}${w});
			opacity: ${o-h*_}`}}function As(t){let e,n,i,s,r,a=pn(t[0])+"",c,o,u,h,g,m,k,w,b,_,L,S,M,v,I,E,A,Q,W,Y,se,re,j,ge,ae,H=t[7]&&dn(t);return{c(){e=B("div"),n=B("img"),s=x(),r=B("p"),c=V(a),u=x(),h=B("p"),g=V(t[4]),k=x(),w=B("p"),b=V(t[2]),L=x(),S=B("div"),M=B("div"),v=B("p"),I=V(t[6]),E=x(),H&&H.c(),A=x(),Q=B("p"),W=V(t[7]),O(n,"class","card-img svelte-15ay9ue"),Xt(n.src,i=t[3])||O(n,"src",i),O(n,"alt","img of card"),O(r,"class",o="race "+t[0]+"-race svelte-15ay9ue"),O(h,"class",m="points "+t[0]+"-race svelte-15ay9ue"),O(w,"class",_="card-title "+t[0]+"-title svelte-15ay9ue"),O(v,"class","description svelte-15ay9ue"),O(M,"class","bottom-section-wrapper svelte-15ay9ue"),O(S,"class","card-bottom-section svelte-15ay9ue"),O(e,"class",Y="card bg-"+t[0]+(t[5]==="legendary"?"-rare":"")+" svelte-15ay9ue")},m(C,K){ee(C,e,K),y(e,n),y(e,s),y(e,r),y(r,c),y(e,u),y(e,h),y(h,g),y(e,k),y(e,w),y(w,b),y(e,L),y(e,S),y(S,M),y(M,v),y(v,I),y(M,E),H&&H.m(M,null),y(M,A),y(M,Q),y(Q,W),j=!0,ge||(ae=We(e,"click",t[9]),ge=!0)},p(C,K){(!j||K&8&&!Xt(n.src,i=C[3]))&&O(n,"src",i),(!j||K&1)&&a!==(a=pn(C[0])+"")&&pe(c,a),(!j||K&1&&o!==(o="race "+C[0]+"-race svelte-15ay9ue"))&&O(r,"class",o),(!j||K&16)&&pe(g,C[4]),(!j||K&1&&m!==(m="points "+C[0]+"-race svelte-15ay9ue"))&&O(h,"class",m),(!j||K&4)&&pe(b,C[2]),(!j||K&1&&_!==(_="card-title "+C[0]+"-title svelte-15ay9ue"))&&O(w,"class",_),(!j||K&64)&&pe(I,C[6]),C[7]?H?H.p(C,K):(H=dn(C),H.c(),H.m(M,A)):H&&(H.d(1),H=null),(!j||K&128)&&pe(W,C[7]),(!j||K&33&&Y!==(Y="card bg-"+C[0]+(C[5]==="legendary"?"-rare":"")+" svelte-15ay9ue"))&&O(e,"class",Y)},i(C){j||(De(()=>{j&&(re&&re.end(1),se=Qn(e,ii,{x:100}),se.start())}),j=!0)},o(C){se&&se.invalidate(),re=Zn(e,ni,{}),j=!1},d(C){C&&X(e),H&&H.d(),C&&re&&re.end(),ge=!1,ae()}}}function Cs(t){let e,n,i,s,r,a;return{c(){e=B("div"),O(e,"class","card facedown bottom-deck svelte-15ay9ue")},m(c,o){ee(c,e,o),s=!0,r||(a=We(e,"click",t[11]),r=!0)},p:G,i(c){s||(De(()=>{s&&(i&&i.end(1),n=Qn(e,ii,{x:100}),n.start())}),s=!0)},o(c){n&&n.invalidate(),i=Zn(e,ni,{}),s=!1},d(c){c&&X(e),c&&i&&i.end(),r=!1,a()}}}function dn(t){let e,n;return{c(){e=B("p"),n=V(t[8]),O(e,"class","special-trait svelte-15ay9ue")},m(i,s){ee(i,e,s),y(e,n)},p(i,s){s&256&&pe(n,i[8])},d(i){i&&X(e)}}}function Os(t){let e,n,i,s;const r=[Cs,As],a=[];function c(o,u){return o[1]?1:0}return e=c(t),n=a[e]=r[e](t),{c(){n.c(),i=Je()},m(o,u){a[e].m(o,u),ee(o,i,u),s=!0},p(o,[u]){let h=e;e=c(o),e===h?a[e].p(o,u):(be(),R(a[h],1,1,()=>{a[h]=null}),_e(),n=a[e],n?n.p(o,u):(n=a[e]=r[e](o),n.c()),T(n,1),n.m(i.parentNode,i))},i(o){s||(T(n),s=!0)},o(o){R(n),s=!1},d(o){a[e].d(o),o&&X(i)}}}function pn(t){const e=t[0].toUpperCase(),n=t.slice(1);return e+n}function Rs(t,e,n){let{faceUp:i=!0}=e,{displayTitle:s="Title here..."}=e,{title:r=""}=e,{img:a="/card-bg.png"}=e,{points:c=0}=e,{race:o="none"}=e,{rarity:u="common"}=e,{description:h=""}=e,{trait:g=""}=e,{traitTitle:m=""}=e;const k=Yn();function w(_){k("cardClick",{title:r,points:c,race:o,trait:g})}function b(_){xe.call(this,t,_)}return t.$$set=_=>{"faceUp"in _&&n(1,i=_.faceUp),"displayTitle"in _&&n(2,s=_.displayTitle),"title"in _&&n(10,r=_.title),"img"in _&&n(3,a=_.img),"points"in _&&n(4,c=_.points),"race"in _&&n(0,o=_.race),"rarity"in _&&n(5,u=_.rarity),"description"in _&&n(6,h=_.description),"trait"in _&&n(7,g=_.trait),"traitTitle"in _&&n(8,m=_.traitTitle)},t.$$.update=()=>{t.$$.dirty&1&&o==="goblin-ish"&&n(0,o="goblin")},[o,i,s,a,c,u,h,g,m,w,r,b]}class st extends Se{constructor(e){super(),Pe(this,e,Rs,Os,Oe,{faceUp:1,displayTitle:2,title:10,img:3,points:4,race:0,rarity:5,description:6,trait:7,traitTitle:8})}}const Ee=Object.create(null);Ee.open="0";Ee.close="1";Ee.ping="2";Ee.pong="3";Ee.message="4";Ee.upgrade="5";Ee.noop="6";const ft=Object.create(null);Object.keys(Ee).forEach(t=>{ft[Ee[t]]=t});const Lt={type:"error",data:"parser error"},si=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",ri=typeof ArrayBuffer=="function",oi=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,Ft=({type:t,data:e},n,i)=>si&&e instanceof Blob?n?i(e):mn(e,i):ri&&(e instanceof ArrayBuffer||oi(e))?n?i(e):mn(new Blob([e]),i):i(Ee[t]+(e||"")),mn=(t,e)=>{const n=new FileReader;return n.onload=function(){const i=n.result.split(",")[1];e("b"+(i||""))},n.readAsDataURL(t)};function gn(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let Ct;function Bs(t,e){if(si&&t.data instanceof Blob)return t.data.arrayBuffer().then(gn).then(e);if(ri&&(t.data instanceof ArrayBuffer||oi(t.data)))return e(gn(t.data));Ft(t,!1,n=>{Ct||(Ct=new TextEncoder),e(Ct.encode(n))})}const bn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",et=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<bn.length;t++)et[bn.charCodeAt(t)]=t;const Ps=t=>{let e=t.length*.75,n=t.length,i,s=0,r,a,c,o;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const u=new ArrayBuffer(e),h=new Uint8Array(u);for(i=0;i<n;i+=4)r=et[t.charCodeAt(i)],a=et[t.charCodeAt(i+1)],c=et[t.charCodeAt(i+2)],o=et[t.charCodeAt(i+3)],h[s++]=r<<2|a>>4,h[s++]=(a&15)<<4|c>>2,h[s++]=(c&3)<<6|o&63;return u},Ss=typeof ArrayBuffer=="function",Vt=(t,e)=>{if(typeof t!="string")return{type:"message",data:ai(t,e)};const n=t.charAt(0);return n==="b"?{type:"message",data:Ls(t.substring(1),e)}:ft[n]?t.length>1?{type:ft[n],data:t.substring(1)}:{type:ft[n]}:Lt},Ls=(t,e)=>{if(Ss){const n=Ps(t);return ai(n,e)}else return{base64:!0,data:t}},ai=(t,e)=>{switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},li=String.fromCharCode(30),Ns=(t,e)=>{const n=t.length,i=new Array(n);let s=0;t.forEach((r,a)=>{Ft(r,!1,c=>{i[a]=c,++s===n&&e(i.join(li))})})},Ds=(t,e)=>{const n=t.split(li),i=[];for(let s=0;s<n.length;s++){const r=Vt(n[s],e);if(i.push(r),r.type==="error")break}return i};function Ms(){return new TransformStream({transform(t,e){Bs(t,n=>{const i=n.length;let s;if(i<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,i);else if(i<65536){s=new Uint8Array(3);const r=new DataView(s.buffer);r.setUint8(0,126),r.setUint16(1,i)}else{s=new Uint8Array(9);const r=new DataView(s.buffer);r.setUint8(0,127),r.setBigUint64(1,BigInt(i))}t.data&&typeof t.data!="string"&&(s[0]|=128),e.enqueue(s),e.enqueue(n)})}})}let Ot;function ot(t){return t.reduce((e,n)=>e+n.length,0)}function at(t,e){if(t[0].length===e)return t.shift();const n=new Uint8Array(e);let i=0;for(let s=0;s<e;s++)n[s]=t[0][i++],i===t[0].length&&(t.shift(),i=0);return t.length&&i<t[0].length&&(t[0]=t[0].slice(i)),n}function qs(t,e){Ot||(Ot=new TextDecoder);const n=[];let i=0,s=-1,r=!1;return new TransformStream({transform(a,c){for(n.push(a);;){if(i===0){if(ot(n)<1)break;const o=at(n,1);r=(o[0]&128)===128,s=o[0]&127,s<126?i=3:s===126?i=1:i=2}else if(i===1){if(ot(n)<2)break;const o=at(n,2);s=new DataView(o.buffer,o.byteOffset,o.length).getUint16(0),i=3}else if(i===2){if(ot(n)<8)break;const o=at(n,8),u=new DataView(o.buffer,o.byteOffset,o.length),h=u.getUint32(0);if(h>Math.pow(2,53-32)-1){c.enqueue(Lt);break}s=h*Math.pow(2,32)+u.getUint32(4),i=3}else{if(ot(n)<s)break;const o=at(n,s);c.enqueue(Vt(r?o:Ot.decode(o),e)),i=0}if(s===0||s>t){c.enqueue(Lt);break}}}})}const ci=4;function ie(t){if(t)return Is(t)}function Is(t){for(var e in ie.prototype)t[e]=ie.prototype[e];return t}ie.prototype.on=ie.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};ie.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this};ie.prototype.off=ie.prototype.removeListener=ie.prototype.removeAllListeners=ie.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var i,s=0;s<n.length;s++)if(i=n[s],i===e||i.fn===e){n.splice(s,1);break}return n.length===0&&delete this._callbacks["$"+t],this};ie.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(n){n=n.slice(0);for(var i=0,s=n.length;i<s;++i)n[i].apply(this,e)}return this};ie.prototype.emitReserved=ie.prototype.emit;ie.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};ie.prototype.hasListeners=function(t){return!!this.listeners(t).length};const we=(()=>typeof self<"u"?self:typeof window<"u"?window:Function("return this")())();function ui(t,...e){return e.reduce((n,i)=>(t.hasOwnProperty(i)&&(n[i]=t[i]),n),{})}const js=we.setTimeout,Us=we.clearTimeout;function wt(t,e){e.useNativeTimers?(t.setTimeoutFn=js.bind(we),t.clearTimeoutFn=Us.bind(we)):(t.setTimeoutFn=we.setTimeout.bind(we),t.clearTimeoutFn=we.clearTimeout.bind(we))}const Ws=1.33;function Fs(t){return typeof t=="string"?Vs(t):Math.ceil((t.byteLength||t.size)*Ws)}function Vs(t){let e=0,n=0;for(let i=0,s=t.length;i<s;i++)e=t.charCodeAt(i),e<128?n+=1:e<2048?n+=2:e<55296||e>=57344?n+=3:(i++,n+=4);return n}function zs(t){let e="";for(let n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e}function Hs(t){let e={},n=t.split("&");for(let i=0,s=n.length;i<s;i++){let r=n[i].split("=");e[decodeURIComponent(r[0])]=decodeURIComponent(r[1])}return e}class Ks extends Error{constructor(e,n,i){super(e),this.description=n,this.context=i,this.type="TransportError"}}class zt extends ie{constructor(e){super(),this.writable=!1,wt(this,e),this.opts=e,this.query=e.query,this.socket=e.socket}onError(e,n,i){return super.emitReserved("error",new Ks(e,n,i)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const n=Vt(e,this.socket.binaryType);this.onPacket(n)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,n={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const n=zs(e);return n.length?"?"+n:""}}const fi="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),Nt=64,Gs={};let _n=0,lt=0,yn;function wn(t){let e="";do e=fi[t%Nt]+e,t=Math.floor(t/Nt);while(t>0);return e}function hi(){const t=wn(+new Date);return t!==yn?(_n=0,yn=t):t+"."+wn(_n++)}for(;lt<Nt;lt++)Gs[fi[lt]]=lt;let di=!1;try{di=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const Ys=di;function pi(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||Ys))return new XMLHttpRequest}catch{}if(!e)try{return new we[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function Js(){}const Xs=function(){return new pi({xdomain:!1}).responseType!=null}();class Qs extends zt{constructor(e){if(super(e),this.polling=!1,typeof location<"u"){const i=location.protocol==="https:";let s=location.port;s||(s=i?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||s!==e.port}const n=e&&e.forceBase64;this.supportsBinary=Xs&&!n,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";const n=()=>{this.readyState="paused",e()};if(this.polling||!this.writable){let i=0;this.polling&&(i++,this.once("pollComplete",function(){--i||n()})),this.writable||(i++,this.once("drain",function(){--i||n()}))}else n()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const n=i=>{if(this.readyState==="opening"&&i.type==="open"&&this.onOpen(),i.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(i)};Ds(e,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,Ns(e,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=hi()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(e,n)}request(e={}){return Object.assign(e,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new Te(this.uri(),e)}doWrite(e,n){const i=this.request({method:"POST",data:e});i.on("success",n),i.on("error",(s,r)=>{this.onError("xhr post error",s,r)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(n,i)=>{this.onError("xhr poll error",n,i)}),this.pollXhr=e}}class Te extends ie{constructor(e,n){super(),wt(this,n),this.opts=n,this.method=n.method||"GET",this.uri=e,this.data=n.data!==void 0?n.data:null,this.create()}create(){var e;const n=ui(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this.opts.xd;const i=this.xhr=new pi(n);try{i.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){i.setDisableHeaderCheck&&i.setDisableHeaderCheck(!0);for(let s in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(s)&&i.setRequestHeader(s,this.opts.extraHeaders[s])}}catch{}if(this.method==="POST")try{i.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{i.setRequestHeader("Accept","*/*")}catch{}(e=this.opts.cookieJar)===null||e===void 0||e.addCookies(i),"withCredentials"in i&&(i.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(i.timeout=this.opts.requestTimeout),i.onreadystatechange=()=>{var s;i.readyState===3&&((s=this.opts.cookieJar)===null||s===void 0||s.parseCookies(i)),i.readyState===4&&(i.status===200||i.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof i.status=="number"?i.status:0)},0))},i.send(this.data)}catch(s){this.setTimeoutFn(()=>{this.onError(s)},0);return}typeof document<"u"&&(this.index=Te.requestsCount++,Te.requests[this.index]=this)}onError(e){this.emitReserved("error",e,this.xhr),this.cleanup(!0)}cleanup(e){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=Js,e)try{this.xhr.abort()}catch{}typeof document<"u"&&delete Te.requests[this.index],this.xhr=null}}onLoad(){const e=this.xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}Te.requestsCount=0;Te.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",kn);else if(typeof addEventListener=="function"){const t="onpagehide"in we?"pagehide":"unload";addEventListener(t,kn,!1)}}function kn(){for(let t in Te.requests)Te.requests.hasOwnProperty(t)&&Te.requests[t].abort()}const Ht=(()=>typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,n)=>n(e,0))(),ct=we.WebSocket||we.MozWebSocket,vn=!0,Zs="arraybuffer",Tn=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class $s extends zt{constructor(e){super(e),this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const e=this.uri(),n=this.opts.protocols,i=Tn?{}:ui(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(i.headers=this.opts.extraHeaders);try{this.ws=vn&&!Tn?n?new ct(e,n):new ct(e):new ct(e,n,i)}catch(s){return this.emitReserved("error",s)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const i=e[n],s=n===e.length-1;Ft(i,this.supportsBinary,r=>{const a={};try{vn&&this.ws.send(r)}catch{}s&&Ht(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=hi()),this.supportsBinary||(n.b64=1),this.createUri(e,n)}check(){return!!ct}}class xs extends zt{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(e=>{const n=qs(Number.MAX_SAFE_INTEGER,this.socket.binaryType),i=e.readable.pipeThrough(n).getReader(),s=Ms();s.readable.pipeTo(e.writable),this.writer=s.writable.getWriter();const r=()=>{i.read().then(({done:c,value:o})=>{c||(this.onPacket(o),r())}).catch(c=>{})};r();const a={type:"open"};this.query.sid&&(a.data=`{"sid":"${this.query.sid}"}`),this.writer.write(a).then(()=>this.onOpen())})}))}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const i=e[n],s=n===e.length-1;this.writer.write(i).then(()=>{s&&Ht(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this.transport)===null||e===void 0||e.close()}}const er={websocket:$s,webtransport:xs,polling:Qs},tr=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,nr=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Dt(t){if(t.length>2e3)throw"URI too long";const e=t,n=t.indexOf("["),i=t.indexOf("]");n!=-1&&i!=-1&&(t=t.substring(0,n)+t.substring(n,i).replace(/:/g,";")+t.substring(i,t.length));let s=tr.exec(t||""),r={},a=14;for(;a--;)r[nr[a]]=s[a]||"";return n!=-1&&i!=-1&&(r.source=e,r.host=r.host.substring(1,r.host.length-1).replace(/;/g,":"),r.authority=r.authority.replace("[","").replace("]","").replace(/;/g,":"),r.ipv6uri=!0),r.pathNames=ir(r,r.path),r.queryKey=sr(r,r.query),r}function ir(t,e){const n=/\/{2,9}/g,i=e.replace(n,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&i.splice(0,1),e.slice(-1)=="/"&&i.splice(i.length-1,1),i}function sr(t,e){const n={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(i,s,r){s&&(n[s]=r)}),n}let mi=class He extends ie{constructor(e,n={}){super(),this.binaryType=Zs,this.writeBuffer=[],e&&typeof e=="object"&&(n=e,e=null),e?(e=Dt(e),n.hostname=e.host,n.secure=e.protocol==="https"||e.protocol==="wss",n.port=e.port,e.query&&(n.query=e.query)):n.host&&(n.hostname=Dt(n.host).host),wt(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=n.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Hs(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(e){const n=Object.assign({},this.opts.query);n.EIO=ci,n.transport=e,this.id&&(n.sid=this.id);const i=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new er[e](i)}open(){let e;if(this.opts.rememberUpgrade&&He.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)e="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else e=this.transports[0];this.readyState="opening";try{e=this.createTransport(e)}catch{this.transports.shift(),this.open();return}e.open(),this.setTransport(e)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",n=>this.onClose("transport close",n))}probe(e){let n=this.createTransport(e),i=!1;He.priorWebsocketSuccess=!1;const s=()=>{i||(n.send([{type:"ping",data:"probe"}]),n.once("packet",g=>{if(!i)if(g.type==="pong"&&g.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;He.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{i||this.readyState!=="closed"&&(h(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const m=new Error("probe error");m.transport=n.name,this.emitReserved("upgradeError",m)}}))};function r(){i||(i=!0,h(),n.close(),n=null)}const a=g=>{const m=new Error("probe error: "+g);m.transport=n.name,r(),this.emitReserved("upgradeError",m)};function c(){a("transport closed")}function o(){a("socket closed")}function u(g){n&&g.name!==n.name&&r()}const h=()=>{n.removeListener("open",s),n.removeListener("error",a),n.removeListener("close",c),this.off("close",o),this.off("upgrading",u)};n.once("open",s),n.once("error",a),n.once("close",c),this.once("close",o),this.once("upgrading",u),this.upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{i||n.open()},200):n.open()}onOpen(){if(this.readyState="open",He.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let e=0;const n=this.upgrades.length;for(;e<n;e++)this.probe(this.upgrades[e])}}onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),this.resetPingTimeout(),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const n=new Error("server error");n.code=e.data,this.onError(n);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this.getWritablePackets();this.transport.send(e),this.prevBufferLen=e.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let i=0;i<this.writeBuffer.length;i++){const s=this.writeBuffer[i].data;if(s&&(n+=Fs(s)),i>0&&n>this.maxPayload)return this.writeBuffer.slice(0,i);n+=2}return this.writeBuffer}write(e,n,i){return this.sendPacket("message",e,n,i),this}send(e,n,i){return this.sendPacket("message",e,n,i),this}sendPacket(e,n,i,s){if(typeof n=="function"&&(s=n,n=void 0),typeof i=="function"&&(s=i,i=null),this.readyState==="closing"||this.readyState==="closed")return;i=i||{},i.compress=i.compress!==!1;const r={type:e,data:n,options:i};this.emitReserved("packetCreate",r),this.writeBuffer.push(r),s&&this.once("flush",s),this.flush()}close(){const e=()=>{this.onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),e()},i=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?i():e()}):this.upgrading?i():e()),this}onError(e){He.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}onClose(e,n){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",e,n),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(e){const n=[];let i=0;const s=e.length;for(;i<s;i++)~this.transports.indexOf(e[i])&&n.push(e[i]);return n}};mi.protocol=ci;function rr(t,e="",n){let i=t;n=n||typeof location<"u"&&location,t==null&&(t=n.protocol+"//"+n.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=n.protocol+t:t=n.host+t),/^(https?|wss?):\/\//.test(t)||(typeof n<"u"?t=n.protocol+"//"+t:t="https://"+t),i=Dt(t)),i.port||(/^(http|ws)$/.test(i.protocol)?i.port="80":/^(http|ws)s$/.test(i.protocol)&&(i.port="443")),i.path=i.path||"/";const r=i.host.indexOf(":")!==-1?"["+i.host+"]":i.host;return i.id=i.protocol+"://"+r+":"+i.port+e,i.href=i.protocol+"://"+r+(n&&n.port===i.port?"":":"+i.port),i}const or=typeof ArrayBuffer=="function",ar=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,gi=Object.prototype.toString,lr=typeof Blob=="function"||typeof Blob<"u"&&gi.call(Blob)==="[object BlobConstructor]",cr=typeof File=="function"||typeof File<"u"&&gi.call(File)==="[object FileConstructor]";function Kt(t){return or&&(t instanceof ArrayBuffer||ar(t))||lr&&t instanceof Blob||cr&&t instanceof File}function ht(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let n=0,i=t.length;n<i;n++)if(ht(t[n]))return!0;return!1}if(Kt(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return ht(t.toJSON(),!0);for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&ht(t[n]))return!0;return!1}function ur(t){const e=[],n=t.data,i=t;return i.data=Mt(n,e),i.attachments=e.length,{packet:i,buffers:e}}function Mt(t,e){if(!t)return t;if(Kt(t)){const n={_placeholder:!0,num:e.length};return e.push(t),n}else if(Array.isArray(t)){const n=new Array(t.length);for(let i=0;i<t.length;i++)n[i]=Mt(t[i],e);return n}else if(typeof t=="object"&&!(t instanceof Date)){const n={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=Mt(t[i],e));return n}return t}function fr(t,e){return t.data=qt(t.data,e),delete t.attachments,t}function qt(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let n=0;n<t.length;n++)t[n]=qt(t[n],e);else if(typeof t=="object")for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(t[n]=qt(t[n],e));return t}const hr=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],dr=5;var D;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(D||(D={}));class pr{constructor(e){this.replacer=e}encode(e){return(e.type===D.EVENT||e.type===D.ACK)&&ht(e)?this.encodeAsBinary({type:e.type===D.EVENT?D.BINARY_EVENT:D.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let n=""+e.type;return(e.type===D.BINARY_EVENT||e.type===D.BINARY_ACK)&&(n+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(n+=e.nsp+","),e.id!=null&&(n+=e.id),e.data!=null&&(n+=JSON.stringify(e.data,this.replacer)),n}encodeAsBinary(e){const n=ur(e),i=this.encodeAsString(n.packet),s=n.buffers;return s.unshift(i),s}}function En(t){return Object.prototype.toString.call(t)==="[object Object]"}class Gt extends ie{constructor(e){super(),this.reviver=e}add(e){let n;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(e);const i=n.type===D.BINARY_EVENT;i||n.type===D.BINARY_ACK?(n.type=i?D.EVENT:D.ACK,this.reconstructor=new mr(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(Kt(e)||e.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(e),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let n=0;const i={type:Number(e.charAt(0))};if(D[i.type]===void 0)throw new Error("unknown packet type "+i.type);if(i.type===D.BINARY_EVENT||i.type===D.BINARY_ACK){const r=n+1;for(;e.charAt(++n)!=="-"&&n!=e.length;);const a=e.substring(r,n);if(a!=Number(a)||e.charAt(n)!=="-")throw new Error("Illegal attachments");i.attachments=Number(a)}if(e.charAt(n+1)==="/"){const r=n+1;for(;++n&&!(e.charAt(n)===","||n===e.length););i.nsp=e.substring(r,n)}else i.nsp="/";const s=e.charAt(n+1);if(s!==""&&Number(s)==s){const r=n+1;for(;++n;){const a=e.charAt(n);if(a==null||Number(a)!=a){--n;break}if(n===e.length)break}i.id=Number(e.substring(r,n+1))}if(e.charAt(++n)){const r=this.tryParse(e.substr(n));if(Gt.isPayloadValid(i.type,r))i.data=r;else throw new Error("invalid payload")}return i}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,n){switch(e){case D.CONNECT:return En(n);case D.DISCONNECT:return n===void 0;case D.CONNECT_ERROR:return typeof n=="string"||En(n);case D.EVENT:case D.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&hr.indexOf(n[0])===-1);case D.ACK:case D.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class mr{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const n=fr(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const gr=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Gt,Encoder:pr,get PacketType(){return D},protocol:dr},Symbol.toStringTag,{value:"Module"}));function ve(t,e,n){return t.on(e,n),function(){t.off(e,n)}}const br=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class bi extends ie{constructor(e,n,i){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=n,i&&i.auth&&(this.auth=i.auth),this._opts=Object.assign({},i),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[ve(e,"open",this.onopen.bind(this)),ve(e,"packet",this.onpacket.bind(this)),ve(e,"error",this.onerror.bind(this)),ve(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...n){if(br.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(n.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const i={type:D.EVENT,data:n};if(i.options={},i.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const a=this.ids++,c=n.pop();this._registerAckCallback(a,c),i.id=a}const s=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!s||!this.connected)||(this.connected?(this.notifyOutgoingListeners(i),this.packet(i)):this.sendBuffer.push(i)),this.flags={},this}_registerAckCallback(e,n){var i;const s=(i=this.flags.timeout)!==null&&i!==void 0?i:this._opts.ackTimeout;if(s===void 0){this.acks[e]=n;return}const r=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===e&&this.sendBuffer.splice(a,1);n.call(this,new Error("operation has timed out"))},s);this.acks[e]=(...a)=>{this.io.clearTimeoutFn(r),n.apply(this,[null,...a])}}emitWithAck(e,...n){const i=this.flags.timeout!==void 0||this._opts.ackTimeout!==void 0;return new Promise((s,r)=>{n.push((a,c)=>i?a?r(a):s(c):s(a)),this.emit(e,...n)})}_addToQueue(e){let n;typeof e[e.length-1]=="function"&&(n=e.pop());const i={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((s,...r)=>i!==this._queue[0]?void 0:(s!==null?i.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(s)):(this._queue.shift(),n&&n(null,...r)),i.pending=!1,this._drainQueue())),this._queue.push(i),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!e||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:D.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,n)}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case D.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case D.EVENT:case D.BINARY_EVENT:this.onevent(e);break;case D.ACK:case D.BINARY_ACK:this.onack(e);break;case D.DISCONNECT:this.ondisconnect();break;case D.CONNECT_ERROR:this.destroy();const i=new Error(e.data.message);i.data=e.data.data,this.emitReserved("connect_error",i);break}}onevent(e){const n=e.data||[];e.id!=null&&n.push(this.ack(e.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const i of n)i.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const n=this;let i=!1;return function(...s){i||(i=!0,n.packet({type:D.ACK,id:e,data:s}))}}onack(e){const n=this.acks[e.id];typeof n=="function"&&(n.apply(this,e.data),delete this.acks[e.id])}onconnect(e,n){this.id=e,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:D.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const n=this._anyListeners;for(let i=0;i<n.length;i++)if(e===n[i])return n.splice(i,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const n=this._anyOutgoingListeners;for(let i=0;i<n.length;i++)if(e===n[i])return n.splice(i,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const i of n)i.apply(this,e.data)}}}function Qe(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}Qe.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=Math.floor(e*10)&1?t+n:t-n}return Math.min(t,this.max)|0};Qe.prototype.reset=function(){this.attempts=0};Qe.prototype.setMin=function(t){this.ms=t};Qe.prototype.setMax=function(t){this.max=t};Qe.prototype.setJitter=function(t){this.jitter=t};class It extends ie{constructor(e,n){var i;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(n=e,e=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,wt(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((i=n.randomizationFactor)!==null&&i!==void 0?i:.5),this.backoff=new Qe({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=e;const s=n.parser||gr;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var n;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(n=this.backoff)===null||n===void 0||n.setMin(e),this)}randomizationFactor(e){var n;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(n=this.backoff)===null||n===void 0||n.setJitter(e),this)}reconnectionDelayMax(e){var n;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(n=this.backoff)===null||n===void 0||n.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new mi(this.uri,this.opts);const n=this.engine,i=this;this._readyState="opening",this.skipReconnect=!1;const s=ve(n,"open",function(){i.onopen(),e&&e()}),r=c=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",c),e?e(c):this.maybeReconnectOnOpen()},a=ve(n,"error",r);if(this._timeout!==!1){const c=this._timeout,o=this.setTimeoutFn(()=>{s(),r(new Error("timeout")),n.close()},c);this.opts.autoUnref&&o.unref(),this.subs.push(()=>{this.clearTimeoutFn(o)})}return this.subs.push(s),this.subs.push(a),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(ve(e,"ping",this.onping.bind(this)),ve(e,"data",this.ondata.bind(this)),ve(e,"error",this.onerror.bind(this)),ve(e,"close",this.onclose.bind(this)),ve(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(n){this.onclose("parse error",n)}}ondecoded(e){Ht(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,n){let i=this.nsps[e];return i?this._autoConnect&&!i.active&&i.connect():(i=new bi(this,e,n),this.nsps[e]=i),i}_destroy(e){const n=Object.keys(this.nsps);for(const i of n)if(this.nsps[i].active)return;this._close()}_packet(e){const n=this.encoder.encode(e);for(let i=0;i<n.length;i++)this.engine.write(n[i],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e,n){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const i=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(s=>{s?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",s)):e.onreconnect()}))},n);this.opts.autoUnref&&i.unref(),this.subs.push(()=>{this.clearTimeoutFn(i)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const $e={};function dt(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const n=rr(t,e.path||"/socket.io"),i=n.source,s=n.id,r=n.path,a=$e[s]&&r in $e[s].nsps,c=e.forceNew||e["force new connection"]||e.multiplex===!1||a;let o;return c?o=new It(i,e):($e[s]||($e[s]=new It(i,e)),o=$e[s]),n.query&&!e.query&&(e.query=n.queryKey),o.socket(n.path,e)}Object.assign(dt,{Manager:It,Socket:bi,io:dt,connect:dt});function An(t,e,n){const i=t.slice();return i[46]=e[n],i}function Cn(t,e,n){const i=t.slice();return i[46]=e[n],i}function On(t,e,n){const i=t.slice();return i[46]=e[n],i}function Rn(t,e,n){const i=t.slice();return i[46]=e[n],i}function _r(t){let e,n;return e=new yt({props:{customClasses:"btn__green_disabled w-25",$$slots:{default:[wr]},$$scope:{ctx:t}}}),{c(){de(e.$$.fragment)},m(i,s){ce(e,i,s),n=!0},p(i,s){const r={};s[1]&16777216&&(r.$$scope={dirty:s,ctx:i}),e.$set(r)},i(i){n||(T(e.$$.fragment,i),n=!0)},o(i){R(e.$$.fragment,i),n=!1},d(i){ue(e,i)}}}function yr(t){let e,n;return e=new yt({props:{customClasses:"btn__green w-25",$$slots:{default:[kr]},$$scope:{ctx:t}}}),e.$on("click",t[10]),{c(){de(e.$$.fragment)},m(i,s){ce(e,i,s),n=!0},p(i,s){const r={};s[1]&16777216&&(r.$$scope={dirty:s,ctx:i}),e.$set(r)},i(i){n||(T(e.$$.fragment,i),n=!0)},o(i){R(e.$$.fragment,i),n=!1},d(i){ue(e,i)}}}function wr(t){let e;return{c(){e=V("Game in progress...")},m(n,i){ee(n,e,i)},d(n){n&&X(e)}}}function kr(t){let e;return{c(){e=V("Start game")},m(n,i){ee(n,e,i)},d(n){n&&X(e)}}}function Bn(t){let e,n,i,s,r,a,c,o,u,h,g,m=t[1].wins+"",k,w,b=t[1].losses+"",_,L,S=t[1].draws+"",M,v,I,E,A=t[0].wins+"",Q,W,Y=t[0].losses+"",se,re,j=t[0].draws+"",ge,ae,H,C,K,F,Ae,ye,U,Re,Le,fe,le,Z=t[1].discards,p=[];for(let l=0;l<Z.length;l+=1)p[l]=Pn(Rn(t,Z,l));const P=l=>R(p[l],1,1,()=>{p[l]=null});let $=t[0].discards,z=[];for(let l=0;l<$.length;l+=1)z[l]=Sn(On(t,$,l));const N=l=>R(z[l],1,1,()=>{z[l]=null});return{c(){e=B("div"),n=B("p"),i=V(t[6]),s=x(),r=B("p"),a=V(t[7]),c=x(),o=B("br"),u=x(),h=B("p"),g=V("Player 1 stats: Wins: "),k=V(m),w=V(", Losses: "),_=V(b),L=V(", Draws: "),M=V(S),v=x(),I=B("p"),E=V("Player 2 stats: Wins: "),Q=V(A),W=V(", Losses: "),se=V(Y),re=V(", Draws: "),ge=V(j),ae=x(),H=B("div"),C=B("div"),K=B("h4"),K.textContent="Player 1 cards discarded:",F=x(),Ae=B("ul");for(let l=0;l<p.length;l+=1)p[l].c();ye=x(),U=B("div"),Re=B("h4"),Re.textContent="Player 2 cards discarded:",Le=x(),fe=B("ul");for(let l=0;l<z.length;l+=1)z[l].c();O(Ae,"class","discarded-cards svelte-1jjbidh"),O(C,"class","discard-wrapper"),O(fe,"class","discarded-cards svelte-1jjbidh"),O(U,"class","discard-wrapper"),O(H,"class","lg-discard-wrapper svelte-1jjbidh"),O(e,"class","game-results svelte-1jjbidh")},m(l,f){ee(l,e,f),y(e,n),y(n,i),y(e,s),y(e,r),y(r,a),y(e,c),y(e,o),y(e,u),y(e,h),y(h,g),y(h,k),y(h,w),y(h,_),y(h,L),y(h,M),y(e,v),y(e,I),y(I,E),y(I,Q),y(I,W),y(I,se),y(I,re),y(I,ge),y(e,ae),y(e,H),y(H,C),y(C,K),y(C,F),y(C,Ae);for(let d=0;d<p.length;d+=1)p[d]&&p[d].m(Ae,null);y(H,ye),y(H,U),y(U,Re),y(U,Le),y(U,fe);for(let d=0;d<z.length;d+=1)z[d]&&z[d].m(fe,null);le=!0},p(l,f){if((!le||f[0]&64)&&pe(i,l[6]),(!le||f[0]&128)&&pe(a,l[7]),(!le||f[0]&2)&&m!==(m=l[1].wins+"")&&pe(k,m),(!le||f[0]&2)&&b!==(b=l[1].losses+"")&&pe(_,b),(!le||f[0]&2)&&S!==(S=l[1].draws+"")&&pe(M,S),(!le||f[0]&1)&&A!==(A=l[0].wins+"")&&pe(Q,A),(!le||f[0]&1)&&Y!==(Y=l[0].losses+"")&&pe(se,Y),(!le||f[0]&1)&&j!==(j=l[0].draws+"")&&pe(ge,j),f[0]&514){Z=l[1].discards;let d;for(d=0;d<Z.length;d+=1){const q=Rn(l,Z,d);p[d]?(p[d].p(q,f),T(p[d],1)):(p[d]=Pn(q),p[d].c(),T(p[d],1),p[d].m(Ae,null))}for(be(),d=Z.length;d<p.length;d+=1)P(d);_e()}if(f[0]&513){$=l[0].discards;let d;for(d=0;d<$.length;d+=1){const q=On(l,$,d);z[d]?(z[d].p(q,f),T(z[d],1)):(z[d]=Sn(q),z[d].c(),T(z[d],1),z[d].m(fe,null))}for(be(),d=$.length;d<z.length;d+=1)N(d);_e()}},i(l){if(!le){for(let f=0;f<Z.length;f+=1)T(p[f]);for(let f=0;f<$.length;f+=1)T(z[f]);le=!0}},o(l){p=p.filter(Boolean);for(let f=0;f<p.length;f+=1)R(p[f]);z=z.filter(Boolean);for(let f=0;f<z.length;f+=1)R(z[f]);le=!1},d(l){l&&X(e),pt(p,l),pt(z,l)}}}function Pn(t){let e,n;return e=new st({props:{displayTitle:t[9][t[46]].displayTitle,title:t[9][t[46]].title,img:t[9][t[46]].image,race:t[9][t[46]].race,rarity:t[9][t[46]].rarity,points:t[9][t[46]].points}}),{c(){de(e.$$.fragment)},m(i,s){ce(e,i,s),n=!0},p(i,s){const r={};s[0]&514&&(r.displayTitle=i[9][i[46]].displayTitle),s[0]&514&&(r.title=i[9][i[46]].title),s[0]&514&&(r.img=i[9][i[46]].image),s[0]&514&&(r.race=i[9][i[46]].race),s[0]&514&&(r.rarity=i[9][i[46]].rarity),s[0]&514&&(r.points=i[9][i[46]].points),e.$set(r)},i(i){n||(T(e.$$.fragment,i),n=!0)},o(i){R(e.$$.fragment,i),n=!1},d(i){ue(e,i)}}}function Sn(t){let e,n;return e=new st({props:{displayTitle:t[9][t[46]].displayTitle,title:t[9][t[46]].title,img:t[9][t[46]].image,race:t[9][t[46]].race,rarity:t[9][t[46]].rarity,points:t[9][t[46]].points}}),{c(){de(e.$$.fragment)},m(i,s){ce(e,i,s),n=!0},p(i,s){const r={};s[0]&513&&(r.displayTitle=i[9][i[46]].displayTitle),s[0]&513&&(r.title=i[9][i[46]].title),s[0]&513&&(r.img=i[9][i[46]].image),s[0]&513&&(r.race=i[9][i[46]].race),s[0]&513&&(r.rarity=i[9][i[46]].rarity),s[0]&513&&(r.points=i[9][i[46]].points),e.$set(r)},i(i){n||(T(e.$$.fragment,i),n=!0)},o(i){R(e.$$.fragment,i),n=!1},d(i){ue(e,i)}}}function Ln(t){let e,n;return e=new st({props:{faceUp:t[11]("p1")||t[5],displayTitle:t[9][t[46]].displayTitle,title:t[9][t[46]].title,img:t[9][t[46]].image,trait:t[9][t[46]].trait,traitTitle:t[9][t[46]].traitTitle,description:t[9][t[46]].description,race:t[9][t[46]].race,rarity:t[9][t[46]].rarity,points:t[9][t[46]].points}}),e.$on("cardClick",t[15]),{c(){de(e.$$.fragment)},m(i,s){ce(e,i,s),n=!0},p(i,s){const r={};s[0]&32&&(r.faceUp=i[11]("p1")||i[5]),s[0]&514&&(r.displayTitle=i[9][i[46]].displayTitle),s[0]&514&&(r.title=i[9][i[46]].title),s[0]&514&&(r.img=i[9][i[46]].image),s[0]&514&&(r.trait=i[9][i[46]].trait),s[0]&514&&(r.traitTitle=i[9][i[46]].traitTitle),s[0]&514&&(r.description=i[9][i[46]].description),s[0]&514&&(r.race=i[9][i[46]].race),s[0]&514&&(r.rarity=i[9][i[46]].rarity),s[0]&514&&(r.points=i[9][i[46]].points),e.$set(r)},i(i){n||(T(e.$$.fragment,i),n=!0)},o(i){R(e.$$.fragment,i),n=!1},d(i){ue(e,i)}}}function Nn(t){let e,n;return e=new st({props:{faceUp:t[11]("p2")||t[5],displayTitle:t[9][t[46]].displayTitle,title:t[9][t[46]].title,img:t[9][t[46]].image,trait:t[9][t[46]].trait,traitTitle:t[9][t[46]].traitTitle,description:t[9][t[46]].description,race:t[9][t[46]].race,rarity:t[9][t[46]].rarity,points:t[9][t[46]].points}}),e.$on("cardClick",t[16]),{c(){de(e.$$.fragment)},m(i,s){ce(e,i,s),n=!0},p(i,s){const r={};s[0]&32&&(r.faceUp=i[11]("p2")||i[5]),s[0]&513&&(r.displayTitle=i[9][i[46]].displayTitle),s[0]&513&&(r.title=i[9][i[46]].title),s[0]&513&&(r.img=i[9][i[46]].image),s[0]&513&&(r.trait=i[9][i[46]].trait),s[0]&513&&(r.traitTitle=i[9][i[46]].traitTitle),s[0]&513&&(r.description=i[9][i[46]].description),s[0]&513&&(r.race=i[9][i[46]].race),s[0]&513&&(r.rarity=i[9][i[46]].rarity),s[0]&513&&(r.points=i[9][i[46]].points),e.$set(r)},i(i){n||(T(e.$$.fragment,i),n=!0)},o(i){R(e.$$.fragment,i),n=!1},d(i){ue(e,i)}}}function vr(t){let e,n;return e=new yt({props:{round:!0,customClasses:"btn__orange",$$slots:{default:[Er]},$$scope:{ctx:t}}}),e.$on("click",t[14]),{c(){de(e.$$.fragment)},m(i,s){ce(e,i,s),n=!0},p(i,s){const r={};s[1]&16777216&&(r.$$scope={dirty:s,ctx:i}),e.$set(r)},i(i){n||(T(e.$$.fragment,i),n=!0)},o(i){R(e.$$.fragment,i),n=!1},d(i){ue(e,i)}}}function Tr(t){let e,n;return e=new yt({props:{round:!0,customClasses:"btn__orange_disabled",$$slots:{default:[Ar]},$$scope:{ctx:t}}}),{c(){de(e.$$.fragment)},m(i,s){ce(e,i,s),n=!0},p(i,s){const r={};s[1]&16777216&&(r.$$scope={dirty:s,ctx:i}),e.$set(r)},i(i){n||(T(e.$$.fragment,i),n=!0)},o(i){R(e.$$.fragment,i),n=!1},d(i){ue(e,i)}}}function Er(t){let e;return{c(){e=V("Gobbledegook!")},m(n,i){ee(n,e,i)},d(n){n&&X(e)}}}function Ar(t){let e;return{c(){e=V("Gobbledegook!")},m(n,i){ee(n,e,i)},d(n){n&&X(e)}}}function Dn(t){let e,n=t[1].turn?"Player 1":"Player 2",i,s;return{c(){e=B("p"),i=V(n),s=B("span"),s.textContent="'s turn",O(s,"class","svelte-1jjbidh"),O(e,"class","turn-text svelte-1jjbidh")},m(r,a){ee(r,e,a),y(e,i),y(e,s)},p(r,a){a[0]&2&&n!==(n=r[1].turn?"Player 1":"Player 2")&&pe(i,n)},d(r){r&&X(e)}}}function Cr(t){let e,n,i,s,r,a,c,o,u,h,g,m,k,w,b,_,L,S,M,v,I,E,A,Q,W,Y,se,re,j;const ge=[yr,_r],ae=[];function H(p,P){return p[4]?1:0}n=H(t),i=ae[n]=ge[n](t);let C=t[6]&&Bn(t),K=t[1].hand,F=[];for(let p=0;p<K.length;p+=1)F[p]=Ln(Cn(t,K,p));const Ae=p=>R(F[p],1,1,()=>{F[p]=null});let ye=t[0].hand,U=[];for(let p=0;p<ye.length;p+=1)U[p]=Nn(An(t,ye,p));const Re=p=>R(U[p],1,1,()=>{U[p]=null});A=new st({props:{faceUp:!1}}),A.$on("click",t[12]);const Le=[Tr,vr],fe=[];function le(p,P){return p[3]||p[8]<3?0:1}W=le(t),Y=fe[W]=Le[W](t);let Z=t[4]&&Dn(t);return{c(){e=B("main"),i.c(),s=x(),r=B("div"),C&&C.c(),a=x(),c=B("div"),o=B("div"),u=B("p"),h=V("Player 1"),m=x();for(let p=0;p<F.length;p+=1)F[p].c();w=x(),b=B("div"),_=B("p"),L=V("Player 2"),M=x();for(let p=0;p<U.length;p+=1)U[p].c();I=x(),E=B("div"),de(A.$$.fragment),Q=x(),Y.c(),se=x(),Z&&Z.c(),O(u,"class",g="p1-name "+(t[1].turn?"turn-active":"")+" svelte-1jjbidh"),O(o,"class",k="card-section card-section__ally "+(t[1].turn||t[1].justWon?"section-active":"")+" svelte-1jjbidh"),O(_,"class",S="p2-name "+(t[0].turn?"turn-active":"")+" svelte-1jjbidh"),O(b,"class",v="card-section card-section__enemy "+(t[0].turn||t[0].justWon?"section-active":"")+" svelte-1jjbidh"),O(E,"class","game-buttons svelte-1jjbidh"),O(c,"class",re="game-board "+(t[2]?"gobble-declared":"")+" svelte-1jjbidh"),O(r,"class","game-end-wrapper svelte-1jjbidh")},m(p,P){ee(p,e,P),ae[n].m(e,null),y(e,s),y(e,r),C&&C.m(r,null),y(r,a),y(r,c),y(c,o),y(o,u),y(u,h),y(o,m);for(let $=0;$<F.length;$+=1)F[$]&&F[$].m(o,null);y(c,w),y(c,b),y(b,_),y(_,L),y(b,M);for(let $=0;$<U.length;$+=1)U[$]&&U[$].m(b,null);y(c,I),y(c,E),ce(A,E,null),y(E,Q),fe[W].m(E,null),y(c,se),Z&&Z.m(c,null),j=!0},p(p,P){let $=n;if(n=H(p),n===$?ae[n].p(p,P):(be(),R(ae[$],1,1,()=>{ae[$]=null}),_e(),i=ae[n],i?i.p(p,P):(i=ae[n]=ge[n](p),i.c()),T(i,1),i.m(e,s)),p[6]?C?(C.p(p,P),P[0]&64&&T(C,1)):(C=Bn(p),C.c(),T(C,1),C.m(r,a)):C&&(be(),R(C,1,1,()=>{C=null}),_e()),(!j||P[0]&2&&g!==(g="p1-name "+(p[1].turn?"turn-active":"")+" svelte-1jjbidh"))&&O(u,"class",g),P[0]&10786){K=p[1].hand;let N;for(N=0;N<K.length;N+=1){const l=Cn(p,K,N);F[N]?(F[N].p(l,P),T(F[N],1)):(F[N]=Ln(l),F[N].c(),T(F[N],1),F[N].m(o,null))}for(be(),N=K.length;N<F.length;N+=1)Ae(N);_e()}if((!j||P[0]&2&&k!==(k="card-section card-section__ally "+(p[1].turn||p[1].justWon?"section-active":"")+" svelte-1jjbidh"))&&O(o,"class",k),(!j||P[0]&1&&S!==(S="p2-name "+(p[0].turn?"turn-active":"")+" svelte-1jjbidh"))&&O(_,"class",S),P[0]&10785){ye=p[0].hand;let N;for(N=0;N<ye.length;N+=1){const l=An(p,ye,N);U[N]?(U[N].p(l,P),T(U[N],1)):(U[N]=Nn(l),U[N].c(),T(U[N],1),U[N].m(b,null))}for(be(),N=ye.length;N<U.length;N+=1)Re(N);_e()}(!j||P[0]&1&&v!==(v="card-section card-section__enemy "+(p[0].turn||p[0].justWon?"section-active":"")+" svelte-1jjbidh"))&&O(b,"class",v);let z=W;W=le(p),W===z?fe[W].p(p,P):(be(),R(fe[z],1,1,()=>{fe[z]=null}),_e(),Y=fe[W],Y?Y.p(p,P):(Y=fe[W]=Le[W](p),Y.c()),T(Y,1),Y.m(E,null)),p[4]?Z?Z.p(p,P):(Z=Dn(p),Z.c(),Z.m(c,null)):Z&&(Z.d(1),Z=null),(!j||P[0]&4&&re!==(re="game-board "+(p[2]?"gobble-declared":"")+" svelte-1jjbidh"))&&O(c,"class",re)},i(p){if(!j){T(i),T(C);for(let P=0;P<K.length;P+=1)T(F[P]);for(let P=0;P<ye.length;P+=1)T(U[P]);T(A.$$.fragment,p),T(Y),j=!0}},o(p){R(i),R(C),F=F.filter(Boolean);for(let P=0;P<F.length;P+=1)R(F[P]);U=U.filter(Boolean);for(let P=0;P<U.length;P+=1)R(U[P]);R(A.$$.fragment,p),R(Y),j=!1},d(p){p&&X(e),ae[n].d(),C&&C.d(),pt(F,p),pt(U,p),ue(A),fe[W].d(),Z&&Z.d()}}}function Or(t,e){let n=t.hand.filter(s=>s==="ai").length,i=t.hand.filter(s=>s==="virus").length;t.hand.includes("crusher541A57")&&(n+=e.hand.filter(s=>s==="ai").length,i+=e.hand.filter(s=>s==="virus").length),t.hand.forEach(s=>{s==="virus"&&(t.points.bots+=8),s==="ai"&&(t.points.bots+=n*i)}),t.hand.includes("crusher541A57")&&e.hand.forEach(s=>{s==="virus"&&(t.points.bots+=8),s==="ai"&&(t.points.bots+=n*i)})}function Rr(t,e,n){let i,s,r,a,c,o,u,h,g;he(t,ds,l=>n(19,i=l)),he(t,ne,l=>n(0,s=l)),he(t,te,l=>n(1,r=l)),he(t,us,l=>n(9,a=l)),he(t,fs,l=>n(20,c=l)),he(t,hs,l=>n(21,o=l)),he(t,ps,l=>n(22,u=l)),he(t,ms,l=>n(23,h=l)),he(t,gs,l=>n(24,g=l));let m=dt("http://192.168.2.10:6912"),k=!1,w=!1,b=!1,_=!0,L="",S="",M=0,v={beasts:[...c],bots:[...o],dwarves:[...i],elves:[...u],goblins:[...h],humans:[...g]},I=Object.keys(v);Gn(()=>{m.on("connect",()=>console.log(`User ID: ${m.id} connected!`)),m.on("connect_error",l=>console.error("Connection error:",l)),m.on("set-users",l=>{Object.entries(l).forEach(([f,d])=>{te.update(q=>(q.id=l.p1,q)),ne.update(q=>(q.id=l.p2,q))})}),m.on("game-started",l=>{A(),te.update(f=>(f.hand=l.player1.hand,f.turn=l.player1.turn,f)),ne.update(f=>(f.hand=l.player2.hand,f.turn=l.player2.turn,f)),v={...l.fullDeck}}),m.on("turn-changed",l=>{n(8,M+=.5),te.update(f=>(f.turn=!l.player1.turn,f)),ne.update(f=>(f.turn=!l.player2.turn,f))}),m.on("card-drawn",l=>{v={...l.fullDeck},I=l.deckTypes,te.set(l.player1),ne.set(l.player2)}),m.on("card-discarded",l=>{te.set(l.player1),ne.set(l.player2)}),m.on("gdg-declared",()=>n(2,k=!0)),m.on("game-ended",()=>E()),m.emit("client-ready")});function E(){n(5,_=!0),n(4,b=!1),n(3,w=!0),te.update(l=>(l.turn=!1,l)),ne.update(l=>(l.turn=!1,l)),Re(r,s),Re(s,r),ye(),Y(),Y(!0)}function A(){te.update(l=>(l.highestPoints=0,l.points.beasts=0,l.points.bots=0,l.points.dwarves=0,l.points.elves=0,l.points.goblins=0,l.points.humans=0,l.discards=[],l.justWon=!1,l)),ne.update(l=>(l.highestPoints=0,l.points.beasts=0,l.points.bots=0,l.points.dwarves=0,l.points.elves=0,l.points.goblins=0,l.points.humans=0,l.discards=[],l.justWon=!1,l)),v.humans=[...g],v.goblins=[...h],v.elves=[...u],v.dwarves=[...i],v.bots=[...o],v.beasts=[...c],n(8,M=0),n(5,_=!1),n(4,b=!0),n(2,k=!1),n(3,w=!1),n(6,L="")}function Q(){A(),ae(r.hand),ae(s.hand),W(),m.emit("start-game",{player1:r,player2:s,fullDeck:v})}function W(){Math.ceil(Math.random()*2)===1?(oe(te,r.turn=!0,r),oe(ne,s.turn=!1,s)):(oe(te,r.turn=!1,r),oe(ne,s.turn=!0,s))}function Y(l=!1){const f=v.beasts.length||0,d=v.bots.length||0,q=v.dwarves.length||0,ke=v.elves.length||0,J=v.goblins.length||0,Yt=v.humans.length||0;if(l)console.log(`Cards remaining per deck:

      Humans: ${Yt}

      Goblins: ${J}

      Elves: ${ke}

      Dwarves: ${q}
)
      Bots: ${d}
)
      Beasts: ${f}
`);else{const _i=Yt+J+ke+q+d+f;console.log(`Cards remaining in deck: ${_i}`)}}function se(){return!!(r.id===m.id&&r.turn||s.id===m.id&&s.turn)}function re(){return r.id===m.id?"p1":s.id===m.id?"p2":"guest"}function j(l){return!!(_||re()==="guest"||re()==="p1"&&l==="p1"||re()==="p2"&&l==="p2")}function ge(){m.emit("change-turns",{player1:r,player2:s})}function ae(l){for(let f=1;f<=5;f++){let d=Math.floor(Math.random()*I.length),q=I[d];d=Math.floor(Math.random()*v[q].length);const ke=v[q][d],J=v[q].indexOf(ke);v[q].splice(J,1),l.push(ke)}r.hand===l?te.update(f=>(f.hand=l,f)):ne.update(f=>(f.hand=l,f))}function H(l){if(_)return;let f="",d="",q=0;if(n(3,w=!0),l.hand.length>5)return;if(l.dwarfNextTurn?(l.dwarfNextTurn=!1,v.dwarves.length!==0?f="dwarves":(q=Math.floor(Math.random()*I.length),f=I[q])):(q=Math.floor(Math.random()*I.length),f=I[q]),I.length===0&&f===void 0){console.log("No more cards!"),E();return}if(l.goblinLordMarked?(l.goblinLordMarked=!1,v.goblins.length===0?f=I[q]:f="goblins",v.goblins.includes("goblinLord")?d=v.goblins.find(J=>J==="goblinLord"):(q=Math.floor(Math.random()*v[f].length),d=v[f][q])):(q=Math.floor(Math.random()*v[f].length),d=v[f][q],(d==="longbeardLeader"||d==="dwarfCommander")&&(l.dwarfNextTurn=!0),d==="goblinLordsMark"&&(l.goblinLordMarked=!0)),v[f].length<=1){const J=I.indexOf(f);I.splice(J,1)}const ke=v[f].indexOf(d);v[f].splice(ke,1),l.title==="Player 1"?te.update(J=>(J.hand=[...J.hand,d],J)):ne.update(J=>(J.hand=[...J.hand,d],J)),m.emit("draw-card",{player1:r,player2:s,deckTypes:I,fullDeck:v})}function C(){_||re()!=="guest"&&(se()&&r.turn&&H(r),se()&&s.turn&&H(s))}function K(l){if(se()){if(se()&&r.turn){const f=r.hand.indexOf(l);te.update(d=>(d.hand.splice(f,1),d.discards=[...d.discards,l],d))}if(se()&&s.turn){const f=s.hand.indexOf(l);ne.update(d=>(d.hand.splice(f,1),d.discards=[...d.discards,l],d))}m.emit("discard-card",{player1:r,player2:s}),k?m.emit("end-game"):(ge(),n(3,w=!1))}}function F(l,f){let d=l.detail.title;f.length>5&&K(d)}function Ae(){se()&&(_||(k?m.emit("end-game"):(console.log("Gobbledegook declared!!"),ge(),n(2,k=!0),m.emit("gdg-declared"))))}function ye(){r.highestPoints>s.highestPoints?(oe(te,r.justWon=!0,r),oe(te,r.wins+=1,r),oe(ne,s.losses+=1,s),n(6,L=`Player 1 is the winner with ${r.highestPoints} points!`),n(7,S=`Player 2 loses with ${s.highestPoints} points...${s.highestPoints<=0?"":""}`)):s.highestPoints>r.highestPoints?(oe(ne,s.justWon=!0,s),oe(ne,s.wins+=1,s),oe(te,r.losses+=1,r),n(6,L=`Player 2 is the winner with ${s.highestPoints} points!`),n(7,S=`Player 1 loses with ${r.highestPoints} points...${r.highestPoints<=0?"":""}`)):r.highestPoints===5e5&&s.highestPoints===5e5?(oe(te,r.justWon=!0,r),oe(ne,s.justWon=!0,s),oe(ne,s.draws+=1,s),oe(te,r.draws+=1,r),n(6,L="It seems neither the goblins nor the elves want to go to war with each other while their leaders are on the field..."),n(7,S=" it's a draw!")):(oe(te,r.justWon=!0,r),oe(ne,s.justWon=!0,s),oe(ne,s.draws+=1,s),oe(te,r.draws+=1,r),n(6,L=`Player 1 had ${r.highestPoints} points and player 2 had ${s.highestPoints} points...`),n(7,S=" it's a draw!"))}function U(l){l.hand.forEach(f=>{switch(a[f].race){case"beast":l.points.beasts+=a[f].points;break;case"bot":a[f].title==="faeBot"&&(l.points.elves+=a[f].points),l.points.bots+=a[f].points;break;case"elf":l.points.elves+=a[f].points;break;case"dwarf":a[f].title==="hobbit"&&(l.points.humans+=a[f].points),l.points.dwarves+=a[f].points;break;case"goblin":l.points.goblins+=a[f].points;break;case"human":l.points.humans+=a[f].points;break;default:console.log("Didn't match a race???")}l.highestPoints=Math.max(l.points.beasts,l.points.bots,l.points.dwarves,l.points.elves,l.points.goblins,l.points.humans)})}function Re(l,f){U(l),l.hand.includes("commander")&&fe(l),l.hand.includes("emperor")&&Le(l),l.hand.includes("goblinLord")&&le(l,f),l.hand.includes("elfKing")&&Z(l,f),l.hand.includes("dreamDestroyer")&&p(l),l.hand.includes("crusher541A57")&&P(l,f),l.hand.includes("ai")&&Or(l,f),l.hand.includes("longbeardLeader")&&$(l),l.hand.includes("nelladan")&&l.hand.includes("nadallen")&&(l.points.elves+=10),l.highestPoints=Math.max(l.points.beasts,l.points.bots,l.points.dwarves,l.points.elves,l.points.goblins,l.points.humans),console.log({player:l.title,highestPoints:l.highestPoints,beastPoints:l.points.beasts,botPoints:l.points.bots,dwarfPoints:l.points.dwarves,elfPoints:l.points.elves,goblinPoints:l.points.goblins,humanPoints:l.points.humans})}function Le(l){l.points.humans*=2,l.hand.forEach(f=>{a[f].race!=="human"&&a[f].title!=="hobbit"&&(l.points.humans+=a[f].points)})}function fe(l){let f=l.hand.filter(d=>d==="commander").length;l.hand.forEach(d=>{(a[d].race==="human"||a[d].title==="hobbit")&&(l.points.humans+=f)})}function le(l,f){const d=l.hand.every(J=>a[J].race==="goblin");console.log(`from inside calculateGoblinLord, goblinHand = ${d}`);const q=f.hand.every(J=>a[J].race==="elf"),ke=f.hand.includes("elfKing");d&&q&&ke?l.points.goblins=5e5:d&&(l.points.goblins=1e6)}function Z(l,f){const d=f.hand.every(J=>a[J].race==="goblin"),q=l.hand.every(J=>a[J].race==="elf"||a[J].title==="faeBot"),ke=f.hand.includes("goblinLord");d&&ke&&q?l.points.elves=5e5:q?l.points.elves*=3:l.points.elves*=2}function p(l){l.points.beasts=0,l.hand.forEach(f=>{a[f].race==="beast"&&(l.points.beasts+=12)})}function P(l,f){l.points.bots=0,f.points.bots=0,l.hand.forEach(d=>{a[d].race==="bot"&&(l.points.bots+=a[d].points+2)}),f.hand.forEach(d=>{a[d].race==="bot"&&(l.points.bots+=a[d].points+2)})}function $(l){let f=0;r.discards.forEach(d=>{i.includes(d)&&(f+=1)}),s.discards.forEach(d=>{i.includes(d)&&(f+=1)}),v.dwarves?f>=v.dwarves.length?l.points.dwarves+=50:l.points.dwarves+=0:l.points.dwarves+=50}const z=l=>F(l,r.hand),N=l=>F(l,s.hand);return t.$$.update=()=>{t.$$.dirty[0]&3&&console.log({p1:r,p2:s})},[s,r,k,w,b,_,L,S,M,a,Q,j,C,F,Ae,z,N]}class Br extends Se{constructor(e){super(),Pe(this,e,Rr,Cr,Oe,{},null,[-1,-1])}}function Pr(t){let e,n,i;return n=new Br({}),{c(){e=B("main"),de(n.$$.fragment),O(e,"class","svelte-jszidx")},m(s,r){ee(s,e,r),ce(n,e,null),i=!0},p:G,i(s){i||(T(n.$$.fragment,s),i=!0)},o(s){R(n.$$.fragment,s),i=!1},d(s){s&&X(e),ue(n)}}}class Mn extends Se{constructor(e){super(),Pe(this,e,null,Pr,Oe,{})}}function Sr(t){let e,n,i,s;return e=new fn({props:{path:"/home",component:Mn}}),i=new fn({props:{path:"/",component:Mn}}),{c(){de(e.$$.fragment),n=x(),de(i.$$.fragment)},m(r,a){ce(e,r,a),ee(r,n,a),ce(i,r,a),s=!0},p:G,i(r){s||(T(e.$$.fragment,r),T(i.$$.fragment,r),s=!0)},o(r){R(e.$$.fragment,r),R(i.$$.fragment,r),s=!1},d(r){ue(e,r),r&&X(n),ue(i,r)}}}function Lr(t){let e,n;return e=new cs({props:{$$slots:{default:[Sr]},$$scope:{ctx:t}}}),{c(){de(e.$$.fragment)},m(i,s){ce(e,i,s),n=!0},p(i,[s]){const r={};s&1&&(r.$$scope={dirty:s,ctx:i}),e.$set(r)},i(i){n||(T(e.$$.fragment,i),n=!0)},o(i){R(e.$$.fragment,i),n=!1},d(i){ue(e,i)}}}class Nr extends Se{constructor(e){super(),Pe(this,e,null,Lr,Oe,{})}}new Nr({target:document.getElementById("app")});
