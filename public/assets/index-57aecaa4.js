(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();function Y(){}const Fn=t=>t;function Mn(t,e){for(const n in e)t[n]=e[n];return t}function Ws(t){return!!t&&(typeof t=="object"||typeof t=="function")&&typeof t.then=="function"}function as(t){return t()}function Yi(){return Object.create(null)}function st(t){t.forEach(as)}function Wt(t){return typeof t=="function"}function it(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let Rn;function Xi(t,e){return Rn||(Rn=document.createElement("a")),Rn.href=e,t===Rn.href}function Fs(t){return Object.keys(t).length===0}function ls(t,...e){if(t==null)return Y;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function Ie(t,e,n){t.$$.on_destroy.push(ls(e,n))}function on(t,e,n,i){if(t){const s=cs(t,e,n,i);return t[0](s)}}function cs(t,e,n,i){return t[1]&&i?Mn(n.ctx.slice(),t[1](i(e))):n.ctx}function an(t,e,n,i){if(t[2]&&i){const s=t[2](i(n));if(e.dirty===void 0)return s;if(typeof s=="object"){const r=[],o=Math.max(e.dirty.length,s.length);for(let c=0;c<o;c+=1)r[c]=e.dirty[c]|s[c];return r}return e.dirty|s}return e.dirty}function ln(t,e,n,i,s,r){if(s){const o=cs(e,n,i,r);t.p(o,s)}}function cn(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let i=0;i<n;i++)e[i]=-1;return e}return-1}function Ji(t){const e={};for(const n in t)n[0]!=="$"&&(e[n]=t[n]);return e}function Xe(t,e,n){return t.set(n),e}function Qi(t){const e=typeof t=="string"&&t.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return e?[parseFloat(e[1]),e[2]||"px"]:[t,"px"]}const us=typeof window<"u";let _i=us?()=>window.performance.now():()=>Date.now(),bi=us?t=>requestAnimationFrame(t):Y;const Ut=new Set;function fs(t){Ut.forEach(e=>{e.c(t)||(Ut.delete(e),e.f())}),Ut.size!==0&&bi(fs)}function yi(t){let e;return Ut.size===0&&bi(fs),{promise:new Promise(n=>{Ut.add(e={c:t,f:n})}),abort(){Ut.delete(e)}}}function h(t,e){t.appendChild(e)}function hs(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function zs(t){const e=y("style");return $s(hs(t),e),e.sheet}function $s(t,e){return h(t.head||t,e),e.sheet}function z(t,e,n){t.insertBefore(e,n||null)}function V(t){t.parentNode&&t.parentNode.removeChild(t)}function Ae(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function y(t){return document.createElement(t)}function L(t){return document.createTextNode(t)}function R(){return L(" ")}function Ft(){return L("")}function un(t,e,n,i){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n,i)}function k(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function js(t){return Array.from(t.childNodes)}function Z(t,e){e=""+e,t.data!==e&&(t.data=e)}function ds(t,e,{bubbles:n=!1,cancelable:i=!1}={}){const s=document.createEvent("CustomEvent");return s.initCustomEvent(t,n,i,e),s}function Zi(t,e){return new t(e)}const Hn=new Map;let Un=0;function Ks(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function Gs(t,e){const n={stylesheet:zs(e),rules:{}};return Hn.set(t,n),n}function Vn(t,e,n,i,s,r,o,c=0){const u=16.666/i;let d=`{
`;for(let T=0;T<=1;T+=u){const W=e+(n-e)*r(T);d+=T*100+`%{${o(W,1-W)}}
`}const _=d+`100% {${o(n,1-n)}}
}`,b=`__svelte_${Ks(_)}_${c}`,g=hs(t),{stylesheet:P,rules:E}=Hn.get(g)||Gs(g,t);E[b]||(E[b]=!0,P.insertRule(`@keyframes ${b} ${_}`,P.cssRules.length));const N=t.style.animation||"";return t.style.animation=`${N?`${N}, `:""}${b} ${i}ms linear ${s}ms 1 both`,Un+=1,b}function Wn(t,e){const n=(t.style.animation||"").split(", "),i=n.filter(e?r=>r.indexOf(e)<0:r=>r.indexOf("__svelte")===-1),s=n.length-i.length;s&&(t.style.animation=i.join(", "),Un-=s,Un||Ys())}function Ys(){bi(()=>{Un||(Hn.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&V(e)}),Hn.clear())})}let rn;function nt(t){rn=t}function zt(){if(!rn)throw new Error("Function called outside component initialization");return rn}function ps(t){zt().$$.on_mount.push(t)}function Xs(t){zt().$$.on_destroy.push(t)}function Js(){const t=zt();return(e,n,{cancelable:i=!1}={})=>{const s=t.$$.callbacks[e];if(s){const r=ds(e,n,{cancelable:i});return s.slice().forEach(o=>{o.call(t,r)}),!r.defaultPrevented}return!0}}function ti(t,e){return zt().$$.context.set(t,e),e}function ai(t){return zt().$$.context.get(t)}function Ln(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(i=>i.call(this,e))}const Mt=[],xi=[];let Vt=[];const er=[],Qs=Promise.resolve();let li=!1;function Zs(){li||(li=!0,Qs.then(wi))}function Ze(t){Vt.push(t)}const ni=new Set;let qt=0;function wi(){if(qt!==0)return;const t=rn;do{try{for(;qt<Mt.length;){const e=Mt[qt];qt++,nt(e),xs(e.$$)}}catch(e){throw Mt.length=0,qt=0,e}for(nt(null),Mt.length=0,qt=0;xi.length;)xi.pop()();for(let e=0;e<Vt.length;e+=1){const n=Vt[e];ni.has(n)||(ni.add(n),n())}Vt.length=0}while(Mt.length);for(;er.length;)er.pop()();li=!1,ni.clear(),nt(t)}function xs(t){if(t.fragment!==null){t.update(),st(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Ze)}}function eo(t){const e=[],n=[];Vt.forEach(i=>t.indexOf(i)===-1?e.push(i):n.push(i)),n.forEach(i=>i()),Vt=e}let Qt;function vi(){return Qt||(Qt=Promise.resolve(),Qt.then(()=>{Qt=null})),Qt}function bt(t,e,n){t.dispatchEvent(ds(`${e?"intro":"outro"}${n}`))}const Nn=new Set;let Je;function we(){Je={r:0,c:[],p:Je}}function ve(){Je.r||st(Je.c),Je=Je.p}function w(t,e){t&&t.i&&(Nn.delete(t),t.i(e))}function B(t,e,n,i){if(t&&t.o){if(Nn.has(t))return;Nn.add(t),Je.c.push(()=>{Nn.delete(t),i&&(n&&t.d(1),i())}),t.o(e)}else i&&i()}const ki={duration:0};function Ti(t,e,n){const i={direction:"in"};let s=e(t,n,i),r=!1,o,c,u=0;function d(){o&&Wn(t,o)}function _(){const{delay:g=0,duration:P=300,easing:E=Fn,tick:N=Y,css:T}=s||ki;T&&(o=Vn(t,0,1,P,g,E,T,u++)),N(0,1);const W=_i()+g,F=W+P;c&&c.abort(),r=!0,Ze(()=>bt(t,!0,"start")),c=yi(M=>{if(r){if(M>=F)return N(1,0),bt(t,!0,"end"),d(),r=!1;if(M>=W){const J=E((M-W)/P);N(J,1-J)}}return r})}let b=!1;return{start(){b||(b=!0,Wn(t),Wt(s)?(s=s(i),vi().then(_)):_())},invalidate(){b=!1},end(){r&&(d(),r=!1)}}}function gs(t,e,n){const i={direction:"out"};let s=e(t,n,i),r=!0,o;const c=Je;c.r+=1;function u(){const{delay:d=0,duration:_=300,easing:b=Fn,tick:g=Y,css:P}=s||ki;P&&(o=Vn(t,1,0,_,d,b,P));const E=_i()+d,N=E+_;Ze(()=>bt(t,!1,"start")),yi(T=>{if(r){if(T>=N)return g(0,1),bt(t,!1,"end"),--c.r||st(c.c),!1;if(T>=E){const W=b((T-E)/_);g(1-W,W)}}return r})}return Wt(s)?vi().then(()=>{s=s(i),u()}):u(),{end(d){d&&s.tick&&s.tick(1,0),r&&(o&&Wn(t,o),r=!1)}}}function tr(t,e,n,i){const s={direction:"both"};let r=e(t,n,s),o=i?0:1,c=null,u=null,d=null;function _(){d&&Wn(t,d)}function b(P,E){const N=P.b-o;return E*=Math.abs(N),{a:o,b:P.b,d:N,duration:E,start:P.start,end:P.start+E,group:P.group}}function g(P){const{delay:E=0,duration:N=300,easing:T=Fn,tick:W=Y,css:F}=r||ki,M={start:_i()+E,b:P};P||(M.group=Je,Je.r+=1),c||u?u=M:(F&&(_(),d=Vn(t,o,P,N,E,T,F)),P&&W(0,1),c=b(M,N),Ze(()=>bt(t,P,"start")),yi(J=>{if(u&&J>u.start&&(c=b(u,N),u=null,bt(t,c.b,"start"),F&&(_(),d=Vn(t,o,c.b,c.duration,0,T,r.css))),c){if(J>=c.end)W(o=c.b,1-o),bt(t,c.b,"end"),u||(c.b?_():--c.group.r||st(c.group.c)),c=null;else if(J>=c.start){const be=J-c.start;o=c.a+c.d*T(be/c.duration),W(o,1-o)}}return!!(c||u)}))}return{run(P){Wt(r)?vi().then(()=>{r=r(s),g(P)}):g(P)},end(){_(),c=u=null}}}function nr(t,e){const n=e.token={};function i(s,r,o,c){if(e.token!==n)return;e.resolved=c;let u=e.ctx;o!==void 0&&(u=u.slice(),u[o]=c);const d=s&&(e.current=s)(u);let _=!1;e.block&&(e.blocks?e.blocks.forEach((b,g)=>{g!==r&&b&&(we(),B(b,1,1,()=>{e.blocks[g]===b&&(e.blocks[g]=null)}),ve())}):e.block.d(1),d.c(),w(d,1),d.m(e.mount(),e.anchor),_=!0),e.block=d,e.blocks&&(e.blocks[r]=d),_&&wi()}if(Ws(t)){const s=zt();if(t.then(r=>{nt(s),i(e.then,1,e.value,r),nt(null)},r=>{if(nt(s),i(e.catch,2,e.error,r),nt(null),!e.hasCatch)throw r}),e.current!==e.pending)return i(e.pending,0),!0}else{if(e.current!==e.then)return i(e.then,1,e.value,t),!0;e.resolved=t}}function to(t,e,n){const i=e.slice(),{resolved:s}=t;t.current===t.then&&(i[t.value]=s),t.current===t.catch&&(i[t.error]=s),t.block.p(i,n)}function no(t,e){const n={},i={},s={$$scope:1};let r=t.length;for(;r--;){const o=t[r],c=e[r];if(c){for(const u in o)u in c||(i[u]=1);for(const u in c)s[u]||(n[u]=c[u],s[u]=1);t[r]=c}else for(const u in o)s[u]=1}for(const o in i)o in n||(n[o]=void 0);return n}function ir(t){return typeof t=="object"&&t!==null?t:{}}function _e(t){t&&t.c()}function pe(t,e,n,i){const{fragment:s,after_update:r}=t.$$;s&&s.m(e,n),i||Ze(()=>{const o=t.$$.on_mount.map(as).filter(Wt);t.$$.on_destroy?t.$$.on_destroy.push(...o):st(o),t.$$.on_mount=[]}),r.forEach(Ze)}function ge(t,e){const n=t.$$;n.fragment!==null&&(eo(n.after_update),st(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function io(t,e){t.$$.dirty[0]===-1&&(Mt.push(t),Zs(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function ot(t,e,n,i,s,r,o,c=[-1]){const u=rn;nt(t);const d=t.$$={fragment:null,ctx:[],props:r,update:Y,not_equal:s,bound:Yi(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:Yi(),dirty:c,skip_bound:!1,root:e.target||u.$$.root};o&&o(d.root);let _=!1;if(d.ctx=n?n(t,e.props||{},(b,g,...P)=>{const E=P.length?P[0]:g;return d.ctx&&s(d.ctx[b],d.ctx[b]=E)&&(!d.skip_bound&&d.bound[b]&&d.bound[b](E),_&&io(t,b)),g}):[],d.update(),_=!0,st(d.before_update),d.fragment=i?i(d.ctx):!1,e.target){if(e.hydrate){const b=js(e.target);d.fragment&&d.fragment.l(b),b.forEach(V)}else d.fragment&&d.fragment.c();e.intro&&w(t.$$.fragment),pe(t,e.target,e.anchor,e.customElement),wi()}nt(u)}class at{$destroy(){ge(this,1),this.$destroy=Y}$on(e,n){if(!Wt(n))return Y;const i=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return i.push(n),()=>{const s=i.indexOf(n);s!==-1&&i.splice(s,1)}}$set(e){this.$$set&&!Fs(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const rr={},ci={},ro={},ms=/^:(.+)/,sr=4,so=3,oo=2,ao=1,lo=1,ui=t=>t.replace(/(^\/+|\/+$)/g,"").split("/"),ii=t=>t.replace(/(^\/+|\/+$)/g,""),co=(t,e)=>{const n=t.default?0:ui(t.path).reduce((i,s)=>(i+=sr,s===""?i+=lo:ms.test(s)?i+=oo:s[0]==="*"?i-=sr+ao:i+=so,i),0);return{route:t,score:n,index:e}},uo=t=>t.map(co).sort((e,n)=>e.score<n.score?1:e.score>n.score?-1:e.index-n.index),or=(t,e)=>{let n,i;const[s]=e.split("?"),r=ui(s),o=r[0]==="",c=uo(t);for(let u=0,d=c.length;u<d;u++){const _=c[u].route;let b=!1;if(_.default){i={route:_,params:{},uri:e};continue}const g=ui(_.path),P={},E=Math.max(r.length,g.length);let N=0;for(;N<E;N++){const T=g[N],W=r[N];if(T&&T[0]==="*"){const M=T==="*"?"*":T.slice(1);P[M]=r.slice(N).map(decodeURIComponent).join("/");break}if(typeof W>"u"){b=!0;break}const F=ms.exec(T);if(F&&!o){const M=decodeURIComponent(W);P[F[1]]=M}else if(T!==W){b=!0;break}}if(!b){n={route:_,params:P,uri:"/"+r.slice(0,N).join("/")};break}}return n||i||null},ar=(t,e)=>`${ii(e==="/"?t:`${ii(t)}/${ii(e)}`)}/`,_s=()=>typeof window<"u"&&"document"in window&&"location"in window,fo=t=>({params:t&4}),lr=t=>({params:t[2]});function cr(t){let e,n,i,s;const r=[po,ho],o=[];function c(u,d){return u[0]?0:1}return e=c(t),n=o[e]=r[e](t),{c(){n.c(),i=Ft()},m(u,d){o[e].m(u,d),z(u,i,d),s=!0},p(u,d){let _=e;e=c(u),e===_?o[e].p(u,d):(we(),B(o[_],1,1,()=>{o[_]=null}),ve(),n=o[e],n?n.p(u,d):(n=o[e]=r[e](u),n.c()),w(n,1),n.m(i.parentNode,i))},i(u){s||(w(n),s=!0)},o(u){B(n),s=!1},d(u){o[e].d(u),u&&V(i)}}}function ho(t){let e;const n=t[8].default,i=on(n,t,t[7],lr);return{c(){i&&i.c()},m(s,r){i&&i.m(s,r),e=!0},p(s,r){i&&i.p&&(!e||r&132)&&ln(i,n,s,s[7],e?an(n,s[7],r,fo):cn(s[7]),lr)},i(s){e||(w(i,s),e=!0)},o(s){B(i,s),e=!1},d(s){i&&i.d(s)}}}function po(t){let e,n,i,s={ctx:t,current:null,token:null,hasCatch:!1,pending:_o,then:mo,catch:go,value:12,blocks:[,,,]};return nr(n=t[0],s),{c(){e=Ft(),s.block.c()},m(r,o){z(r,e,o),s.block.m(r,s.anchor=o),s.mount=()=>e.parentNode,s.anchor=e,i=!0},p(r,o){t=r,s.ctx=t,o&1&&n!==(n=t[0])&&nr(n,s)||to(s,t,o)},i(r){i||(w(s.block),i=!0)},o(r){for(let o=0;o<3;o+=1){const c=s.blocks[o];B(c)}i=!1},d(r){r&&V(e),s.block.d(r),s.token=null,s=null}}}function go(t){return{c:Y,m:Y,p:Y,i:Y,o:Y,d:Y}}function mo(t){var c;let e,n,i;const s=[t[2],t[3]];var r=((c=t[12])==null?void 0:c.default)||t[12];function o(u){let d={};for(let _=0;_<s.length;_+=1)d=Mn(d,s[_]);return{props:d}}return r&&(e=Zi(r,o())),{c(){e&&_e(e.$$.fragment),n=Ft()},m(u,d){e&&pe(e,u,d),z(u,n,d),i=!0},p(u,d){var b;const _=d&12?no(s,[d&4&&ir(u[2]),d&8&&ir(u[3])]):{};if(d&1&&r!==(r=((b=u[12])==null?void 0:b.default)||u[12])){if(e){we();const g=e;B(g.$$.fragment,1,0,()=>{ge(g,1)}),ve()}r?(e=Zi(r,o()),_e(e.$$.fragment),w(e.$$.fragment,1),pe(e,n.parentNode,n)):e=null}else r&&e.$set(_)},i(u){i||(e&&w(e.$$.fragment,u),i=!0)},o(u){e&&B(e.$$.fragment,u),i=!1},d(u){u&&V(n),e&&ge(e,u)}}}function _o(t){return{c:Y,m:Y,p:Y,i:Y,o:Y,d:Y}}function bo(t){let e,n,i=t[1]&&t[1].route===t[5]&&cr(t);return{c(){i&&i.c(),e=Ft()},m(s,r){i&&i.m(s,r),z(s,e,r),n=!0},p(s,[r]){s[1]&&s[1].route===s[5]?i?(i.p(s,r),r&2&&w(i,1)):(i=cr(s),i.c(),w(i,1),i.m(e.parentNode,e)):i&&(we(),B(i,1,1,()=>{i=null}),ve())},i(s){n||(w(i),n=!0)},o(s){B(i),n=!1},d(s){i&&i.d(s),s&&V(e)}}}function yo(t,e,n){let i,{$$slots:s={},$$scope:r}=e,{path:o=""}=e,{component:c=null}=e,u={},d={};const{registerRoute:_,unregisterRoute:b,activeRoute:g}=ai(ci);Ie(t,g,E=>n(1,i=E));const P={path:o,default:o===""};return _(P),Xs(()=>{b(P)}),t.$$set=E=>{n(11,e=Mn(Mn({},e),Ji(E))),"path"in E&&n(6,o=E.path),"component"in E&&n(0,c=E.component),"$$scope"in E&&n(7,r=E.$$scope)},t.$$.update=()=>{if(i&&i.route===P){n(2,u=i.params);const{component:E,path:N,...T}=e;n(3,d=T),E&&(E.toString().startsWith("class ")?n(0,c=E):n(0,c=E())),_s()&&(window==null||window.scrollTo(0,0))}},e=Ji(e),[c,i,u,d,g,P,o,r,s]}class ur extends at{constructor(e){super(),ot(this,e,yo,bo,it,{path:6,component:0})}}const It=[];function wo(t,e){return{subscribe:Me(t,e).subscribe}}function Me(t,e=Y){let n;const i=new Set;function s(c){if(it(t,c)&&(t=c,n)){const u=!It.length;for(const d of i)d[1](),It.push(d,t);if(u){for(let d=0;d<It.length;d+=2)It[d][0](It[d+1]);It.length=0}}}function r(c){s(c(t))}function o(c,u=Y){const d=[c,u];return i.add(d),i.size===1&&(n=e(s)||Y),c(t),()=>{i.delete(d),i.size===0&&n&&(n(),n=null)}}return{set:s,update:r,subscribe:o}}function vo(t,e,n){const i=!Array.isArray(t),s=i?[t]:t,r=e.length<2;return wo(n,o=>{let c=!1;const u=[];let d=0,_=Y;const b=()=>{if(d)return;_();const P=e(i?u[0]:u,o);r?o(P):_=Wt(P)?P:Y},g=s.map((P,E)=>ls(P,N=>{u[E]=N,d&=~(1<<E),c&&b()},()=>{d|=1<<E}));return c=!0,b(),function(){st(g),_(),c=!1}})}const ri=t=>({...t.location,state:t.history.state,key:t.history.state&&t.history.state.key||"initial"}),ko=t=>{const e=[];let n=ri(t);return{get location(){return n},listen(i){e.push(i);const s=()=>{n=ri(t),i({location:n,action:"POP"})};return t.addEventListener("popstate",s),()=>{t.removeEventListener("popstate",s);const r=e.indexOf(i);e.splice(r,1)}},navigate(i,{state:s,replace:r=!1}={}){s={...s,key:Date.now()+""};try{r?t.history.replaceState(s,"",i):t.history.pushState(s,"",i)}catch{t.location[r?"replace":"assign"](i)}n=ri(t),e.forEach(o=>o({location:n,action:"PUSH"})),document.activeElement.blur()}}},To=(t="/")=>{let e=0;const n=[{pathname:t,search:""}],i=[];return{get location(){return n[e]},addEventListener(s,r){},removeEventListener(s,r){},history:{get entries(){return n},get index(){return e},get state(){return i[e]},pushState(s,r,o){const[c,u=""]=o.split("?");e++,n.push({pathname:c,search:u}),i.push(s)},replaceState(s,r,o){const[c,u=""]=o.split("?");n[e]={pathname:c,search:u},i[e]=s}}}},Eo=ko(_s()?window:To()),Co=t=>({route:t&2,location:t&1}),fr=t=>({route:t[1]&&t[1].uri,location:t[0]});function Ao(t){let e;const n=t[12].default,i=on(n,t,t[11],fr);return{c(){i&&i.c()},m(s,r){i&&i.m(s,r),e=!0},p(s,[r]){i&&i.p&&(!e||r&2051)&&ln(i,n,s,s[11],e?an(n,s[11],r,Co):cn(s[11]),fr)},i(s){e||(w(i,s),e=!0)},o(s){B(i,s),e=!1},d(s){i&&i.d(s)}}}function Ro(t,e,n){let i,s,r,o,{$$slots:c={},$$scope:u}=e,{basepath:d="/"}=e,{url:_=null}=e,{history:b=Eo}=e;ti(ro,b);const g=ai(rr),P=ai(ci),E=Me([]);Ie(t,E,D=>n(9,s=D));const N=Me(null);Ie(t,N,D=>n(1,o=D));let T=!1;const W=g||Me(_?{pathname:_}:b.location);Ie(t,W,D=>n(0,i=D));const F=P?P.routerBase:Me({path:d,uri:d});Ie(t,F,D=>n(10,r=D));const M=vo([F,N],([D,K])=>{if(!K)return D;const{path:C}=D,{route:I,uri:re}=K;return{path:I.default?C:I.path.replace(/\*.*$/,""),uri:re}}),J=D=>{const{path:K}=r;let{path:C}=D;if(D._path=C,D.path=ar(K,C),typeof window>"u"){if(T)return;const I=or([D],i.pathname);I&&(N.set(I),T=!0)}else E.update(I=>[...I,D])},be=D=>{E.update(K=>K.filter(C=>C!==D))};return g||(ps(()=>b.listen(K=>{W.set(K.location)})),ti(rr,W)),ti(ci,{activeRoute:N,base:F,routerBase:M,registerRoute:J,unregisterRoute:be}),t.$$set=D=>{"basepath"in D&&n(6,d=D.basepath),"url"in D&&n(7,_=D.url),"history"in D&&n(8,b=D.history),"$$scope"in D&&n(11,u=D.$$scope)},t.$$.update=()=>{if(t.$$.dirty&1024){const{path:D}=r;E.update(K=>K.map(C=>Object.assign(C,{path:ar(D,C._path)})))}if(t.$$.dirty&513){const D=or(s,i.pathname);N.set(D)}},[i,o,E,N,W,F,d,_,b,s,r,u,c]}class Po extends at{constructor(e){super(),ot(this,e,Ro,Ao,it,{basepath:6,url:7,history:8})}}function Bo(t){const e=t-1;return e*e*e+1}function sn(t,{delay:e=0,duration:n=400,easing:i=Fn}={}){const s=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:i,css:r=>`opacity: ${r*s}`}}function bs(t,{delay:e=0,duration:n=400,easing:i=Bo,x:s=0,y:r=0,opacity:o=0}={}){const c=getComputedStyle(t),u=+c.opacity,d=c.transform==="none"?"":c.transform,_=u*(1-o),[b,g]=Qi(s),[P,E]=Qi(r);return{delay:e,duration:n,easing:i,css:(N,T)=>`
			transform: ${d} translate(${(1-N)*b}${g}, ${(1-N)*P}${E});
			opacity: ${u-_*T}`}}const ne=Me({id:void 0,title:"Player 1",points:{beasts:0,bots:0,dwarves:0,elves:0,humans:0,goblins:0,xenos:0},highestPoints:0,justWon:!1,wins:0,losses:0,draws:0,playedFirst:!1,playingTwice:!1,turn:!1,dwarfNextTurn:!1,drewWarchief:!1,goblinLordMarked:!1,hand:[],startingHand:[],cardsDrawn:[],discards:[],boosts:[],traps:[],neutrals:[],chargeDrawnTurns:[],infectDrawnTurns:[],hasChastity:!1,hasCorruption:!1,hasVision:!1,isExposed:!1,chargePoints:0,infectPoints:0}),Zt=Me({id:void 0,title:"Player 1",points:{beasts:0,bots:0,dwarves:0,elves:0,humans:0,goblins:0,xenos:0},highestPoints:0,justWon:!1,wins:0,losses:0,draws:0,playedFirst:!1,playingTwice:!1,turn:!1,dwarfNextTurn:!1,drewWarchief:!1,goblinLordMarked:!1,hand:[],startingHand:[],cardsDrawn:[],discards:[],boosts:[],traps:[],neutrals:[],chargeDrawnTurns:[],infectDrawnTurns:[],hasChastity:!1,hasCorruption:!1,hasVision:!1,isExposed:!1,chargePoints:0,infectPoints:0}),ie=Me({id:void 0,title:"Player 2",points:{beasts:0,bots:0,dwarves:0,elves:0,humans:0,goblins:0,xenos:0},highestPoints:0,justWon:!1,wins:0,losses:0,draws:0,playedFirst:!1,playingTwice:!1,turn:!1,dwarfNextTurn:!1,drewWarchief:!1,goblinLordMarked:!1,hand:[],startingHand:[],cardsDrawn:[],discards:[],boosts:[],traps:[],neutrals:[],hasChastity:!1,hasCorruption:!1,hasVision:!1,isExposed:!1,chargeDrawnTurns:[],infectDrawnTurns:[],chargePoints:0,infectPoints:0}),xt=Me({id:void 0,title:"Player 2",points:{beasts:0,bots:0,dwarves:0,elves:0,humans:0,goblins:0,xenos:0},highestPoints:0,justWon:!1,wins:0,losses:0,draws:0,playedFirst:!1,playingTwice:!1,turn:!1,dwarfNextTurn:!1,drewWarchief:!1,goblinLordMarked:!1,hand:[],startingHand:[],cardsDrawn:[],discards:[],boosts:[],traps:[],neutrals:[],hasChastity:!1,hasCorruption:!1,hasVision:!1,isExposed:!1,chargeDrawnTurns:[],infectDrawnTurns:[],chargePoints:0,infectPoints:0}),en=Me({emperor:{title:"emperor",displayTitle:"Emperor",points:10,amount:1,rarity:"legendary",traitTitle:"Unity Pact",trait:"Human points are doubled and all races in your hand except xenos will count towards your final score.",description:"The leader of the human race.",race:"human",image:"/humans/emperor.png"},commander:{title:"commander",displayTitle:"Commander",points:7,amount:2,rarity:"epic",traitTitle:"Rally",trait:"When the commander is in your hand, all humans you have will receive +1 point, including commanders. This effect also stacks with the emperor.",description:"Powerful soldier second only to the emperor.",race:"human",image:"/humans/commander.png"},assassin:{title:"assassin",displayTitle:"Assassin",points:6,amount:3,rarity:"amazing",traitTitle:"",trait:"",description:"A highly skilled professional killer.",race:"human",image:"/humans/assassin.png"},knight:{title:"knight",displayTitle:"Knight",points:5,amount:4,rarity:"uncommon",traitTitle:"",trait:"",description:"A middle ranked soldier.",race:"human",image:"/humans/knight.png"},soldier:{title:"soldier",displayTitle:"Soldier",points:4,amount:4,rarity:"uncommon",traitTitle:"",trait:"",description:"A low ranked soldier.",race:"human",image:"/humans/soldier.png"},scout:{title:"scout",displayTitle:"Scout",points:3,amount:4,rarity:"common",traitTitle:"",trait:"",description:"The lowest ranked in the human army.",race:"human",image:"/humans/scout.png"},villager:{title:"villager",displayTitle:"Villager",points:1,amount:2,rarity:"common",traitTitle:"",trait:"",description:"An innocent villager.",race:"human",image:"/humans/villager.png"},villager2:{title:"villager2",displayTitle:"Villager",points:1,amount:2,rarity:"common",traitTitle:"",trait:"",description:"An innocent villager.",race:"human",image:"/humans/villager2.png"},goblinLord:{title:"goblinLord",displayTitle:"Goblin Lord",points:11,amount:1,rarity:"legendary",traitTitle:"Gobbledegook",trait:"If your hand contains only goblins, you receive an insane amount of bonus points, doesn't count goblin lord's mark. Beware, the elf king can block this trait, resulting in a draw.",description:"The leader of the goblins.",race:"goblin",image:"/goblins/goblin-lord.gif"},goblinLordsMark:{title:"goblinLordsMark",displayTitle:"Goblin Lord's Mark",points:0,amount:1,rarity:"epic",traitTitle:"Death's Mark",trait:"Draw the goblin lord next turn, only applies if this card is drawn. If no goblin lord, draw a goblin.",description:"A sign that the goblin lord is near.",race:"goblin-ish",image:"/goblins/goblin-lord_mark.png"},warchief:{title:"warchief",displayTitle:"Warchief",points:8,amount:1,rarity:"epic",traitTitle:"Chieftain's call",trait:"The next card drawn will be the goblin lord's mark, if it's still in the deck.",description:"Born in battle, this brutal war hungry goblin is second only to the goblin lord himself.",race:"goblin",image:"/goblins/warchief.png"},troll:{title:"troll",displayTitle:"Troll",points:7,amount:3,rarity:"amazing",traitTitle:"",trait:"",description:"Loyal high ranked soldier in the goblin army.",race:"goblin",image:"/goblins/troll.png"},shaman:{title:"shaman",displayTitle:"Shaman",points:6,amount:3,rarity:"rare",traitTitle:"",trait:"",description:"A magic wielding goblin.",race:"goblin",image:"/goblins/shaman.png"},thief:{title:"thief",displayTitle:"Thief",points:4,amount:3,rarity:"uncommon",traitTitle:"",trait:"",description:"A quick, elusive but weak goblin.",race:"goblin",image:"/goblins/thief.png"},hobgoblin:{title:"hobgoblin",displayTitle:"Hobgoblin",points:3,amount:3,rarity:"uncommon",traitTitle:"",trait:"",description:"A low ranked goblin.",race:"goblin",image:"/goblins/hobgoblin.png"},bokoblin:{title:"bokoblin",displayTitle:"Bokoblin",points:2,amount:3,rarity:"common",traitTitle:"",trait:"",description:"The weakest of goblins.",race:"goblin",image:"/goblins/bokoblin.png"},elfKing:{title:"elfKing",displayTitle:"Elf King",points:12,amount:1,rarity:"legendary",traitTitle:"Superior Race",trait:"If your hand contains only elves, they will have their points trippled, otherwise doubled! The elf king also prevents the enemy from using the goblin lord's special trait.",description:"The purest, most powerful and respected leader of the elves.",race:"elf",image:"/elves/elf_king.png"},elfChampion:{title:"elfChampion",displayTitle:"Elf Champion",points:10,amount:1,rarity:"epic",traitTitle:"Stand Guard",trait:"The elf champion is always the first elf drawn.",description:"Destined to be the next elf king, this elf champion lost an arm in battle and came back even more fierce.",race:"elf",image:"/elves/elf_champion.png"},darkElf:{title:"darkElf",displayTitle:"Dark Elf",points:7,amount:3,rarity:"amazing",traitTitle:"",trait:"",description:"High ranked powerful elf.",race:"elf",image:"/elves/dark_elf.png"},highElf:{title:"highElf",displayTitle:"High Elf",points:6,amount:3,rarity:"amazing",traitTitle:"",trait:"",description:"An elf in tune with nature, they're quite strong..",race:"elf",image:"/elves/high_elf.png"},nadallen:{title:"nadallen",displayTitle:"Nadallen",points:5,amount:1,rarity:"rare",traitTitle:"Twin Power",trait:"If both Nelladan and Nadallen are in your hand, they both receive +5 bonus points. This effect does not stack with itself or the elf king.",description:"The stronger half of the rare elvan twins.",race:"elf",image:"/elves/nadallen.png"},nelladan:{title:"nelladan",displayTitle:"Nelladan",points:2,amount:4,rarity:"uncommon",traitTitle:"Twin Power",trait:"If both Nelladan and Nadallen are in your hand, they both receive +5 bonus points. This effect does not stack with itself or the elf king.",description:"A rare elvan twin.",race:"elf",image:"/elves/nelladan.png"},woodElf:{title:"woodElf",displayTitle:"Wood Elf",points:4,amount:4,rarity:"uncommon",traitTitle:"",trait:"",description:"An elf who aspires to be a forest dwelling elf.",race:"elf",image:"/elves/wood_elf.png"},forestDweller:{title:"forestDweller",displayTitle:"Wild Elf",points:3,amount:3,rarity:"uncommon",traitTitle:"",trait:"",description:"An elf with no social status.",race:"elf",image:"/elves/forest_dweller.png"},bard:{title:"bard",displayTitle:"Bard",points:1,amount:3,rarity:"common",traitTitle:"",trait:"",description:"A weak musician.",race:"elf",image:"/elves/bard.png"},longbeardLeader:{title:"longbeardLeader",displayTitle:"Longbeard Leader",points:11,amount:1,rarity:"legendary",traitTitle:"Drunken revenge",trait:"If drawn, the next card will be a dwarf. Additionally, gain 5 points for every discarded dwarf.",description:"The bravest and most feared amongst the dwarves.",race:"dwarf",image:"/dwarves/longbeard-leader.gif"},dwarfCommander:{title:"dwarfCommander",displayTitle:"Dwarf Commander",points:8,amount:2,rarity:"epic",traitTitle:"Recruit",trait:"If drawn, the next card will be a dwarf. Has no effect if there are no remaining dwarves.",description:"Right hand man to the longbeard leader himself.",race:"dwarf",image:"/dwarves/dwarf-commander.png"},alchemist:{title:"alchemist",displayTitle:"Alchemist",points:7,amount:2,rarity:"amazing",traitTitle:"Another Round",trait:"50% chance to draw a dwarf next turn when discarded, does not stack.",description:"A dwarven warrior wielding science as magic.",race:"dwarf",image:"/dwarves/alchemist.png"},dwarfWarrior:{title:"dwarfWarrior",displayTitle:"Dwarf Warrior",points:6,amount:2,rarity:"amazing",traitTitle:"",trait:"",description:"A strong and reliable dwarven warrior.",race:"dwarf",image:"/dwarves/warrior.png"},hunter:{title:"hunter",displayTitle:"Hunter",points:5,amount:3,rarity:"rare",traitTitle:"",trait:"",description:"A strong and capable hunter.",race:"dwarf",image:"/dwarves/hunter.png"},traveller:{title:"traveller",displayTitle:"Traveller",points:4,amount:2,rarity:"uncommon",traitTitle:"",trait:"",description:"An adventurous but feeble dwarf.",race:"dwarf",image:"/dwarves/traveller.png"},miner:{title:"miner",displayTitle:"Miner",points:3,amount:3,rarity:"uncommon",traitTitle:"",trait:"",description:"An average miner, not great in a fight.",race:"dwarf",image:"/dwarves/miner.png"},blacksmith:{title:"blacksmith",displayTitle:"Blacksmith",points:3,amount:2,rarity:"uncommon",traitTitle:"",trait:"",description:"A typical blacksmith, not very strong.",race:"dwarf",image:"/dwarves/blacksmith.png"},hobbit:{title:"hobbit",displayTitle:"Hobbit",points:2,amount:3,rarity:"uncommon",traitTitle:"Half and half.",trait:"Hobbit points count towards both dwarves and humans.",description:"Half dwarf, half human. Although rare and different, they're generally accepted by all dwarves.",race:"dwarf",image:"/dwarves/hobbit.png"},bartender:{title:"bartender",displayTitle:"Bartender",points:1,amount:2,rarity:"common",traitTitle:"",trait:"",description:"A popular dwarf at the local pub, a serious drinker even amongst dwarves..",race:"dwarf",image:"/dwarves/bartender.png"},ai:{title:"ai",displayTitle:"A.I.",points:11,amount:1,rarity:"legendary",traitTitle:"Binary Manipulator",trait:"ALL bots will receive +2 points, effectively quarantining viruses. Additionally, A.I. will hack all bots and steal their points.",description:"The core of the modern bot society, excels in probability computation and hacking.",race:"bot",image:"/bots/ai.png"},protectron:{title:"protectron",displayTitle:"Protectron",points:9,amount:2,rarity:"epic",traitTitle:"Antivirus",trait:"Reprograms viruses into helpful programs, setting their point value to 6. Protectron will also receive +1 point for every reprogrammed virus.",description:"The most advanced battle bot and previous leader of the bots until A.I. took over, now second in command.",race:"bot",image:"/bots/protectron.png"},sawBot:{title:"sawBot",displayTitle:"Sawbot-3000",points:7,amount:4,rarity:"rare",traitTitle:"",trait:"",description:"A bot designed to kill humans and trees, but mostly humans, beware.",race:"bot",image:"/bots/saw-bot.png"},faeBot:{title:"faeBot",displayTitle:"Fae Bot",points:6,amount:3,rarity:"amazing",traitTitle:"",trait:"",description:"A bot created as a gift to the elves as a peace treaty.",race:"bot",image:"/bots/fae-bot.png"},killBot:{title:"killBot",displayTitle:"Kill Bot",points:5,amount:4,rarity:"rare",traitTitle:"",trait:"",description:"An aggressive bot, known to attack on sight.",race:"bot",image:"/bots/kill-bot.png"},incuBot:{title:"incuBot",displayTitle:"Incu Bot",points:2,amount:4,rarity:"uncommon",traitTitle:"",trait:"",description:"A weak incubator bot used to repair small bots.",race:"bot",image:"/bots/incu-bot.png"},virus:{title:"virus",displayTitle:"Virus",points:-2,amount:6,rarity:"common",traitTitle:"",trait:"",description:"A common computer virus, can be reprogrammed by protectron or quarantined A.I.",race:"bot",image:"/bots/virus.png"},dreamDestroyer:{title:"dreamDestroyer",displayTitle:"Dream Destroyer",points:12,amount:1,rarity:"legendary",traitTitle:"ðŸ¤¬Roid RageðŸ¤¬",trait:"All of your beasts are worth 12 points.",description:"The fiercest creature in the animal kingdom.",race:"beast",image:"/beasts/dream-destroyer.gif"},rhino:{title:"rhino",displayTitle:"Rhinestone",points:10,amount:3,rarity:"amazing",traitTitle:"Thick skin",trait:"Blocks all endgame trap cards.",description:"A feared beast at the top of the food chain.",race:"beast",image:"/beasts/rhino.png"},bear:{title:"bear",displayTitle:"Theo Thunderpaw",points:9,amount:3,rarity:"amazing",traitTitle:"",trait:"",description:"A powerful top level beast, matched by few.",race:"beast",image:"/beasts/bear.png"},lion:{title:"lion",displayTitle:"Goldenmane",points:8,amount:3,rarity:"rare",traitTitle:"",trait:"",description:"The original kings of the jungle.",race:"beast",image:"/beasts/lion.png"},panther:{title:"panther",displayTitle:"Panth Nocturna",points:7,amount:3,rarity:"rare",traitTitle:"",trait:"",description:"A quick and efficient beast, known to stalk it's prey before pouncing.",race:"beast",image:"/beasts/panther.png"},wolf:{title:"wolf",displayTitle:"Alpha Wolfbane",points:6,amount:3,rarity:"rare",traitTitle:"",trait:"",description:"A lone wolf with the strength of a pack.",race:"beast",image:"/beasts/wolf.png"},fox:{title:"fox",displayTitle:"Finn Foxglove",points:5,amount:3,rarity:"uncommon",traitTitle:"",trait:"",description:"A fox on steroids.",race:"beast",image:"/beasts/fox.png"},dog:{title:"dog",displayTitle:"Pawl Barkington",points:4,amount:3,rarity:"uncommon",traitTitle:"",trait:"",description:"More bark than bite, recognized as the weakest beast.",race:"beast",image:"/beasts/dog.png"},xenoGuard:{title:"xenoGuard",displayTitle:"Xeno Guard",points:15,amount:3,rarity:"epic",traitTitle:"Antibodies",trait:"Blocks all ALLY end game boost cards.",description:"The xenoGuard is a highly intelligent and powerful creature, feared by many. It is the most feared creature in the xeno hive, tasked with the safety of the xeno overlord.",race:"xeno",image:"/xenos/xeno_guard.png"},abyssolarian:{title:"abyssolarian",displayTitle:"Abyssolarian",points:10,amount:3,rarity:"epic",traitTitle:"",trait:"",description:"A feral xeno born in the darkest depths of Xenopp. Produces light to lure prey.",race:"xeno",image:"/xenos/abyssolarian.png"},warpstalker:{title:"warpstalker",displayTitle:"Warpstalker",points:0,amount:3,rarity:"epic",traitTitle:"Hive Resonance",trait:"When drawn, a random point value (7-13 inclusive) will be chosen, then applied to ALL ally warpstalkers.",description:"A xeno capable of riftwalking, similar to teleporting over short distances. Sometimes riftwalks to the wrong place.",race:"xeno",image:"/xenos/xeno_placeholder.png"},voidRunner:{title:"voidRunner",displayTitle:"Void Runner",points:0,amount:3,rarity:"epic",traitTitle:"Hive Unity",trait:"When drawn, ALL ally void Runners' points are set to the number of turns passed.",description:"A non sentient xeno who's only purpose is to run and grow stronger. If it ever stops it will die.",race:"xeno",image:"/xenos/xeno_placeholder.png"},nebulite:{title:"nebulite",displayTitle:"Nebulite",points:0,amount:3,rarity:"epic",traitTitle:"Hive Blossom",trait:"Buffs all xenos by +4, does not apply to self and does not stack with other Nebulites.",description:"Artificially created xenos incapable of speech.",race:"xeno",image:"/xenos/xeno_placeholder.png"},celenial:{title:"celenial",displayTitle:"Celenial",points:5,amount:3,rarity:"amazing",traitTitle:"",trait:"",description:"The lowest of the xenos, often mistreated. Excluding the nebulites, celenials are the weakest of the xenos, often used as bait for the abyssolarians.",race:"xeno",image:"/xenos/xeno_placeholder.png"},chastity:{title:"chastity",displayTitle:"Chastity",points:0,amount:1,rarity:"",traitTitle:"Purity",trait:"Active immediately even if discarded. Blocks all trap cards except Corruption, only one exists in deck. If acquired by switcharoo, only active while in hand.",description:"",race:"boost",image:"/boosts/rainbow_boost.png"},rejuvenate:{title:"rejuvenate",displayTitle:"Rejuvenate",points:0,amount:2,rarity:"",traitTitle:"Rejuvenation",trait:"If drawn, player gains 10 points at the end of the game even after this card is discarded",description:"",race:"boost",image:"/boosts/blue_boost.png"},dwarvenCall:{title:"dwarvenCall",displayTitle:"Dwarven Call",points:0,amount:2,rarity:"",traitTitle:"Last Call",trait:"If drawn, next card drawn is a dwarf. If no dwarves are left, draw random card.",description:"",race:"boost",image:"/boosts/ale.png"},charge:{title:"charge",displayTitle:"Charge",points:0,amount:2,rarity:"",traitTitle:"Recharge",trait:"Only affects bots and humans. If drawn, at the end of the game, gain points equal to (amount of turns - turns passed since drawn * charge cards) even if discarded.",description:"",race:"boost",image:"/boosts/charge.png"},corruption:{title:"corruption",displayTitle:"Corruption",points:0,amount:1,rarity:"",traitTitle:"Impurity",trait:"Active immediately even if discarded. Blocks all boost cards except Chastity, only one exists in deck. If acquired by switcharoo, only active while in hand.",description:"",race:"trap",image:"/boosts/rainbow_boost.png"},sap:{title:"sap",displayTitle:"Sap",points:0,amount:2,rarity:"",traitTitle:"Sapped",trait:"If drawn, player loses 10 points at the end of the game even after this card is discarded.",description:"",race:"trap",image:"/traps/red_trap.png"},xenophobia:{title:"xenophobia",displayTitle:"Xenophobia",points:0,amount:1,rarity:"",traitTitle:"Dissociate",trait:"If drawn, xenos lose 10 points at the end of the game even after this card is discarded.",description:"",race:"trap",image:"/traps/xeno_trap.png"},infect:{title:"infect",displayTitle:"Infect",points:0,amount:2,rarity:"",traitTitle:"Infection",trait:"Does not affect bots. If drawn, at the end of the game, lose points equal to (amount of turns - turns passed since drawn * infect cards) even if discarded.",description:"",race:"trap",image:"/traps/green_trap.png"},lost:{title:"lost",displayTitle:"Lost",points:0,amount:2,rarity:"",traitTitle:"Lost",trait:"If drawn, lose a turn because this card is useless.",description:"",race:"trap",image:"/traps/white_trap.png"},exposed:{title:"exposed",displayTitle:"Exposed",points:0,amount:1,rarity:"",traitTitle:"Expose",trait:"If drawn, your hand is exposed until your next turn, unless you have a card that blocks traps.",description:"",race:"trap",image:"/traps/camo_trap.png"},neutralize:{title:"neutralize",displayTitle:"Neutralize",points:0,amount:1,rarity:"",traitTitle:"Neutralize",trait:"When drawn, all boosts and traps in effect are neutralized. Only 1 in deck.",description:"",race:"neutral",image:"/neutrals/neutralize.png"},switcharoo:{title:"switcharoo",displayTitle:"Switcharoo",points:0,amount:2,rarity:"",traitTitle:"Swap Swap",trait:"When discarded, players will swap hands unless player has over 6 cards or gobbledegook declared. For special xeno cards(e.g. Void Runner) they will receive the new player's point value for that card, not the previous value.",description:"",race:"neutral",image:"/neutrals/switcharoo.png"},echo:{title:"echo",displayTitle:"Echo",points:0,amount:3,rarity:"",traitTitle:"Echo Echo",trait:"If drawn, player can draw another card, maximum 7. Discarding echos prolongs this, when you discard a non echo card, you will need to continue discarding down to 5 cards.",description:"",race:"neutral",image:"/neutrals/echo.png"},ticktock:{title:"ticktock",displayTitle:"Ticktock",points:0,amount:2,rarity:"",traitTitle:"Chrono Charge",trait:"If drawn, adds 3 turns.",description:"",race:"neutral",image:"/neutrals/ticktock.png"},vision:{title:"vision",displayTitle:"Vision",points:0,amount:3,rarity:"",traitTitle:"Envision",trait:"If drawn, see the opponents cards for the duration of your turn.",description:"",race:"neutral",image:"/neutrals/vision.png"},xenoBloom:{title:"xenoBloom",displayTitle:"Xeno Bloom",points:0,amount:1,rarity:"",traitTitle:"Bloom",trait:"If drawn, both players receive +15 bonus xeno points at the end of the game.",description:"",race:"neutral",image:"/neutrals/xeno_bloom.png"}}),Oo=Me(["longbeardLeader","dwarfCommander","dwarfCommander","alchemist","alchemist","dwarfWarrior","dwarfWarrior","hunter","hunter","hunter","miner","miner","miner","blacksmith","blacksmith","traveller","traveller","bartender","bartender","hobbit","hobbit","hobbit"]),So=Me(["chastity","rejuvenate","rejuvenate","charge","charge","dwarvenCall","dwarvenCall"]),Lo=Me(["corruption","sap","sap","infect","infect","lost","lost","xenophobia","exposed","exposed"]),No=Me(["neutralize","echo","echo","echo","switcharoo","switcharoo","ticktock","ticktock","ticktock","vision","vision","xenoBloom"]);function Do(t){let e,n,i,s,r;const o=t[5].default,c=on(o,t,t[4],null);return{c(){e=y("button"),c&&c.c(),k(e,"class",n=t[0]+" "+t[1]+" svelte-1q8ybnr")},m(u,d){z(u,e,d),c&&c.m(e,null),i=!0,s||(r=un(e,"click",t[8]),s=!0)},p(u,d){c&&c.p&&(!i||d&16)&&ln(c,o,u,u[4],i?an(o,u[4],d,null):cn(u[4]),null),(!i||d&3&&n!==(n=u[0]+" "+u[1]+" svelte-1q8ybnr"))&&k(e,"class",n)},i(u){i||(w(c,u),i=!0)},o(u){B(c,u),i=!1},d(u){u&&V(e),c&&c.d(u),s=!1,r()}}}function qo(t){let e,n,i,s,r;const o=t[5].default,c=on(o,t,t[4],null);return{c(){e=y("button"),c&&c.c(),k(e,"class",n="round "+t[0]+" svelte-1q8ybnr")},m(u,d){z(u,e,d),c&&c.m(e,null),i=!0,s||(r=un(e,"click",t[7]),s=!0)},p(u,d){c&&c.p&&(!i||d&16)&&ln(c,o,u,u[4],i?an(o,u[4],d,null):cn(u[4]),null),(!i||d&1&&n!==(n="round "+u[0]+" svelte-1q8ybnr"))&&k(e,"class",n)},i(u){i||(w(c,u),i=!0)},o(u){B(c,u),i=!1},d(u){u&&V(e),c&&c.d(u),s=!1,r()}}}function Io(t){let e,n,i,s,r;const o=t[5].default,c=on(o,t,t[4],null);return{c(){e=y("button"),c&&c.c(),k(e,"type","submit"),k(e,"class",n=t[0]+" "+t[1]+" svelte-1q8ybnr")},m(u,d){z(u,e,d),c&&c.m(e,null),i=!0,s||(r=un(e,"click",t[6]),s=!0)},p(u,d){c&&c.p&&(!i||d&16)&&ln(c,o,u,u[4],i?an(o,u[4],d,null):cn(u[4]),null),(!i||d&3&&n!==(n=u[0]+" "+u[1]+" svelte-1q8ybnr"))&&k(e,"class",n)},i(u){i||(w(c,u),i=!0)},o(u){B(c,u),i=!1},d(u){u&&V(e),c&&c.d(u),s=!1,r()}}}function Mo(t){let e,n,i,s;const r=[Io,qo,Do],o=[];function c(u,d){return u[3]?0:u[2]?1:2}return e=c(t),n=o[e]=r[e](t),{c(){n.c(),i=Ft()},m(u,d){o[e].m(u,d),z(u,i,d),s=!0},p(u,[d]){let _=e;e=c(u),e===_?o[e].p(u,d):(we(),B(o[_],1,1,()=>{o[_]=null}),ve(),n=o[e],n?n.p(u,d):(n=o[e]=r[e](u),n.c()),w(n,1),n.m(i.parentNode,i))},i(u){s||(w(n),s=!0)},o(u){B(n),s=!1},d(u){o[e].d(u),u&&V(i)}}}function Ho(t,e,n){let{$$slots:i={},$$scope:s}=e,{customClasses:r=""}=e,{bgColor:o=""}=e,{round:c=!1}=e,{btnSubmit:u=!1}=e;function d(g){Ln.call(this,t,g)}function _(g){Ln.call(this,t,g)}function b(g){Ln.call(this,t,g)}return t.$$set=g=>{"customClasses"in g&&n(0,r=g.customClasses),"bgColor"in g&&n(1,o=g.bgColor),"round"in g&&n(2,c=g.round),"btnSubmit"in g&&n(3,u=g.btnSubmit),"$$scope"in g&&n(4,s=g.$$scope)},[r,o,c,u,s,i,d,_,b]}class Ei extends at{constructor(e){super(),ot(this,e,Ho,Mo,it,{customClasses:0,bgColor:1,round:2,btnSubmit:3})}}function Uo(t){let e,n,i,s,r,o=dr(t[0])+"",c,u,d,_,b,g,P,E,N,T,W,F,M,J,be,D,K,C,I,re,Re,Pe,G,x,ee,X=t[7]&&hr(t);return{c(){e=y("div"),n=y("img"),s=R(),r=y("p"),c=L(o),d=R(),_=y("p"),b=L(t[4]),P=R(),E=y("p"),N=L(t[2]),W=R(),F=y("div"),M=y("div"),J=y("p"),be=L(t[6]),D=R(),X&&X.c(),K=R(),C=y("p"),I=L(t[7]),k(n,"class","card-img svelte-1vr6xd0"),Xi(n.src,i=t[3])||k(n,"src",i),k(n,"alt","img of card"),k(r,"class",u="race "+t[0]+"-race svelte-1vr6xd0"),k(_,"class",g="points "+t[0]+"-race svelte-1vr6xd0"),k(E,"class",T="card-title "+t[0]+"-title svelte-1vr6xd0"),k(J,"class","description svelte-1vr6xd0"),k(M,"class","bottom-section-wrapper svelte-1vr6xd0"),k(F,"class","card-bottom-section svelte-1vr6xd0"),k(e,"class",re="card bg-"+t[0]+(t[5]==="legendary"?"-rare":"")+" svelte-1vr6xd0")},m(S,me){z(S,e,me),h(e,n),h(e,s),h(e,r),h(r,c),h(e,d),h(e,_),h(_,b),h(e,P),h(e,E),h(E,N),h(e,W),h(e,F),h(F,M),h(M,J),h(J,be),h(M,D),X&&X.m(M,null),h(M,K),h(M,C),h(C,I),G=!0,x||(ee=un(e,"click",t[9]),x=!0)},p(S,me){(!G||me&8&&!Xi(n.src,i=S[3]))&&k(n,"src",i),(!G||me&1)&&o!==(o=dr(S[0])+"")&&Z(c,o),(!G||me&1&&u!==(u="race "+S[0]+"-race svelte-1vr6xd0"))&&k(r,"class",u),(!G||me&16)&&Z(b,S[4]),(!G||me&1&&g!==(g="points "+S[0]+"-race svelte-1vr6xd0"))&&k(_,"class",g),(!G||me&4)&&Z(N,S[2]),(!G||me&1&&T!==(T="card-title "+S[0]+"-title svelte-1vr6xd0"))&&k(E,"class",T),(!G||me&64)&&Z(be,S[6]),S[7]?X?X.p(S,me):(X=hr(S),X.c(),X.m(M,K)):X&&(X.d(1),X=null),(!G||me&128)&&Z(I,S[7]),(!G||me&33&&re!==(re="card bg-"+S[0]+(S[5]==="legendary"?"-rare":"")+" svelte-1vr6xd0"))&&k(e,"class",re)},i(S){G||(Ze(()=>{G&&(Pe&&Pe.end(1),Re=Ti(e,bs,{x:100}),Re.start())}),G=!0)},o(S){Re&&Re.invalidate(),Pe=gs(e,sn,{}),G=!1},d(S){S&&V(e),X&&X.d(),S&&Pe&&Pe.end(),x=!1,ee()}}}function Vo(t){let e,n,i,s,r,o;return{c(){e=y("div"),k(e,"class","card facedown bottom-deck svelte-1vr6xd0")},m(c,u){z(c,e,u),s=!0,r||(o=un(e,"click",t[11]),r=!0)},p:Y,i(c){s||(Ze(()=>{s&&(i&&i.end(1),n=Ti(e,bs,{x:100}),n.start())}),s=!0)},o(c){n&&n.invalidate(),i=gs(e,sn,{}),s=!1},d(c){c&&V(e),c&&i&&i.end(),r=!1,o()}}}function hr(t){let e,n;return{c(){e=y("p"),n=L(t[8]),k(e,"class","special-trait svelte-1vr6xd0")},m(i,s){z(i,e,s),h(e,n)},p(i,s){s&256&&Z(n,i[8])},d(i){i&&V(e)}}}function Wo(t){let e,n,i,s;const r=[Vo,Uo],o=[];function c(u,d){return u[1]?1:0}return e=c(t),n=o[e]=r[e](t),{c(){n.c(),i=Ft()},m(u,d){o[e].m(u,d),z(u,i,d),s=!0},p(u,[d]){let _=e;e=c(u),e===_?o[e].p(u,d):(we(),B(o[_],1,1,()=>{o[_]=null}),ve(),n=o[e],n?n.p(u,d):(n=o[e]=r[e](u),n.c()),w(n,1),n.m(i.parentNode,i))},i(u){s||(w(n),s=!0)},o(u){B(n),s=!1},d(u){o[e].d(u),u&&V(i)}}}function dr(t){const e=t[0].toUpperCase(),n=t.slice(1);return e+n}function Fo(t,e,n){let{faceUp:i=!0}=e,{displayTitle:s="Title here..."}=e,{title:r=""}=e,{img:o="/card-bg.png"}=e,{points:c=0}=e,{race:u="none"}=e,{rarity:d="common"}=e,{description:_=""}=e,{trait:b=""}=e,{traitTitle:g=""}=e;const P=Js();function E(T){P("cardClick",{title:r,points:c,race:u,trait:b})}function N(T){Ln.call(this,t,T)}return t.$$set=T=>{"faceUp"in T&&n(1,i=T.faceUp),"displayTitle"in T&&n(2,s=T.displayTitle),"title"in T&&n(10,r=T.title),"img"in T&&n(3,o=T.img),"points"in T&&n(4,c=T.points),"race"in T&&n(0,u=T.race),"rarity"in T&&n(5,d=T.rarity),"description"in T&&n(6,_=T.description),"trait"in T&&n(7,b=T.trait),"traitTitle"in T&&n(8,g=T.traitTitle)},t.$$.update=()=>{t.$$.dirty&1&&u==="goblin-ish"&&n(0,u="goblin")},[u,i,s,o,c,d,_,b,g,E,r,N]}class Ye extends at{constructor(e){super(),ot(this,e,Fo,Wo,it,{faceUp:1,displayTitle:2,title:10,img:3,points:4,race:0,rarity:5,description:6,trait:7,traitTitle:8})}}function zo(t){let e;return{c(){e=y("div"),k(e,"class","spinner svelte-beofvy")},m(n,i){z(n,e,i)},p:Y,i:Y,o:Y,d(n){n&&V(e)}}}class $o extends at{constructor(e){super(),ot(this,e,null,zo,it,{})}}const xe=Object.create(null);xe.open="0";xe.close="1";xe.ping="2";xe.pong="3";xe.message="4";xe.upgrade="5";xe.noop="6";const Dn=Object.create(null);Object.keys(xe).forEach(t=>{Dn[xe[t]]=t});const fi={type:"error",data:"parser error"},ys=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",ws=typeof ArrayBuffer=="function",vs=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,Ci=({type:t,data:e},n,i)=>ys&&e instanceof Blob?n?i(e):pr(e,i):ws&&(e instanceof ArrayBuffer||vs(e))?n?i(e):pr(new Blob([e]),i):i(xe[t]+(e||"")),pr=(t,e)=>{const n=new FileReader;return n.onload=function(){const i=n.result.split(",")[1];e("b"+(i||""))},n.readAsDataURL(t)};function gr(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let si;function jo(t,e){if(ys&&t.data instanceof Blob)return t.data.arrayBuffer().then(gr).then(e);if(ws&&(t.data instanceof ArrayBuffer||vs(t.data)))return e(gr(t.data));Ci(t,!1,n=>{si||(si=new TextEncoder),e(si.encode(n))})}const mr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",nn=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<mr.length;t++)nn[mr.charCodeAt(t)]=t;const Ko=t=>{let e=t.length*.75,n=t.length,i,s=0,r,o,c,u;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const d=new ArrayBuffer(e),_=new Uint8Array(d);for(i=0;i<n;i+=4)r=nn[t.charCodeAt(i)],o=nn[t.charCodeAt(i+1)],c=nn[t.charCodeAt(i+2)],u=nn[t.charCodeAt(i+3)],_[s++]=r<<2|o>>4,_[s++]=(o&15)<<4|c>>2,_[s++]=(c&3)<<6|u&63;return d},Go=typeof ArrayBuffer=="function",Ai=(t,e)=>{if(typeof t!="string")return{type:"message",data:ks(t,e)};const n=t.charAt(0);return n==="b"?{type:"message",data:Yo(t.substring(1),e)}:Dn[n]?t.length>1?{type:Dn[n],data:t.substring(1)}:{type:Dn[n]}:fi},Yo=(t,e)=>{if(Go){const n=Ko(t);return ks(n,e)}else return{base64:!0,data:t}},ks=(t,e)=>{switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},Ts=String.fromCharCode(30),Xo=(t,e)=>{const n=t.length,i=new Array(n);let s=0;t.forEach((r,o)=>{Ci(r,!1,c=>{i[o]=c,++s===n&&e(i.join(Ts))})})},Jo=(t,e)=>{const n=t.split(Ts),i=[];for(let s=0;s<n.length;s++){const r=Ai(n[s],e);if(i.push(r),r.type==="error")break}return i};function Qo(){return new TransformStream({transform(t,e){jo(t,n=>{const i=n.length;let s;if(i<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,i);else if(i<65536){s=new Uint8Array(3);const r=new DataView(s.buffer);r.setUint8(0,126),r.setUint16(1,i)}else{s=new Uint8Array(9);const r=new DataView(s.buffer);r.setUint8(0,127),r.setBigUint64(1,BigInt(i))}t.data&&typeof t.data!="string"&&(s[0]|=128),e.enqueue(s),e.enqueue(n)})}})}let oi;function Pn(t){return t.reduce((e,n)=>e+n.length,0)}function Bn(t,e){if(t[0].length===e)return t.shift();const n=new Uint8Array(e);let i=0;for(let s=0;s<e;s++)n[s]=t[0][i++],i===t[0].length&&(t.shift(),i=0);return t.length&&i<t[0].length&&(t[0]=t[0].slice(i)),n}function Zo(t,e){oi||(oi=new TextDecoder);const n=[];let i=0,s=-1,r=!1;return new TransformStream({transform(o,c){for(n.push(o);;){if(i===0){if(Pn(n)<1)break;const u=Bn(n,1);r=(u[0]&128)===128,s=u[0]&127,s<126?i=3:s===126?i=1:i=2}else if(i===1){if(Pn(n)<2)break;const u=Bn(n,2);s=new DataView(u.buffer,u.byteOffset,u.length).getUint16(0),i=3}else if(i===2){if(Pn(n)<8)break;const u=Bn(n,8),d=new DataView(u.buffer,u.byteOffset,u.length),_=d.getUint32(0);if(_>Math.pow(2,53-32)-1){c.enqueue(fi);break}s=_*Math.pow(2,32)+d.getUint32(4),i=3}else{if(Pn(n)<s)break;const u=Bn(n,s);c.enqueue(Ai(r?u:oi.decode(u),e)),i=0}if(s===0||s>t){c.enqueue(fi);break}}}})}const Es=4;function ke(t){if(t)return xo(t)}function xo(t){for(var e in ke.prototype)t[e]=ke.prototype[e];return t}ke.prototype.on=ke.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};ke.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this};ke.prototype.off=ke.prototype.removeListener=ke.prototype.removeAllListeners=ke.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var i,s=0;s<n.length;s++)if(i=n[s],i===e||i.fn===e){n.splice(s,1);break}return n.length===0&&delete this._callbacks["$"+t],this};ke.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(n){n=n.slice(0);for(var i=0,s=n.length;i<s;++i)n[i].apply(this,e)}return this};ke.prototype.emitReserved=ke.prototype.emit;ke.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};ke.prototype.hasListeners=function(t){return!!this.listeners(t).length};const je=(()=>typeof self<"u"?self:typeof window<"u"?window:Function("return this")())();function Cs(t,...e){return e.reduce((n,i)=>(t.hasOwnProperty(i)&&(n[i]=t[i]),n),{})}const ea=je.setTimeout,ta=je.clearTimeout;function zn(t,e){e.useNativeTimers?(t.setTimeoutFn=ea.bind(je),t.clearTimeoutFn=ta.bind(je)):(t.setTimeoutFn=je.setTimeout.bind(je),t.clearTimeoutFn=je.clearTimeout.bind(je))}const na=1.33;function ia(t){return typeof t=="string"?ra(t):Math.ceil((t.byteLength||t.size)*na)}function ra(t){let e=0,n=0;for(let i=0,s=t.length;i<s;i++)e=t.charCodeAt(i),e<128?n+=1:e<2048?n+=2:e<55296||e>=57344?n+=3:(i++,n+=4);return n}function sa(t){let e="";for(let n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e}function oa(t){let e={},n=t.split("&");for(let i=0,s=n.length;i<s;i++){let r=n[i].split("=");e[decodeURIComponent(r[0])]=decodeURIComponent(r[1])}return e}class aa extends Error{constructor(e,n,i){super(e),this.description=n,this.context=i,this.type="TransportError"}}class Ri extends ke{constructor(e){super(),this.writable=!1,zn(this,e),this.opts=e,this.query=e.query,this.socket=e.socket}onError(e,n,i){return super.emitReserved("error",new aa(e,n,i)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const n=Ai(e,this.socket.binaryType);this.onPacket(n)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,n={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const n=sa(e);return n.length?"?"+n:""}}const As="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),hi=64,la={};let _r=0,On=0,br;function yr(t){let e="";do e=As[t%hi]+e,t=Math.floor(t/hi);while(t>0);return e}function Rs(){const t=yr(+new Date);return t!==br?(_r=0,br=t):t+"."+yr(_r++)}for(;On<hi;On++)la[As[On]]=On;let Ps=!1;try{Ps=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const ca=Ps;function Bs(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||ca))return new XMLHttpRequest}catch{}if(!e)try{return new je[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function ua(){}const fa=function(){return new Bs({xdomain:!1}).responseType!=null}();class ha extends Ri{constructor(e){if(super(e),this.polling=!1,typeof location<"u"){const i=location.protocol==="https:";let s=location.port;s||(s=i?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||s!==e.port}const n=e&&e.forceBase64;this.supportsBinary=fa&&!n,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";const n=()=>{this.readyState="paused",e()};if(this.polling||!this.writable){let i=0;this.polling&&(i++,this.once("pollComplete",function(){--i||n()})),this.writable||(i++,this.once("drain",function(){--i||n()}))}else n()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const n=i=>{if(this.readyState==="opening"&&i.type==="open"&&this.onOpen(),i.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(i)};Jo(e,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,Xo(e,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=Rs()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(e,n)}request(e={}){return Object.assign(e,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new Qe(this.uri(),e)}doWrite(e,n){const i=this.request({method:"POST",data:e});i.on("success",n),i.on("error",(s,r)=>{this.onError("xhr post error",s,r)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(n,i)=>{this.onError("xhr poll error",n,i)}),this.pollXhr=e}}class Qe extends ke{constructor(e,n){super(),zn(this,n),this.opts=n,this.method=n.method||"GET",this.uri=e,this.data=n.data!==void 0?n.data:null,this.create()}create(){var e;const n=Cs(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this.opts.xd;const i=this.xhr=new Bs(n);try{i.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){i.setDisableHeaderCheck&&i.setDisableHeaderCheck(!0);for(let s in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(s)&&i.setRequestHeader(s,this.opts.extraHeaders[s])}}catch{}if(this.method==="POST")try{i.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{i.setRequestHeader("Accept","*/*")}catch{}(e=this.opts.cookieJar)===null||e===void 0||e.addCookies(i),"withCredentials"in i&&(i.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(i.timeout=this.opts.requestTimeout),i.onreadystatechange=()=>{var s;i.readyState===3&&((s=this.opts.cookieJar)===null||s===void 0||s.parseCookies(i)),i.readyState===4&&(i.status===200||i.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof i.status=="number"?i.status:0)},0))},i.send(this.data)}catch(s){this.setTimeoutFn(()=>{this.onError(s)},0);return}typeof document<"u"&&(this.index=Qe.requestsCount++,Qe.requests[this.index]=this)}onError(e){this.emitReserved("error",e,this.xhr),this.cleanup(!0)}cleanup(e){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=ua,e)try{this.xhr.abort()}catch{}typeof document<"u"&&delete Qe.requests[this.index],this.xhr=null}}onLoad(){const e=this.xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}Qe.requestsCount=0;Qe.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",wr);else if(typeof addEventListener=="function"){const t="onpagehide"in je?"pagehide":"unload";addEventListener(t,wr,!1)}}function wr(){for(let t in Qe.requests)Qe.requests.hasOwnProperty(t)&&Qe.requests[t].abort()}const Pi=(()=>typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,n)=>n(e,0))(),Sn=je.WebSocket||je.MozWebSocket,vr=!0,da="arraybuffer",kr=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class pa extends Ri{constructor(e){super(e),this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const e=this.uri(),n=this.opts.protocols,i=kr?{}:Cs(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(i.headers=this.opts.extraHeaders);try{this.ws=vr&&!kr?n?new Sn(e,n):new Sn(e):new Sn(e,n,i)}catch(s){return this.emitReserved("error",s)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const i=e[n],s=n===e.length-1;Ci(i,this.supportsBinary,r=>{const o={};try{vr&&this.ws.send(r)}catch{}s&&Pi(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=Rs()),this.supportsBinary||(n.b64=1),this.createUri(e,n)}check(){return!!Sn}}class ga extends Ri{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(e=>{const n=Zo(Number.MAX_SAFE_INTEGER,this.socket.binaryType),i=e.readable.pipeThrough(n).getReader(),s=Qo();s.readable.pipeTo(e.writable),this.writer=s.writable.getWriter();const r=()=>{i.read().then(({done:c,value:u})=>{c||(this.onPacket(u),r())}).catch(c=>{})};r();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this.writer.write(o).then(()=>this.onOpen())})}))}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const i=e[n],s=n===e.length-1;this.writer.write(i).then(()=>{s&&Pi(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this.transport)===null||e===void 0||e.close()}}const ma={websocket:pa,webtransport:ga,polling:ha},_a=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,ba=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function di(t){if(t.length>2e3)throw"URI too long";const e=t,n=t.indexOf("["),i=t.indexOf("]");n!=-1&&i!=-1&&(t=t.substring(0,n)+t.substring(n,i).replace(/:/g,";")+t.substring(i,t.length));let s=_a.exec(t||""),r={},o=14;for(;o--;)r[ba[o]]=s[o]||"";return n!=-1&&i!=-1&&(r.source=e,r.host=r.host.substring(1,r.host.length-1).replace(/;/g,":"),r.authority=r.authority.replace("[","").replace("]","").replace(/;/g,":"),r.ipv6uri=!0),r.pathNames=ya(r,r.path),r.queryKey=wa(r,r.query),r}function ya(t,e){const n=/\/{2,9}/g,i=e.replace(n,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&i.splice(0,1),e.slice(-1)=="/"&&i.splice(i.length-1,1),i}function wa(t,e){const n={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(i,s,r){s&&(n[s]=r)}),n}let Os=class Ht extends ke{constructor(e,n={}){super(),this.binaryType=da,this.writeBuffer=[],e&&typeof e=="object"&&(n=e,e=null),e?(e=di(e),n.hostname=e.host,n.secure=e.protocol==="https"||e.protocol==="wss",n.port=e.port,e.query&&(n.query=e.query)):n.host&&(n.hostname=di(n.host).host),zn(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=n.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=oa(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(e){const n=Object.assign({},this.opts.query);n.EIO=Es,n.transport=e,this.id&&(n.sid=this.id);const i=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new ma[e](i)}open(){let e;if(this.opts.rememberUpgrade&&Ht.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)e="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else e=this.transports[0];this.readyState="opening";try{e=this.createTransport(e)}catch{this.transports.shift(),this.open();return}e.open(),this.setTransport(e)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",n=>this.onClose("transport close",n))}probe(e){let n=this.createTransport(e),i=!1;Ht.priorWebsocketSuccess=!1;const s=()=>{i||(n.send([{type:"ping",data:"probe"}]),n.once("packet",b=>{if(!i)if(b.type==="pong"&&b.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;Ht.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{i||this.readyState!=="closed"&&(_(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const g=new Error("probe error");g.transport=n.name,this.emitReserved("upgradeError",g)}}))};function r(){i||(i=!0,_(),n.close(),n=null)}const o=b=>{const g=new Error("probe error: "+b);g.transport=n.name,r(),this.emitReserved("upgradeError",g)};function c(){o("transport closed")}function u(){o("socket closed")}function d(b){n&&b.name!==n.name&&r()}const _=()=>{n.removeListener("open",s),n.removeListener("error",o),n.removeListener("close",c),this.off("close",u),this.off("upgrading",d)};n.once("open",s),n.once("error",o),n.once("close",c),this.once("close",u),this.once("upgrading",d),this.upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{i||n.open()},200):n.open()}onOpen(){if(this.readyState="open",Ht.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let e=0;const n=this.upgrades.length;for(;e<n;e++)this.probe(this.upgrades[e])}}onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),this.resetPingTimeout(),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const n=new Error("server error");n.code=e.data,this.onError(n);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this.getWritablePackets();this.transport.send(e),this.prevBufferLen=e.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let i=0;i<this.writeBuffer.length;i++){const s=this.writeBuffer[i].data;if(s&&(n+=ia(s)),i>0&&n>this.maxPayload)return this.writeBuffer.slice(0,i);n+=2}return this.writeBuffer}write(e,n,i){return this.sendPacket("message",e,n,i),this}send(e,n,i){return this.sendPacket("message",e,n,i),this}sendPacket(e,n,i,s){if(typeof n=="function"&&(s=n,n=void 0),typeof i=="function"&&(s=i,i=null),this.readyState==="closing"||this.readyState==="closed")return;i=i||{},i.compress=i.compress!==!1;const r={type:e,data:n,options:i};this.emitReserved("packetCreate",r),this.writeBuffer.push(r),s&&this.once("flush",s),this.flush()}close(){const e=()=>{this.onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),e()},i=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?i():e()}):this.upgrading?i():e()),this}onError(e){Ht.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}onClose(e,n){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",e,n),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(e){const n=[];let i=0;const s=e.length;for(;i<s;i++)~this.transports.indexOf(e[i])&&n.push(e[i]);return n}};Os.protocol=Es;function va(t,e="",n){let i=t;n=n||typeof location<"u"&&location,t==null&&(t=n.protocol+"//"+n.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=n.protocol+t:t=n.host+t),/^(https?|wss?):\/\//.test(t)||(typeof n<"u"?t=n.protocol+"//"+t:t="https://"+t),i=di(t)),i.port||(/^(http|ws)$/.test(i.protocol)?i.port="80":/^(http|ws)s$/.test(i.protocol)&&(i.port="443")),i.path=i.path||"/";const r=i.host.indexOf(":")!==-1?"["+i.host+"]":i.host;return i.id=i.protocol+"://"+r+":"+i.port+e,i.href=i.protocol+"://"+r+(n&&n.port===i.port?"":":"+i.port),i}const ka=typeof ArrayBuffer=="function",Ta=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,Ss=Object.prototype.toString,Ea=typeof Blob=="function"||typeof Blob<"u"&&Ss.call(Blob)==="[object BlobConstructor]",Ca=typeof File=="function"||typeof File<"u"&&Ss.call(File)==="[object FileConstructor]";function Bi(t){return ka&&(t instanceof ArrayBuffer||Ta(t))||Ea&&t instanceof Blob||Ca&&t instanceof File}function qn(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let n=0,i=t.length;n<i;n++)if(qn(t[n]))return!0;return!1}if(Bi(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return qn(t.toJSON(),!0);for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&qn(t[n]))return!0;return!1}function Aa(t){const e=[],n=t.data,i=t;return i.data=pi(n,e),i.attachments=e.length,{packet:i,buffers:e}}function pi(t,e){if(!t)return t;if(Bi(t)){const n={_placeholder:!0,num:e.length};return e.push(t),n}else if(Array.isArray(t)){const n=new Array(t.length);for(let i=0;i<t.length;i++)n[i]=pi(t[i],e);return n}else if(typeof t=="object"&&!(t instanceof Date)){const n={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=pi(t[i],e));return n}return t}function Ra(t,e){return t.data=gi(t.data,e),delete t.attachments,t}function gi(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let n=0;n<t.length;n++)t[n]=gi(t[n],e);else if(typeof t=="object")for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(t[n]=gi(t[n],e));return t}const Pa=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Ba=5;var j;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(j||(j={}));class Oa{constructor(e){this.replacer=e}encode(e){return(e.type===j.EVENT||e.type===j.ACK)&&qn(e)?this.encodeAsBinary({type:e.type===j.EVENT?j.BINARY_EVENT:j.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let n=""+e.type;return(e.type===j.BINARY_EVENT||e.type===j.BINARY_ACK)&&(n+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(n+=e.nsp+","),e.id!=null&&(n+=e.id),e.data!=null&&(n+=JSON.stringify(e.data,this.replacer)),n}encodeAsBinary(e){const n=Aa(e),i=this.encodeAsString(n.packet),s=n.buffers;return s.unshift(i),s}}function Tr(t){return Object.prototype.toString.call(t)==="[object Object]"}class Oi extends ke{constructor(e){super(),this.reviver=e}add(e){let n;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(e);const i=n.type===j.BINARY_EVENT;i||n.type===j.BINARY_ACK?(n.type=i?j.EVENT:j.ACK,this.reconstructor=new Sa(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(Bi(e)||e.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(e),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let n=0;const i={type:Number(e.charAt(0))};if(j[i.type]===void 0)throw new Error("unknown packet type "+i.type);if(i.type===j.BINARY_EVENT||i.type===j.BINARY_ACK){const r=n+1;for(;e.charAt(++n)!=="-"&&n!=e.length;);const o=e.substring(r,n);if(o!=Number(o)||e.charAt(n)!=="-")throw new Error("Illegal attachments");i.attachments=Number(o)}if(e.charAt(n+1)==="/"){const r=n+1;for(;++n&&!(e.charAt(n)===","||n===e.length););i.nsp=e.substring(r,n)}else i.nsp="/";const s=e.charAt(n+1);if(s!==""&&Number(s)==s){const r=n+1;for(;++n;){const o=e.charAt(n);if(o==null||Number(o)!=o){--n;break}if(n===e.length)break}i.id=Number(e.substring(r,n+1))}if(e.charAt(++n)){const r=this.tryParse(e.substr(n));if(Oi.isPayloadValid(i.type,r))i.data=r;else throw new Error("invalid payload")}return i}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,n){switch(e){case j.CONNECT:return Tr(n);case j.DISCONNECT:return n===void 0;case j.CONNECT_ERROR:return typeof n=="string"||Tr(n);case j.EVENT:case j.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&Pa.indexOf(n[0])===-1);case j.ACK:case j.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Sa{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const n=Ra(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const La=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Oi,Encoder:Oa,get PacketType(){return j},protocol:Ba},Symbol.toStringTag,{value:"Module"}));function Ge(t,e,n){return t.on(e,n),function(){t.off(e,n)}}const Na=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Ls extends ke{constructor(e,n,i){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=n,i&&i.auth&&(this.auth=i.auth),this._opts=Object.assign({},i),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[Ge(e,"open",this.onopen.bind(this)),Ge(e,"packet",this.onpacket.bind(this)),Ge(e,"error",this.onerror.bind(this)),Ge(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...n){if(Na.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(n.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const i={type:j.EVENT,data:n};if(i.options={},i.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const o=this.ids++,c=n.pop();this._registerAckCallback(o,c),i.id=o}const s=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!s||!this.connected)||(this.connected?(this.notifyOutgoingListeners(i),this.packet(i)):this.sendBuffer.push(i)),this.flags={},this}_registerAckCallback(e,n){var i;const s=(i=this.flags.timeout)!==null&&i!==void 0?i:this._opts.ackTimeout;if(s===void 0){this.acks[e]=n;return}const r=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let o=0;o<this.sendBuffer.length;o++)this.sendBuffer[o].id===e&&this.sendBuffer.splice(o,1);n.call(this,new Error("operation has timed out"))},s);this.acks[e]=(...o)=>{this.io.clearTimeoutFn(r),n.apply(this,[null,...o])}}emitWithAck(e,...n){const i=this.flags.timeout!==void 0||this._opts.ackTimeout!==void 0;return new Promise((s,r)=>{n.push((o,c)=>i?o?r(o):s(c):s(o)),this.emit(e,...n)})}_addToQueue(e){let n;typeof e[e.length-1]=="function"&&(n=e.pop());const i={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((s,...r)=>i!==this._queue[0]?void 0:(s!==null?i.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(s)):(this._queue.shift(),n&&n(null,...r)),i.pending=!1,this._drainQueue())),this._queue.push(i),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!e||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:j.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,n)}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case j.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case j.EVENT:case j.BINARY_EVENT:this.onevent(e);break;case j.ACK:case j.BINARY_ACK:this.onack(e);break;case j.DISCONNECT:this.ondisconnect();break;case j.CONNECT_ERROR:this.destroy();const i=new Error(e.data.message);i.data=e.data.data,this.emitReserved("connect_error",i);break}}onevent(e){const n=e.data||[];e.id!=null&&n.push(this.ack(e.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const i of n)i.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const n=this;let i=!1;return function(...s){i||(i=!0,n.packet({type:j.ACK,id:e,data:s}))}}onack(e){const n=this.acks[e.id];typeof n=="function"&&(n.apply(this,e.data),delete this.acks[e.id])}onconnect(e,n){this.id=e,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:j.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const n=this._anyListeners;for(let i=0;i<n.length;i++)if(e===n[i])return n.splice(i,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const n=this._anyOutgoingListeners;for(let i=0;i<n.length;i++)if(e===n[i])return n.splice(i,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const i of n)i.apply(this,e.data)}}}function $t(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}$t.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=Math.floor(e*10)&1?t+n:t-n}return Math.min(t,this.max)|0};$t.prototype.reset=function(){this.attempts=0};$t.prototype.setMin=function(t){this.ms=t};$t.prototype.setMax=function(t){this.max=t};$t.prototype.setJitter=function(t){this.jitter=t};class mi extends ke{constructor(e,n){var i;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(n=e,e=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,zn(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((i=n.randomizationFactor)!==null&&i!==void 0?i:.5),this.backoff=new $t({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=e;const s=n.parser||La;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var n;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(n=this.backoff)===null||n===void 0||n.setMin(e),this)}randomizationFactor(e){var n;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(n=this.backoff)===null||n===void 0||n.setJitter(e),this)}reconnectionDelayMax(e){var n;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(n=this.backoff)===null||n===void 0||n.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new Os(this.uri,this.opts);const n=this.engine,i=this;this._readyState="opening",this.skipReconnect=!1;const s=Ge(n,"open",function(){i.onopen(),e&&e()}),r=c=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",c),e?e(c):this.maybeReconnectOnOpen()},o=Ge(n,"error",r);if(this._timeout!==!1){const c=this._timeout,u=this.setTimeoutFn(()=>{s(),r(new Error("timeout")),n.close()},c);this.opts.autoUnref&&u.unref(),this.subs.push(()=>{this.clearTimeoutFn(u)})}return this.subs.push(s),this.subs.push(o),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(Ge(e,"ping",this.onping.bind(this)),Ge(e,"data",this.ondata.bind(this)),Ge(e,"error",this.onerror.bind(this)),Ge(e,"close",this.onclose.bind(this)),Ge(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(n){this.onclose("parse error",n)}}ondecoded(e){Pi(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,n){let i=this.nsps[e];return i?this._autoConnect&&!i.active&&i.connect():(i=new Ls(this,e,n),this.nsps[e]=i),i}_destroy(e){const n=Object.keys(this.nsps);for(const i of n)if(this.nsps[i].active)return;this._close()}_packet(e){const n=this.encoder.encode(e);for(let i=0;i<n.length;i++)this.engine.write(n[i],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e,n){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const i=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(s=>{s?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",s)):e.onreconnect()}))},n);this.opts.autoUnref&&i.unref(),this.subs.push(()=>{this.clearTimeoutFn(i)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const tn={};function In(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const n=va(t,e.path||"/socket.io"),i=n.source,s=n.id,r=n.path,o=tn[s]&&r in tn[s].nsps,c=e.forceNew||e["force new connection"]||e.multiplex===!1||o;let u;return c?u=new mi(i,e):(tn[s]||(tn[s]=new mi(i,e)),u=tn[s]),n.query&&!e.query&&(e.query=n.queryKey),u.socket(n.path,e)}Object.assign(In,{Manager:mi,Socket:Ls,io:In,connect:In});function Er(t,e,n){const i=t.slice();return i[64]=e[n],i}function Cr(t,e,n){const i=t.slice();return i[64]=e[n],i}function Ar(t,e,n){const i=t.slice();return i[64]=e[n],i}function Rr(t,e,n){const i=t.slice();return i[64]=e[n],i}function Pr(t,e,n){const i=t.slice();return i[64]=e[n],i}function Br(t,e,n){const i=t.slice();return i[64]=e[n],i}function Or(t,e,n){const i=t.slice();return i[64]=e[n],i}function Sr(t,e,n){const i=t.slice();return i[64]=e[n],i}function Lr(t,e,n){const i=t.slice();return i[64]=e[n],i}function Nr(t,e,n){const i=t.slice();return i[64]=e[n],i}function Dr(t,e,n){const i=t.slice();return i[81]=e[n],i}function qr(t,e,n){const i=t.slice();return i[84]=e[n],i}function Ir(t,e,n){const i=t.slice();return i[87]=e[n],i}function Mr(t,e,n){const i=t.slice();return i[81]=e[n],i}function Hr(t,e,n){const i=t.slice();return i[84]=e[n],i}function Ur(t,e,n){const i=t.slice();return i[87]=e[n],i}function Vr(t){let e,n;return e=new Ei({props:{customClasses:"btn__green w-25",$$slots:{default:[Da]},$$scope:{ctx:t}}}),e.$on("click",t[12]),{c(){_e(e.$$.fragment)},m(i,s){pe(e,i,s),n=!0},p(i,s){const r={};s[3]&128&&(r.$$scope={dirty:s,ctx:i}),e.$set(r)},i(i){n||(w(e.$$.fragment,i),n=!0)},o(i){B(e.$$.fragment,i),n=!1},d(i){ge(e,i)}}}function Da(t){let e;return{c(){e=L("Start game")},m(n,i){z(n,e,i)},d(n){n&&V(e)}}}function qa(t){let e,n,i,s,r,o,c,u,d,_,b,g,P,E,N,T,W,F,M,J,be,D,K,C,I,re,Re,Pe,G,x=t[6]&&Wr(),ee=t[8]&&Fr(t),X=t[11].hand,S=[];for(let A=0;A<X.length;A+=1)S[A]=zr(Cr(t,X,A));const me=A=>B(S[A],1,1,()=>{S[A]=null});let Be=t[10].hand,Q=[];for(let A=0;A<Be.length;A+=1)Q[A]=$r(Er(t,Be,A));const H=A=>B(Q[A],1,1,()=>{Q[A]=null});K=new Ye({props:{faceUp:!1}}),K.$on("click",t[14]);const He=[Ha,Ma],Ue=[];function et(A,q){return A[1]||A[5]<5?0:1}I=et(t),re=Ue[I]=He[I](t);let ye=t[2]&&jr(t);return{c(){x&&x.c(),e=R(),n=y("div"),ee&&ee.c(),i=R(),s=y("div"),r=y("p"),o=L("Player 1"),u=R();for(let A=0;A<S.length;A+=1)S[A].c();_=R(),b=y("div"),g=y("p"),P=L("Player 2"),N=R();for(let A=0;A<Q.length;A+=1)Q[A].c();W=R(),F=y("div"),M=y("h1"),J=L("Turn "),be=L(t[5]),D=R(),_e(K.$$.fragment),C=R(),re.c(),Re=R(),ye&&ye.c(),k(r,"class",c="p1-name "+(t[11].turn?"turn-active":"")+" svelte-vgdqdx"),k(s,"class",d="card-section card-section__ally "+(t[11].turn||t[11].justWon?"section-active":"")+" svelte-vgdqdx"),k(g,"class",E="p2-name "+(t[10].turn?"turn-active":"")+" svelte-vgdqdx"),k(b,"class",T="card-section card-section__enemy "+(t[10].turn||t[10].justWon?"section-active":"")+" svelte-vgdqdx"),k(M,"class","turn-count svelte-vgdqdx"),k(F,"class","game-buttons svelte-vgdqdx"),k(n,"class",Pe="game-board "+(t[8]?"game-event":"")+" "+(t[0]?"gobble-declared":"")+" svelte-vgdqdx")},m(A,q){x&&x.m(A,q),z(A,e,q),z(A,n,q),ee&&ee.m(n,null),h(n,i),h(n,s),h(s,r),h(r,o),h(s,u);for(let Te=0;Te<S.length;Te+=1)S[Te]&&S[Te].m(s,null);h(n,_),h(n,b),h(b,g),h(g,P),h(b,N);for(let Te=0;Te<Q.length;Te+=1)Q[Te]&&Q[Te].m(b,null);h(n,W),h(n,F),h(F,M),h(M,J),h(M,be),h(F,D),pe(K,F,null),h(F,C),Ue[I].m(F,null),h(n,Re),ye&&ye.m(n,null),G=!0},p(A,q){if(A[6]?x?q[0]&64&&w(x,1):(x=Wr(),x.c(),w(x,1),x.m(e.parentNode,e)):x&&(we(),B(x,1,1,()=>{x=null}),ve()),A[8]?ee?(ee.p(A,q),q[0]&256&&w(ee,1)):(ee=Fr(A),ee.c(),w(ee,1),ee.m(n,i)):ee&&(ee.d(1),ee=null),(!G||q[0]&2048&&c!==(c="p1-name "+(A[11].turn?"turn-active":"")+" svelte-vgdqdx"))&&k(r,"class",c),q[0]&44544){X=A[11].hand;let $;for($=0;$<X.length;$+=1){const Ve=Cr(A,X,$);S[$]?(S[$].p(Ve,q),w(S[$],1)):(S[$]=zr(Ve),S[$].c(),w(S[$],1),S[$].m(s,null))}for(we(),$=X.length;$<S.length;$+=1)me($);ve()}if((!G||q[0]&2048&&d!==(d="card-section card-section__ally "+(A[11].turn||A[11].justWon?"section-active":"")+" svelte-vgdqdx"))&&k(s,"class",d),(!G||q[0]&1024&&E!==(E="p2-name "+(A[10].turn?"turn-active":"")+" svelte-vgdqdx"))&&k(g,"class",E),q[0]&44544){Be=A[10].hand;let $;for($=0;$<Be.length;$+=1){const Ve=Er(A,Be,$);Q[$]?(Q[$].p(Ve,q),w(Q[$],1)):(Q[$]=$r(Ve),Q[$].c(),w(Q[$],1),Q[$].m(b,null))}for(we(),$=Be.length;$<Q.length;$+=1)H($);ve()}(!G||q[0]&1024&&T!==(T="card-section card-section__enemy "+(A[10].turn||A[10].justWon?"section-active":"")+" svelte-vgdqdx"))&&k(b,"class",T),(!G||q[0]&32)&&Z(be,A[5]);let Te=I;I=et(A),I===Te?Ue[I].p(A,q):(we(),B(Ue[Te],1,1,()=>{Ue[Te]=null}),ve(),re=Ue[I],re?re.p(A,q):(re=Ue[I]=He[I](A),re.c()),w(re,1),re.m(F,null)),A[2]?ye?ye.p(A,q):(ye=jr(A),ye.c(),ye.m(n,null)):ye&&(ye.d(1),ye=null),(!G||q[0]&257&&Pe!==(Pe="game-board "+(A[8]?"game-event":"")+" "+(A[0]?"gobble-declared":"")+" svelte-vgdqdx"))&&k(n,"class",Pe)},i(A){if(!G){w(x),w(ee);for(let q=0;q<X.length;q+=1)w(S[q]);for(let q=0;q<Be.length;q+=1)w(Q[q]);w(K.$$.fragment,A),w(re),G=!0}},o(A){B(x),S=S.filter(Boolean);for(let q=0;q<S.length;q+=1)B(S[q]);Q=Q.filter(Boolean);for(let q=0;q<Q.length;q+=1)B(Q[q]);B(K.$$.fragment,A),B(re),G=!1},d(A){x&&x.d(A),A&&V(e),A&&V(n),ee&&ee.d(),Ae(S,A),Ae(Q,A),ge(K),Ue[I].d(),ye&&ye.d()}}}function Ia(t){let e,n,i,s,r,o,c,u,d,_,b,g,P,E=t[11].chargePoints+"",N,T,W,F,M,J,be,D,K,C=t[11].infectPoints+"",I,re,Re,Pe,G,x,ee,X,S,me,Be,Q,H,He,Ue,et=t[11].wins+"",ye,A,q=t[11].losses+"",Te,$,Ve=t[11].draws+"",yt,fn,Ke,hn,wt=t[10].wins+"",vt,dn,kt=t[10].losses+"",Tt,pn,lt=t[10].draws+"",jt,Kt,Gt,Yt,Et,gn,Ct=t[10].chargePoints+"",mn,$n,a,p,v,O,te,Ee,se,tt,Xt,ct=t[10].infectPoints+"",At,_n,jn,Si,Kn,Gn,Li,Yn,Ni,Xn,bn,Di,Jt,qi,Jn,Ii,Rt,We,yn,Mi,Qn,wn,Hi,Ui,Fe,vn,Vi,Zn,kn,Wi,Fi,Pt,ze,Tn,zi,xn,En,$i,ji,$e,Cn,Ki,ei,An,Gi,rt,Ce,Bt=t[11].boosts,Oe=[];for(let f=0;f<Bt.length;f+=1)Oe[f]=Kr(Ur(t,Bt,f));let Ot=t[11].traps,Se=[];for(let f=0;f<Ot.length;f+=1)Se[f]=Gr(Hr(t,Ot,f));let St=t[11].neutrals,Le=[];for(let f=0;f<St.length;f+=1)Le[f]=Yr(Mr(t,St,f));let Lt=t[10].boosts,Ne=[];for(let f=0;f<Lt.length;f+=1)Ne[f]=Xr(Ir(t,Lt,f));let Nt=t[10].traps,De=[];for(let f=0;f<Nt.length;f+=1)De[f]=Jr(qr(t,Nt,f));let Dt=t[11].neutrals,qe=[];for(let f=0;f<Dt.length;f+=1)qe[f]=Qr(Dr(t,Dt,f));let ut=t[11].startingHand,oe=[];for(let f=0;f<ut.length;f+=1)oe[f]=Zr(Nr(t,ut,f));const Ns=f=>B(oe[f],1,1,()=>{oe[f]=null});let ft=t[11].cardsDrawn,ae=[];for(let f=0;f<ft.length;f+=1)ae[f]=xr(Lr(t,ft,f));const Ds=f=>B(ae[f],1,1,()=>{ae[f]=null});let ht=t[11].hand,le=[];for(let f=0;f<ht.length;f+=1)le[f]=es(Sr(t,ht,f));const qs=f=>B(le[f],1,1,()=>{le[f]=null});let dt=t[11].discards,ce=[];for(let f=0;f<dt.length;f+=1)ce[f]=ts(Or(t,dt,f));const Is=f=>B(ce[f],1,1,()=>{ce[f]=null});let pt=t[10].startingHand,ue=[];for(let f=0;f<pt.length;f+=1)ue[f]=ns(Br(t,pt,f));const Ms=f=>B(ue[f],1,1,()=>{ue[f]=null});let gt=t[10].cardsDrawn,fe=[];for(let f=0;f<gt.length;f+=1)fe[f]=is(Pr(t,gt,f));const Hs=f=>B(fe[f],1,1,()=>{fe[f]=null});let mt=t[10].hand,he=[];for(let f=0;f<mt.length;f+=1)he[f]=rs(Rr(t,mt,f));const Us=f=>B(he[f],1,1,()=>{he[f]=null});let _t=t[10].discards,de=[];for(let f=0;f<_t.length;f+=1)de[f]=ss(Ar(t,_t,f));const Vs=f=>B(de[f],1,1,()=>{de[f]=null});return{c(){e=y("div"),n=y("div"),i=y("div"),s=y("p"),r=L(t[3]),o=R(),c=y("p"),u=L(t[4]),d=R(),_=y("p"),_.textContent="Player1 Boosts:",b=R(),g=y("p"),P=L("Charge boost points: "),N=L(E),T=R();for(let f=0;f<Oe.length;f+=1)Oe[f].c();W=R(),F=y("br"),M=R(),J=y("p"),J.textContent="Player1 Traps:",be=R(),D=y("p"),K=L("Infect trap penalty: "),I=L(C),re=R(),Re=y("span"),Re.textContent="Trap cards:",Pe=R();for(let f=0;f<Se.length;f+=1)Se[f].c();G=R(),x=y("br"),ee=R(),X=y("span"),X.textContent="Neutral cards:",S=R();for(let f=0;f<Le.length;f+=1)Le[f].c();me=R(),Be=y("h2"),Be.textContent="Player 1",Q=R(),H=y("div"),He=y("p"),Ue=L("Player 1 Win/Lose/Draw: "),ye=L(et),A=L("/"),Te=L(q),$=L("/"),yt=L(Ve),fn=R(),Ke=y("p"),hn=L("Player 2 Win/Lose/Draw: "),vt=L(wt),dn=L("/"),Tt=L(kt),pn=L("/"),jt=L(lt),Kt=R(),Gt=y("p"),Gt.textContent="Player2 Boosts:",Yt=R(),Et=y("p"),gn=L("Charge boost points: "),mn=L(Ct),$n=R(),a=y("span"),a.textContent="Boost cards:",p=R();for(let f=0;f<Ne.length;f+=1)Ne[f].c();v=R(),O=y("br"),te=R(),Ee=y("p"),Ee.textContent="Player2 Traps:",se=R(),tt=y("p"),Xt=L("Infect trap penalty: "),At=L(ct),_n=R(),jn=y("span"),jn.textContent="Trap cards:",Si=R();for(let f=0;f<De.length;f+=1)De[f].c();Kn=R(),Gn=y("br"),Li=R(),Yn=y("span"),Yn.textContent="Neutral cards:",Ni=R();for(let f=0;f<qe.length;f+=1)qe[f].c();Xn=R(),bn=y("h2"),bn.textContent="Player 2",Di=R(),Jt=y("h2"),qi=L("Turn count: "),Jn=L(t[5]),Ii=R(),Rt=y("div"),We=y("div"),yn=y("p"),yn.textContent="Starting Hand:",Mi=R();for(let f=0;f<oe.length;f+=1)oe[f].c();Qn=R(),wn=y("p"),wn.textContent="Cards drawn:",Hi=R();for(let f=0;f<ae.length;f+=1)ae[f].c();Ui=R(),Fe=y("div"),vn=y("p"),vn.textContent="Final Hand:",Vi=R();for(let f=0;f<le.length;f+=1)le[f].c();Zn=R(),kn=y("p"),kn.textContent="Cards discarded:",Wi=R();for(let f=0;f<ce.length;f+=1)ce[f].c();Fi=R(),Pt=y("div"),ze=y("div"),Tn=y("p"),Tn.textContent="Starting Hand:",zi=R();for(let f=0;f<ue.length;f+=1)ue[f].c();xn=R(),En=y("p"),En.textContent="Cards drawn:",$i=R();for(let f=0;f<fe.length;f+=1)fe[f].c();ji=R(),$e=y("div"),Cn=y("p"),Cn.textContent="Final Hand:",Ki=R();for(let f=0;f<he.length;f+=1)he[f].c();ei=R(),An=y("p"),An.textContent="Cards discarded:",Gi=R();for(let f=0;f<de.length;f+=1)de[f].c();k(c,"class","margin-bottom-sm svelte-vgdqdx"),k(F,"class","margin-bottom-sm svelte-vgdqdx"),k(x,"class","margin-bottom-sm svelte-vgdqdx"),k(Be,"class","results-player-floating-header results-player-float-left svelte-vgdqdx"),k(Ke,"class","margin-bottom-sm svelte-vgdqdx"),k(O,"class","margin-bottom-sm svelte-vgdqdx"),k(Gn,"class","margin-bottom-sm svelte-vgdqdx"),k(bn,"class","results-player-floating-header results-player-float-right svelte-vgdqdx"),k(Jt,"class","results-player-floating-header results-turn-count-float-middle svelte-vgdqdx"),k(n,"class","results-messages-flex-wrapper svelte-vgdqdx"),k(yn,"class","history__small-header svelte-vgdqdx"),k(wn,"class","history__small-header svelte-vgdqdx"),k(We,"class","history__cards-drawn"),k(vn,"class","history__small-header svelte-vgdqdx"),k(kn,"class","history__small-header svelte-vgdqdx"),k(Fe,"class","history__cards-discarded"),k(Rt,"class","player-history-wrapper svelte-vgdqdx"),k(Tn,"class","history__small-header svelte-vgdqdx"),k(En,"class","history__small-header svelte-vgdqdx"),k(ze,"class","history__cards-drawn"),k(Cn,"class","history__small-header svelte-vgdqdx"),k(An,"class","history__small-header svelte-vgdqdx"),k($e,"class","history__cards-discarded"),k(Pt,"class","player-history-wrapper svelte-vgdqdx"),k(e,"class","results-screen svelte-vgdqdx")},m(f,m){z(f,e,m),h(e,n),h(n,i),h(i,s),h(s,r),h(i,o),h(i,c),h(c,u),h(i,d),h(i,_),h(i,b),h(i,g),h(g,P),h(g,N),h(i,T);for(let l=0;l<Oe.length;l+=1)Oe[l]&&Oe[l].m(i,null);h(i,W),h(i,F),h(i,M),h(i,J),h(i,be),h(i,D),h(D,K),h(D,I),h(i,re),h(i,Re),h(i,Pe);for(let l=0;l<Se.length;l+=1)Se[l]&&Se[l].m(i,null);h(i,G),h(i,x),h(i,ee),h(i,X),h(i,S);for(let l=0;l<Le.length;l+=1)Le[l]&&Le[l].m(i,null);h(i,me),h(i,Be),h(n,Q),h(n,H),h(H,He),h(He,Ue),h(He,ye),h(He,A),h(He,Te),h(He,$),h(He,yt),h(H,fn),h(H,Ke),h(Ke,hn),h(Ke,vt),h(Ke,dn),h(Ke,Tt),h(Ke,pn),h(Ke,jt),h(H,Kt),h(H,Gt),h(H,Yt),h(H,Et),h(Et,gn),h(Et,mn),h(H,$n),h(H,a),h(H,p);for(let l=0;l<Ne.length;l+=1)Ne[l]&&Ne[l].m(H,null);h(H,v),h(H,O),h(H,te),h(H,Ee),h(H,se),h(H,tt),h(tt,Xt),h(tt,At),h(H,_n),h(H,jn),h(H,Si);for(let l=0;l<De.length;l+=1)De[l]&&De[l].m(H,null);h(H,Kn),h(H,Gn),h(H,Li),h(H,Yn),h(H,Ni);for(let l=0;l<qe.length;l+=1)qe[l]&&qe[l].m(H,null);h(H,Xn),h(H,bn),h(H,Di),h(H,Jt),h(Jt,qi),h(Jt,Jn),h(e,Ii),h(e,Rt),h(Rt,We),h(We,yn),h(We,Mi);for(let l=0;l<oe.length;l+=1)oe[l]&&oe[l].m(We,null);h(We,Qn),h(We,wn),h(We,Hi);for(let l=0;l<ae.length;l+=1)ae[l]&&ae[l].m(We,null);h(Rt,Ui),h(Rt,Fe),h(Fe,vn),h(Fe,Vi);for(let l=0;l<le.length;l+=1)le[l]&&le[l].m(Fe,null);h(Fe,Zn),h(Fe,kn),h(Fe,Wi);for(let l=0;l<ce.length;l+=1)ce[l]&&ce[l].m(Fe,null);h(e,Fi),h(e,Pt),h(Pt,ze),h(ze,Tn),h(ze,zi);for(let l=0;l<ue.length;l+=1)ue[l]&&ue[l].m(ze,null);h(ze,xn),h(ze,En),h(ze,$i);for(let l=0;l<fe.length;l+=1)fe[l]&&fe[l].m(ze,null);h(Pt,ji),h(Pt,$e),h($e,Cn),h($e,Ki);for(let l=0;l<he.length;l+=1)he[l]&&he[l].m($e,null);h($e,ei),h($e,An),h($e,Gi);for(let l=0;l<de.length;l+=1)de[l]&&de[l].m($e,null);Ce=!0},p(f,m){if((!Ce||m[0]&8)&&Z(r,f[3]),(!Ce||m[0]&16)&&Z(u,f[4]),(!Ce||m[0]&2048)&&E!==(E=f[11].chargePoints+"")&&Z(N,E),m[0]&2048){Bt=f[11].boosts;let l;for(l=0;l<Bt.length;l+=1){const U=Ur(f,Bt,l);Oe[l]?Oe[l].p(U,m):(Oe[l]=Kr(U),Oe[l].c(),Oe[l].m(i,W))}for(;l<Oe.length;l+=1)Oe[l].d(1);Oe.length=Bt.length}if((!Ce||m[0]&2048)&&C!==(C=f[11].infectPoints+"")&&Z(I,C),m[0]&2048){Ot=f[11].traps;let l;for(l=0;l<Ot.length;l+=1){const U=Hr(f,Ot,l);Se[l]?Se[l].p(U,m):(Se[l]=Gr(U),Se[l].c(),Se[l].m(i,G))}for(;l<Se.length;l+=1)Se[l].d(1);Se.length=Ot.length}if(m[0]&2048){St=f[11].neutrals;let l;for(l=0;l<St.length;l+=1){const U=Mr(f,St,l);Le[l]?Le[l].p(U,m):(Le[l]=Yr(U),Le[l].c(),Le[l].m(i,me))}for(;l<Le.length;l+=1)Le[l].d(1);Le.length=St.length}if((!Ce||m[0]&2048)&&et!==(et=f[11].wins+"")&&Z(ye,et),(!Ce||m[0]&2048)&&q!==(q=f[11].losses+"")&&Z(Te,q),(!Ce||m[0]&2048)&&Ve!==(Ve=f[11].draws+"")&&Z(yt,Ve),(!Ce||m[0]&1024)&&wt!==(wt=f[10].wins+"")&&Z(vt,wt),(!Ce||m[0]&1024)&&kt!==(kt=f[10].losses+"")&&Z(Tt,kt),(!Ce||m[0]&1024)&&lt!==(lt=f[10].draws+"")&&Z(jt,lt),(!Ce||m[0]&1024)&&Ct!==(Ct=f[10].chargePoints+"")&&Z(mn,Ct),m[0]&1024){Lt=f[10].boosts;let l;for(l=0;l<Lt.length;l+=1){const U=Ir(f,Lt,l);Ne[l]?Ne[l].p(U,m):(Ne[l]=Xr(U),Ne[l].c(),Ne[l].m(H,v))}for(;l<Ne.length;l+=1)Ne[l].d(1);Ne.length=Lt.length}if((!Ce||m[0]&1024)&&ct!==(ct=f[10].infectPoints+"")&&Z(At,ct),m[0]&1024){Nt=f[10].traps;let l;for(l=0;l<Nt.length;l+=1){const U=qr(f,Nt,l);De[l]?De[l].p(U,m):(De[l]=Jr(U),De[l].c(),De[l].m(H,Kn))}for(;l<De.length;l+=1)De[l].d(1);De.length=Nt.length}if(m[0]&2048){Dt=f[11].neutrals;let l;for(l=0;l<Dt.length;l+=1){const U=Dr(f,Dt,l);qe[l]?qe[l].p(U,m):(qe[l]=Qr(U),qe[l].c(),qe[l].m(H,Xn))}for(;l<qe.length;l+=1)qe[l].d(1);qe.length=Dt.length}if((!Ce||m[0]&32)&&Z(Jn,f[5]),m[0]&133632){ut=f[11].startingHand;let l;for(l=0;l<ut.length;l+=1){const U=Nr(f,ut,l);oe[l]?(oe[l].p(U,m),w(oe[l],1)):(oe[l]=Zr(U),oe[l].c(),w(oe[l],1),oe[l].m(We,Qn))}for(we(),l=ut.length;l<oe.length;l+=1)Ns(l);ve()}if(m[0]&133632){ft=f[11].cardsDrawn;let l;for(l=0;l<ft.length;l+=1){const U=Lr(f,ft,l);ae[l]?(ae[l].p(U,m),w(ae[l],1)):(ae[l]=xr(U),ae[l].c(),w(ae[l],1),ae[l].m(We,null))}for(we(),l=ft.length;l<ae.length;l+=1)Ds(l);ve()}if(m[0]&133632){ht=f[11].hand;let l;for(l=0;l<ht.length;l+=1){const U=Sr(f,ht,l);le[l]?(le[l].p(U,m),w(le[l],1)):(le[l]=es(U),le[l].c(),w(le[l],1),le[l].m(Fe,Zn))}for(we(),l=ht.length;l<le.length;l+=1)qs(l);ve()}if(m[0]&133632){dt=f[11].discards;let l;for(l=0;l<dt.length;l+=1){const U=Or(f,dt,l);ce[l]?(ce[l].p(U,m),w(ce[l],1)):(ce[l]=ts(U),ce[l].c(),w(ce[l],1),ce[l].m(Fe,null))}for(we(),l=dt.length;l<ce.length;l+=1)Is(l);ve()}if(m[0]&132608){pt=f[10].startingHand;let l;for(l=0;l<pt.length;l+=1){const U=Br(f,pt,l);ue[l]?(ue[l].p(U,m),w(ue[l],1)):(ue[l]=ns(U),ue[l].c(),w(ue[l],1),ue[l].m(ze,xn))}for(we(),l=pt.length;l<ue.length;l+=1)Ms(l);ve()}if(m[0]&132608){gt=f[10].cardsDrawn;let l;for(l=0;l<gt.length;l+=1){const U=Pr(f,gt,l);fe[l]?(fe[l].p(U,m),w(fe[l],1)):(fe[l]=is(U),fe[l].c(),w(fe[l],1),fe[l].m(ze,null))}for(we(),l=gt.length;l<fe.length;l+=1)Hs(l);ve()}if(m[0]&132608){mt=f[10].hand;let l;for(l=0;l<mt.length;l+=1){const U=Rr(f,mt,l);he[l]?(he[l].p(U,m),w(he[l],1)):(he[l]=rs(U),he[l].c(),w(he[l],1),he[l].m($e,ei))}for(we(),l=mt.length;l<he.length;l+=1)Us(l);ve()}if(m[0]&132608){_t=f[10].discards;let l;for(l=0;l<_t.length;l+=1){const U=Ar(f,_t,l);de[l]?(de[l].p(U,m),w(de[l],1)):(de[l]=ss(U),de[l].c(),w(de[l],1),de[l].m($e,null))}for(we(),l=_t.length;l<de.length;l+=1)Vs(l);ve()}},i(f){if(!Ce){for(let m=0;m<ut.length;m+=1)w(oe[m]);for(let m=0;m<ft.length;m+=1)w(ae[m]);for(let m=0;m<ht.length;m+=1)w(le[m]);for(let m=0;m<dt.length;m+=1)w(ce[m]);for(let m=0;m<pt.length;m+=1)w(ue[m]);for(let m=0;m<gt.length;m+=1)w(fe[m]);for(let m=0;m<mt.length;m+=1)w(he[m]);for(let m=0;m<_t.length;m+=1)w(de[m]);Ze(()=>{Ce&&(rt||(rt=tr(e,sn,{},!0)),rt.run(1))}),Ce=!0}},o(f){oe=oe.filter(Boolean);for(let m=0;m<oe.length;m+=1)B(oe[m]);ae=ae.filter(Boolean);for(let m=0;m<ae.length;m+=1)B(ae[m]);le=le.filter(Boolean);for(let m=0;m<le.length;m+=1)B(le[m]);ce=ce.filter(Boolean);for(let m=0;m<ce.length;m+=1)B(ce[m]);ue=ue.filter(Boolean);for(let m=0;m<ue.length;m+=1)B(ue[m]);fe=fe.filter(Boolean);for(let m=0;m<fe.length;m+=1)B(fe[m]);he=he.filter(Boolean);for(let m=0;m<he.length;m+=1)B(he[m]);de=de.filter(Boolean);for(let m=0;m<de.length;m+=1)B(de[m]);rt||(rt=tr(e,sn,{},!1)),rt.run(0),Ce=!1},d(f){f&&V(e),Ae(Oe,f),Ae(Se,f),Ae(Le,f),Ae(Ne,f),Ae(De,f),Ae(qe,f),Ae(oe,f),Ae(ae,f),Ae(le,f),Ae(ce,f),Ae(ue,f),Ae(fe,f),Ae(he,f),Ae(de,f),f&&rt&&rt.end()}}}function Wr(t){let e,n;return e=new $o({}),{c(){_e(e.$$.fragment)},m(i,s){pe(e,i,s),n=!0},i(i){n||(w(e.$$.fragment,i),n=!0)},o(i){B(e.$$.fragment,i),n=!1},d(i){ge(e,i)}}}function Fr(t){let e,n,i;return{c(){e=y("p"),n=L(t[7]),k(e,"class","game-event-message svelte-vgdqdx")},m(s,r){z(s,e,r),h(e,n)},p(s,r){r[0]&128&&Z(n,s[7])},i(s){i||Ze(()=>{i=Ti(e,sn,{}),i.start()})},o:Y,d(s){s&&V(e)}}}function zr(t){let e,n;return e=new Ye({props:{faceUp:t[13]("p1")||t[10].hasVision||t[11].isExposed,displayTitle:t[9][t[64]].displayTitle,title:t[9][t[64]].title,img:t[9][t[64]].image,trait:t[9][t[64]].trait,traitTitle:t[9][t[64]].traitTitle,description:t[9][t[64]].description,race:t[9][t[64]].race,rarity:t[9][t[64]].rarity,points:t[9][t[64]].points}}),e.$on("cardClick",t[18]),{c(){_e(e.$$.fragment)},m(i,s){pe(e,i,s),n=!0},p(i,s){const r={};s[0]&3072&&(r.faceUp=i[13]("p1")||i[10].hasVision||i[11].isExposed),s[0]&2560&&(r.displayTitle=i[9][i[64]].displayTitle),s[0]&2560&&(r.title=i[9][i[64]].title),s[0]&2560&&(r.img=i[9][i[64]].image),s[0]&2560&&(r.trait=i[9][i[64]].trait),s[0]&2560&&(r.traitTitle=i[9][i[64]].traitTitle),s[0]&2560&&(r.description=i[9][i[64]].description),s[0]&2560&&(r.race=i[9][i[64]].race),s[0]&2560&&(r.rarity=i[9][i[64]].rarity),s[0]&2560&&(r.points=i[9][i[64]].points),e.$set(r)},i(i){n||(w(e.$$.fragment,i),n=!0)},o(i){B(e.$$.fragment,i),n=!1},d(i){ge(e,i)}}}function $r(t){let e,n;return e=new Ye({props:{faceUp:t[13]("p2")||t[11].hasVision||t[10].isExposed,displayTitle:t[9][t[64]].displayTitle,title:t[9][t[64]].title,img:t[9][t[64]].image,trait:t[9][t[64]].trait,traitTitle:t[9][t[64]].traitTitle,description:t[9][t[64]].description,race:t[9][t[64]].race,rarity:t[9][t[64]].rarity,points:t[9][t[64]].points}}),e.$on("cardClick",t[19]),{c(){_e(e.$$.fragment)},m(i,s){pe(e,i,s),n=!0},p(i,s){const r={};s[0]&3072&&(r.faceUp=i[13]("p2")||i[11].hasVision||i[10].isExposed),s[0]&1536&&(r.displayTitle=i[9][i[64]].displayTitle),s[0]&1536&&(r.title=i[9][i[64]].title),s[0]&1536&&(r.img=i[9][i[64]].image),s[0]&1536&&(r.trait=i[9][i[64]].trait),s[0]&1536&&(r.traitTitle=i[9][i[64]].traitTitle),s[0]&1536&&(r.description=i[9][i[64]].description),s[0]&1536&&(r.race=i[9][i[64]].race),s[0]&1536&&(r.rarity=i[9][i[64]].rarity),s[0]&1536&&(r.points=i[9][i[64]].points),e.$set(r)},i(i){n||(w(e.$$.fragment,i),n=!0)},o(i){B(e.$$.fragment,i),n=!1},d(i){ge(e,i)}}}function Ma(t){let e,n;return e=new Ei({props:{round:!0,customClasses:"btn__orange",$$slots:{default:[Ua]},$$scope:{ctx:t}}}),e.$on("click",t[16]),{c(){_e(e.$$.fragment)},m(i,s){pe(e,i,s),n=!0},p(i,s){const r={};s[3]&128&&(r.$$scope={dirty:s,ctx:i}),e.$set(r)},i(i){n||(w(e.$$.fragment,i),n=!0)},o(i){B(e.$$.fragment,i),n=!1},d(i){ge(e,i)}}}function Ha(t){let e,n;return e=new Ei({props:{round:!0,customClasses:"btn__orange_disabled",$$slots:{default:[Va]},$$scope:{ctx:t}}}),{c(){_e(e.$$.fragment)},m(i,s){pe(e,i,s),n=!0},p(i,s){const r={};s[3]&128&&(r.$$scope={dirty:s,ctx:i}),e.$set(r)},i(i){n||(w(e.$$.fragment,i),n=!0)},o(i){B(e.$$.fragment,i),n=!1},d(i){ge(e,i)}}}function Ua(t){let e;return{c(){e=L("Gobbledegook!")},m(n,i){z(n,e,i)},d(n){n&&V(e)}}}function Va(t){let e;return{c(){e=L("Gobbledegook!")},m(n,i){z(n,e,i)},d(n){n&&V(e)}}}function jr(t){let e,n=t[11].turn?"Player 1":"Player 2",i,s;return{c(){e=y("p"),i=L(n),s=y("span"),s.textContent="'s turn",k(s,"class","svelte-vgdqdx"),k(e,"class","turn-text svelte-vgdqdx")},m(r,o){z(r,e,o),h(e,i),h(e,s)},p(r,o){o[0]&2048&&n!==(n=r[11].turn?"Player 1":"Player 2")&&Z(i,n)},d(r){r&&V(e)}}}function Kr(t){let e,n=t[87]+"",i,s;return{c(){e=y("span"),i=L(n),s=L(" Â ")},m(r,o){z(r,e,o),h(e,i),h(e,s)},p(r,o){o[0]&2048&&n!==(n=r[87]+"")&&Z(i,n)},d(r){r&&V(e)}}}function Gr(t){let e,n=t[84]+"",i,s;return{c(){e=y("span"),i=L(n),s=L(" Â ")},m(r,o){z(r,e,o),h(e,i),h(e,s)},p(r,o){o[0]&2048&&n!==(n=r[84]+"")&&Z(i,n)},d(r){r&&V(e)}}}function Yr(t){let e,n=t[81]+"",i,s;return{c(){e=y("span"),i=L(n),s=L(" Â ")},m(r,o){z(r,e,o),h(e,i),h(e,s)},p(r,o){o[0]&2048&&n!==(n=r[81]+"")&&Z(i,n)},d(r){r&&V(e)}}}function Xr(t){let e,n=t[87]+"",i,s;return{c(){e=y("span"),i=L(n),s=L(" Â ")},m(r,o){z(r,e,o),h(e,i),h(e,s)},p(r,o){o[0]&1024&&n!==(n=r[87]+"")&&Z(i,n)},d(r){r&&V(e)}}}function Jr(t){let e,n=t[84]+"",i,s;return{c(){e=y("span"),i=L(n),s=L(" Â ")},m(r,o){z(r,e,o),h(e,i),h(e,s)},p(r,o){o[0]&1024&&n!==(n=r[84]+"")&&Z(i,n)},d(r){r&&V(e)}}}function Qr(t){let e,n=t[81]+"",i,s;return{c(){e=y("span"),i=L(n),s=L(" Â ")},m(r,o){z(r,e,o),h(e,i),h(e,s)},p(r,o){o[0]&2048&&n!==(n=r[81]+"")&&Z(i,n)},d(r){r&&V(e)}}}function Zr(t){let e,n,i;return n=new Ye({props:{displayTitle:t[9][t[64]].displayTitle,title:t[9][t[64]].title,img:t[9][t[64]].image,trait:t[9][t[64]].trait,traitTitle:t[9][t[64]].traitTitle,race:t[9][t[64]].race,rarity:t[9][t[64]].rarity,points:t[17](t[64],"p1")}}),{c(){e=y("div"),_e(n.$$.fragment),k(e,"class","history__card-wrapper svelte-vgdqdx")},m(s,r){z(s,e,r),pe(n,e,null),i=!0},p(s,r){const o={};r[0]&2560&&(o.displayTitle=s[9][s[64]].displayTitle),r[0]&2560&&(o.title=s[9][s[64]].title),r[0]&2560&&(o.img=s[9][s[64]].image),r[0]&2560&&(o.trait=s[9][s[64]].trait),r[0]&2560&&(o.traitTitle=s[9][s[64]].traitTitle),r[0]&2560&&(o.race=s[9][s[64]].race),r[0]&2560&&(o.rarity=s[9][s[64]].rarity),r[0]&2048&&(o.points=s[17](s[64],"p1")),n.$set(o)},i(s){i||(w(n.$$.fragment,s),i=!0)},o(s){B(n.$$.fragment,s),i=!1},d(s){s&&V(e),ge(n)}}}function xr(t){let e,n,i,s;return n=new Ye({props:{displayTitle:t[9][t[64]].displayTitle,title:t[9][t[64]].title,img:t[9][t[64]].image,trait:t[9][t[64]].trait,traitTitle:t[9][t[64]].traitTitle,race:t[9][t[64]].race,rarity:t[9][t[64]].rarity,points:t[17](t[64],"p1")}}),{c(){e=y("div"),_e(n.$$.fragment),i=R(),k(e,"class","history__card-wrapper svelte-vgdqdx")},m(r,o){z(r,e,o),pe(n,e,null),h(e,i),s=!0},p(r,o){const c={};o[0]&2560&&(c.displayTitle=r[9][r[64]].displayTitle),o[0]&2560&&(c.title=r[9][r[64]].title),o[0]&2560&&(c.img=r[9][r[64]].image),o[0]&2560&&(c.trait=r[9][r[64]].trait),o[0]&2560&&(c.traitTitle=r[9][r[64]].traitTitle),o[0]&2560&&(c.race=r[9][r[64]].race),o[0]&2560&&(c.rarity=r[9][r[64]].rarity),o[0]&2048&&(c.points=r[17](r[64],"p1")),n.$set(c)},i(r){s||(w(n.$$.fragment,r),s=!0)},o(r){B(n.$$.fragment,r),s=!1},d(r){r&&V(e),ge(n)}}}function es(t){let e,n,i,s;return n=new Ye({props:{displayTitle:t[9][t[64]].displayTitle,title:t[9][t[64]].title,img:t[9][t[64]].image,trait:t[9][t[64]].trait,traitTitle:t[9][t[64]].traitTitle,race:t[9][t[64]].race,rarity:t[9][t[64]].rarity,points:t[17](t[64],"p1")}}),{c(){e=y("div"),_e(n.$$.fragment),i=R(),k(e,"class","history__card-wrapper svelte-vgdqdx")},m(r,o){z(r,e,o),pe(n,e,null),h(e,i),s=!0},p(r,o){const c={};o[0]&2560&&(c.displayTitle=r[9][r[64]].displayTitle),o[0]&2560&&(c.title=r[9][r[64]].title),o[0]&2560&&(c.img=r[9][r[64]].image),o[0]&2560&&(c.trait=r[9][r[64]].trait),o[0]&2560&&(c.traitTitle=r[9][r[64]].traitTitle),o[0]&2560&&(c.race=r[9][r[64]].race),o[0]&2560&&(c.rarity=r[9][r[64]].rarity),o[0]&2048&&(c.points=r[17](r[64],"p1")),n.$set(c)},i(r){s||(w(n.$$.fragment,r),s=!0)},o(r){B(n.$$.fragment,r),s=!1},d(r){r&&V(e),ge(n)}}}function ts(t){let e,n,i,s;return n=new Ye({props:{displayTitle:t[9][t[64]].displayTitle,title:t[9][t[64]].title,img:t[9][t[64]].image,trait:t[9][t[64]].trait,traitTitle:t[9][t[64]].traitTitle,race:t[9][t[64]].race,rarity:t[9][t[64]].rarity,points:t[17](t[64],"p1")}}),{c(){e=y("div"),_e(n.$$.fragment),i=R(),k(e,"class","history__card-wrapper svelte-vgdqdx")},m(r,o){z(r,e,o),pe(n,e,null),h(e,i),s=!0},p(r,o){const c={};o[0]&2560&&(c.displayTitle=r[9][r[64]].displayTitle),o[0]&2560&&(c.title=r[9][r[64]].title),o[0]&2560&&(c.img=r[9][r[64]].image),o[0]&2560&&(c.trait=r[9][r[64]].trait),o[0]&2560&&(c.traitTitle=r[9][r[64]].traitTitle),o[0]&2560&&(c.race=r[9][r[64]].race),o[0]&2560&&(c.rarity=r[9][r[64]].rarity),o[0]&2048&&(c.points=r[17](r[64],"p1")),n.$set(c)},i(r){s||(w(n.$$.fragment,r),s=!0)},o(r){B(n.$$.fragment,r),s=!1},d(r){r&&V(e),ge(n)}}}function ns(t){let e,n,i;return n=new Ye({props:{displayTitle:t[9][t[64]].displayTitle,title:t[9][t[64]].title,img:t[9][t[64]].image,trait:t[9][t[64]].trait,traitTitle:t[9][t[64]].traitTitle,race:t[9][t[64]].race,rarity:t[9][t[64]].rarity,points:t[17](t[64],"p2")}}),{c(){e=y("div"),_e(n.$$.fragment),k(e,"class","history__card-wrapper svelte-vgdqdx")},m(s,r){z(s,e,r),pe(n,e,null),i=!0},p(s,r){const o={};r[0]&1536&&(o.displayTitle=s[9][s[64]].displayTitle),r[0]&1536&&(o.title=s[9][s[64]].title),r[0]&1536&&(o.img=s[9][s[64]].image),r[0]&1536&&(o.trait=s[9][s[64]].trait),r[0]&1536&&(o.traitTitle=s[9][s[64]].traitTitle),r[0]&1536&&(o.race=s[9][s[64]].race),r[0]&1536&&(o.rarity=s[9][s[64]].rarity),r[0]&1024&&(o.points=s[17](s[64],"p2")),n.$set(o)},i(s){i||(w(n.$$.fragment,s),i=!0)},o(s){B(n.$$.fragment,s),i=!1},d(s){s&&V(e),ge(n)}}}function is(t){let e,n,i,s;return n=new Ye({props:{displayTitle:t[9][t[64]].displayTitle,title:t[9][t[64]].title,img:t[9][t[64]].image,trait:t[9][t[64]].trait,traitTitle:t[9][t[64]].traitTitle,race:t[9][t[64]].race,rarity:t[9][t[64]].rarity,points:t[17](t[64],"p2")}}),{c(){e=y("div"),_e(n.$$.fragment),i=R(),k(e,"class","history__card-wrapper svelte-vgdqdx")},m(r,o){z(r,e,o),pe(n,e,null),h(e,i),s=!0},p(r,o){const c={};o[0]&1536&&(c.displayTitle=r[9][r[64]].displayTitle),o[0]&1536&&(c.title=r[9][r[64]].title),o[0]&1536&&(c.img=r[9][r[64]].image),o[0]&1536&&(c.trait=r[9][r[64]].trait),o[0]&1536&&(c.traitTitle=r[9][r[64]].traitTitle),o[0]&1536&&(c.race=r[9][r[64]].race),o[0]&1536&&(c.rarity=r[9][r[64]].rarity),o[0]&1024&&(c.points=r[17](r[64],"p2")),n.$set(c)},i(r){s||(w(n.$$.fragment,r),s=!0)},o(r){B(n.$$.fragment,r),s=!1},d(r){r&&V(e),ge(n)}}}function rs(t){let e,n,i,s;return n=new Ye({props:{displayTitle:t[9][t[64]].displayTitle,title:t[9][t[64]].title,img:t[9][t[64]].image,trait:t[9][t[64]].trait,traitTitle:t[9][t[64]].traitTitle,race:t[9][t[64]].race,rarity:t[9][t[64]].rarity,points:t[17](t[64],"p2")}}),{c(){e=y("div"),_e(n.$$.fragment),i=R(),k(e,"class","history__card-wrapper svelte-vgdqdx")},m(r,o){z(r,e,o),pe(n,e,null),h(e,i),s=!0},p(r,o){const c={};o[0]&1536&&(c.displayTitle=r[9][r[64]].displayTitle),o[0]&1536&&(c.title=r[9][r[64]].title),o[0]&1536&&(c.img=r[9][r[64]].image),o[0]&1536&&(c.trait=r[9][r[64]].trait),o[0]&1536&&(c.traitTitle=r[9][r[64]].traitTitle),o[0]&1536&&(c.race=r[9][r[64]].race),o[0]&1536&&(c.rarity=r[9][r[64]].rarity),o[0]&1024&&(c.points=r[17](r[64],"p2")),n.$set(c)},i(r){s||(w(n.$$.fragment,r),s=!0)},o(r){B(n.$$.fragment,r),s=!1},d(r){r&&V(e),ge(n)}}}function ss(t){let e,n,i,s;return n=new Ye({props:{displayTitle:t[9][t[64]].displayTitle,title:t[9][t[64]].title,img:t[9][t[64]].image,trait:t[9][t[64]].trait,traitTitle:t[9][t[64]].traitTitle,race:t[9][t[64]].race,rarity:t[9][t[64]].rarity,points:t[17](t[64],"p2")}}),{c(){e=y("div"),_e(n.$$.fragment),i=R(),k(e,"class","history__card-wrapper svelte-vgdqdx")},m(r,o){z(r,e,o),pe(n,e,null),h(e,i),s=!0},p(r,o){const c={};o[0]&1536&&(c.displayTitle=r[9][r[64]].displayTitle),o[0]&1536&&(c.title=r[9][r[64]].title),o[0]&1536&&(c.img=r[9][r[64]].image),o[0]&1536&&(c.trait=r[9][r[64]].trait),o[0]&1536&&(c.traitTitle=r[9][r[64]].traitTitle),o[0]&1536&&(c.race=r[9][r[64]].race),o[0]&1536&&(c.rarity=r[9][r[64]].rarity),o[0]&1024&&(c.points=r[17](r[64],"p2")),n.$set(c)},i(r){s||(w(n.$$.fragment,r),s=!0)},o(r){B(n.$$.fragment,r),s=!1},d(r){r&&V(e),ge(n)}}}function Wa(t){let e,n,i,s,r,o=!t[2]&&Vr(t);const c=[Ia,qa],u=[];function d(_,b){return _[3]?0:1}return i=d(t),s=u[i]=c[i](t),{c(){e=y("main"),o&&o.c(),n=R(),s.c()},m(_,b){z(_,e,b),o&&o.m(e,null),h(e,n),u[i].m(e,null),r=!0},p(_,b){_[2]?o&&(we(),B(o,1,1,()=>{o=null}),ve()):o?(o.p(_,b),b[0]&4&&w(o,1)):(o=Vr(_),o.c(),w(o,1),o.m(e,n));let g=i;i=d(_),i===g?u[i].p(_,b):(we(),B(u[g],1,1,()=>{u[g]=null}),ve(),s=u[i],s?s.p(_,b):(s=u[i]=c[i](_),s.c()),w(s,1),s.m(e,null))},i(_){r||(w(o),w(s),r=!0)},o(_){B(o),B(s),r=!1},d(_){_&&V(e),o&&o.d(),u[i].d()}}}function Fa(t,e){let n=t.hand.filter(s=>s==="protectron").length,i=t.hand.filter(s=>s==="virus").length;t.hand.includes("ai")&&(n+=e.hand.filter(s=>s==="protectron").length,i+=e.hand.filter(s=>s==="virus").length),t.hand.forEach(s=>{s==="virus"&&(t.points.bots+=8),s==="protectron"&&(t.points.bots+=n*i)}),t.hand.includes("ai")&&e.hand.forEach(s=>{s==="virus"&&(t.points.bots+=8),s==="protectron"&&(t.points.bots+=n*i)})}function za(t,e,n){let i,s,r,o,c,u,d,_,b;Ie(t,en,a=>n(9,i=a)),Ie(t,Oo,a=>n(24,s=a)),Ie(t,ie,a=>n(10,r=a)),Ie(t,ne,a=>n(11,o=a)),Ie(t,No,a=>n(25,c=a)),Ie(t,Lo,a=>n(26,u=a)),Ie(t,So,a=>n(27,d=a)),Ie(t,xt,a=>n(28,_=a)),Ie(t,Zt,a=>n(29,b=a));let g=In("http://192.168.2.10:6912"),P=!1,E=!1,N=!1,T=!0,W="",F="",M=0,J=!1,be="",D=!1,K={...i},C={dwarves:[...s],boosts:[...d],traps:[...u],neutrals:[...c]},I=Object.keys(C);ps(()=>{g.on("connect",()=>console.log(`User ID: ${g.id} connected!`)),g.on("connect_error",a=>console.error("Connection error:",a)),g.on("set-users",a=>{Object.entries(a).forEach(([p,v])=>{ne.update(O=>(O.id=a.p1,O)),Zt.set({...o}),ie.update(O=>(O.id=a.p2,O)),xt.set({...r})})}),g.on("game-started",a=>{Re(),ne.set(a.player1),ie.set(a.player2),C={...a.fullDeck}}),g.on("add-turn-count",()=>n(5,M++,M)),g.on("turn-changed",a=>{ne.update(p=>(p.turn=!a.player1.turn,p.playingTwice=!1,p.hasVision=!1,p)),ie.update(p=>(p.turn=!a.player2.turn,p.playingTwice=!1,p.hasVision=!1,p))}),g.on("turn-count-increased",()=>n(5,M+=3)),g.on("card-drawn",a=>{C={...a.fullDeck},I=a.deckTypes,ne.set(a.player1),ie.set(a.player2)}),g.on("hands-swapped",a=>{ne.set(a.player1),ie.set(a.player2)}),g.on("deck-neutralized",()=>Et()),g.on("event-displayed",a=>Ct(a)),g.on("card-discarded",a=>{ne.set(a.player1),ie.set(a.player2)}),g.on("gdg-declared",()=>n(0,P=!0)),g.on("end-game-sync-started",a=>{S()==="p1"&&ie.set(a.player2),S()==="p2"&&ne.set(a.player1),K={...a.cardDetails},g.emit("finish-end-game-sync",{player1:o,player2:r,cardDetails:i})}),g.on("end-game-sync-finished",a=>{ne.set(a.player1),ie.set(a.player2),K={...a.cardDetails}}),g.on("game-ended",a=>re()),g.emit("client-ready")});function re(){T=!0,n(2,N=!1),n(1,E=!0),ne.update(a=>(a.turn=!1,a)),ie.update(a=>(a.turn=!1,a)),yt(o,r),yt(r,o),console.log({p1:o,p2:r}),$(),ee(),ee(!0),console.log(o,r)}function Re(){ne.set({...b}),ie.set({..._}),C={dwarves:[...s],boosts:[...d],traps:[...u],neutrals:[...c]},Xe(en,i.warpstalker.points=0,i),Xe(en,i.voidRunner.points=0,i),I=Object.keys(C),K={...i},n(5,M=0),T=!1,n(2,N=!0),n(0,P=!1),n(1,E=!1),n(3,W="")}function Pe(){Re(),Q(o),Q(r),G(),g.emit("start-game",{player1:o,player2:r,fullDeck:C})}function G(){Math.ceil(Math.random()*2)===1?(Xe(ne,o.playedFirst=!0,o),Xe(ne,o.turn=!0,o),Xe(ie,r.turn=!1,r)):(Xe(ie,r.playedFirst=!0,r),Xe(ne,o.turn=!1,o),Xe(ie,r.turn=!0,r))}function x(a){a.playingTwice||a.hand.length>=6||(o.playedFirst&&o.turn||r.playedFirst&&r.turn)&&g.emit("new-turn")}function ee(a=!1){const p=C.beasts?C.beasts.length:0,v=C.bots?C.bots.length:0,O=C.dwarves?C.dwarves.length:0,te=C.elves?C.elves.length:0,Ee=C.goblins?C.goblins.length:0,se=C.humans?C.humans.length:0,tt=C.xenos?C.xenos.length:0,Xt=C.boosts?C.boosts.length:0,ct=C.traps?C.traps.length:0,At=C.neutrals?C.neutrals.length:0;if(a)console.log(`Cards remaining per deck:

      Beasts: ${p}

      Humans: ${se}

      Goblins: ${Ee}

      Elves: ${te}

      Dwarves: ${O}
)
      Bots: ${v}
)
      Xenos: ${tt}
)
      Boosts: ${Xt}
)
      Traps: ${ct}
)
      Neutrals: ${At}
`);else{const _n=se+Ee+te+O+v+p+tt+Xt+ct+At;console.log(`Cards remaining in deck: ${_n}`)}}function X(){return!!(o.id===g.id&&o.turn||r.id===g.id&&r.turn)}function S(){return o.id===g.id?"p1":r.id===g.id?"p2":"guest"}function me(a){return!!(T||S()==="guest"||S()==="p1"&&a==="p1"||S()==="p2"&&a==="p2")}function Be(){g.emit("change-turns",{player1:o,player2:r})}function Q(a){a.hand=[];for(let p=1;p<=5;p++){let v=Math.floor(Math.random()*I.length),O=I[v];v=Math.floor(Math.random()*C[O].length);const te=C[O][v],Ee=C[O].indexOf(te);C[O].splice(Ee,1),a.hand.push(te),["corruption"].includes(te)&&Kt(a,te),["chastity"].includes(te)&&lt(a,te),["switcharoo"].includes(te)&&Yt(a,te)}o===a?ne.update(p=>(p.hand=a.hand,p.startingHand=a.hand,p)):ie.update(p=>(p.hand=a.hand,p.startingHand=a.hand,p))}function H(a,p=!0){if(T)return;p&&x(a);let v="",O="",te=0;if(n(1,E=!0),p&&a.hand.length===5&&(a.isExposed=!1),a.hand.length>5&&!a.playingTwice||a.hand.length>=7)return;if(a.dwarfNextTurn?v=He(a):(te=Math.floor(Math.random()*I.length),v=I[te]),I.length===0&&v===void 0){console.log("No more cards!"),n(6,J=!0),g.emit("start-end-game-sync",{player1:o,player2:r,cardDetails:i}),setTimeout(()=>{g.emit("end-game"),n(6,J=!1)},1500);return}if(a.goblinLordMarked)a.goblinLordMarked=!1,C.goblins.length===0?v=I[te]:v="goblins",C.goblins.includes("goblinLord")?O=C.goblins.find(se=>se==="goblinLord"):(te=Math.floor(Math.random()*C[v].length),O=C[v][te]);else{if(v==="elves"&&C.elves.includes("elfChampion")?O=C.elves.find(se=>se==="elfChampion"):(te=Math.floor(Math.random()*C[v].length),O=C[v][te]),a.drewWarchief&&Ue(a)&&(v="goblins",O="goblinLordsMark"),O==="lost"&&a.hand.includes("chastity")){const se=C[v].indexOf(O);if(C[v].splice(se,1),C[v].length===0){const tt=I.indexOf(v);I.splice(tt,1)}H(a,!1);return}(O==="longbeardLeader"||O==="dwarfCommander"||O==="dwarvenCall"&&!a.hasCorruption)&&(a.dwarfNextTurn=!0),O==="warchief"&&(a.drewWarchief=!0),O==="goblinLordsMark"&&(a.goblinLordMarked=!0),(O==="warpstalker"||O==="voidRunner")&&Tt(a,O),i[O].race==="trap"&&Kt(a,O),i[O].race==="boost"&&lt(a,O),i[O].race==="neutral"&&Yt(a,O)}const Ee=C[v].indexOf(O);if(C[v].splice(Ee,1),C[v].length===0){const se=I.indexOf(v);I.splice(se,1)}S()==="p1"?ne.update(se=>(se.hand=[...se.hand,O],se.cardsDrawn=[...a.cardsDrawn,O],se)):ie.update(se=>(se.hand=[...se.hand,O],se.cardsDrawn=[...a.cardsDrawn,O],se)),g.emit("draw-card",{player1:o,player2:r,deckTypes:I,fullDeck:C})}function He(a){a.dwarfNextTurn=!1;let p="",v=0;return C.dwarves&&C.dwarves.length!==0?p="dwarves":(v=Math.floor(Math.random()*I.length),p=I[v]),p}function Ue(a){return a.drewWarchief=!1,!!(C.goblins&&C.goblins.includes("goblinLordsMark"))}function et(){T||S()!=="guest"&&(X()&&o.turn&&H(o),X()&&r.turn&&H(r))}function ye(a){if(!X())return;const p=S()==="p1"?o:r;if(o.turn){const v=o.hand.indexOf(a);ne.update(O=>(O.hand.splice(v,1),O.discards=[...O.discards,a],O))}else if(r.turn){const v=r.hand.indexOf(a);ie.update(O=>(O.hand.splice(v,1),O.discards=[...O.discards,a],O))}g.emit("discard-card",{player1:o,player2:r}),a==="switcharoo"&&p.hand.length===5&&!P&&A(),p.playingTwice&&a!=="echo"&&(p.playingTwice=!1),a==="alchemist"&&(p.dwarfNextTurn=Math.random()<.5),!(p.hand.length>5)&&(P?(n(6,J=!0),g.emit("start-end-game-sync",{player1:o,player2:r,cardDetails:i}),setTimeout(()=>{g.emit("end-game"),n(6,J=!1)},1500)):(Be(),n(1,E=!1)))}function A(){g.emit("display-event","switcharoo");let a=[...r.hand];ie.update(p=>(p.hand=[...o.hand],p)),ne.update(p=>(p.hand=[...a],p)),g.emit("swap-hands",{player1:o,player2:r})}function q(a,p){let v=a.detail.title;p.length>5&&ye(v)}function Te(){X()&&(T||(P?(n(6,J=!0),g.emit("start-end-game-sync",{player1:o,player2:r,cardDetails:i}),setTimeout(()=>{g.emit("end-game"),n(6,J=!1)},1500)):(console.log("Gobbledegook declared!!"),Be(),n(0,P=!0),g.emit("gdg-declared"))))}function $(){o.highestPoints>r.highestPoints?(ne.update(a=>(a.justWon=!0,a.wins+=1,a)),Zt.update(a=>(a.wins+=1,a)),ie.update(a=>(a.losses+=1,a)),xt.update(a=>(a.losses+=1,a)),n(3,W=`Player 1 is the winner with ${o.highestPoints} points!ðŸŽŠðŸ¥³ðŸ¾`),n(4,F=`Player 2 loses with ${r.highestPoints} points...${r.highestPoints<=0?"ðŸ’©ðŸ’©ðŸ’©":"ðŸ’©"}`)):r.highestPoints>o.highestPoints?(ne.update(a=>(a.losses+=1,a)),Zt.update(a=>(a.losses+=1,a)),ie.update(a=>(a.justWon=!0,a.wins+=1,a)),xt.update(a=>(a.wins+=1,a)),n(3,W=`Player 2 is the winner with ${r.highestPoints} points!ðŸŽŠðŸ¥³ðŸ¾`),n(4,F=`Player 1 loses with ${o.highestPoints} points...${o.highestPoints<=0?"ðŸ’©ðŸ’©ðŸ’©":"ðŸ’©"}`)):o.highestPoints===5e5&&r.highestPoints===5e5?(ne.update(a=>(a.justWon=!0,a.draws+=1,a)),Zt.update(a=>(a.draws+=1,a)),ie.update(a=>(a.justWon=!0,a.draws+=1,a)),xt.update(a=>(a.draws+=1,a)),n(3,W="It seems neither the goblins nor the elves want to go to war with each other while their leaders are on the field..."),n(4,F=" it's a draw!ðŸ˜“ðŸ˜“ðŸ˜“")):(ne.update(a=>(a.justWon=!0,a.draws+=1,a)),ne.update(a=>(a.draws+=1,a)),ie.update(a=>(a.justWon=!0,a.draws+=1,a)),ie.update(a=>(a.draws+=1,a)),n(3,W=`Player 1 had ${o.highestPoints} points and player 2 had ${r.highestPoints} points...`),n(4,F=" it's a draw!ðŸ˜“"))}function Ve(a){a.hand.forEach(p=>{const v=i[p].race;switch(v){case"beast":a.points.beasts+=i[p].points;break;case"bot":i[p].title==="faeBot"&&(a.points.elves+=i[p].points),a.points.bots+=i[p].points;break;case"elf":a.points.elves+=i[p].points;break;case"dwarf":i[p].title==="hobbit"&&(a.points.humans+=i[p].points),a.points.dwarves+=i[p].points;break;case"goblin":a.points.goblins+=i[p].points;break;case"human":a.points.humans+=i[p].points;break;case"xeno":a.points.xenos+=S()==="p1"&&a===o||S()==="p2"&&a===r?i[p].points:K[p].points;break;default:console.log(`Didn't match a race? This was the race of the card: ${v}`)}a.highestPoints=Math.max(a.points.beasts,a.points.bots,a.points.dwarves,a.points.elves,a.points.goblins,a.points.humans,a.points.xenos)})}function yt(a,p){Ve(a),p.hand.includes("ai")&&(a.points.bots=0),a.hand.includes("commander")&&Ke(a),a.hand.includes("emperor")&&fn(a),a.hand.includes("goblinLord")&&hn(a,p),a.hand.includes("elfKing")&&wt(a,p),a.hand.includes("dreamDestroyer")&&vt(a),a.hand.includes("dreamDestroyer")&&vt(a),a.hand.includes("ai")&&dn(a,p),a.hand.includes("protectron")&&Fa(a,p),a.hand.includes("longbeardLeader")&&kt(a),a.hand.includes("nelladan")&&a.hand.includes("nadallen")&&(a.points.elves+=10),a.hand.includes("nebulite")&&Tt(a,"nebulite"),jt(a),Gt(a),gn(a),a.highestPoints=Math.max(a.points.beasts,a.points.bots,a.points.dwarves,a.points.elves,a.points.goblins,a.points.humans,a.points.xenos)}function fn(a){a.points.humans*=2,a.hand.forEach(p=>{i[p].race!=="human"&&i[p].race!=="xeno"&&i[p].title!=="hobbit"&&(a.points.humans+=i[p].points)})}function Ke(a){let p=a.hand.filter(v=>v==="commander").length;a.hand.forEach(v=>{(i[v].race==="human"||i[v].title==="hobbit")&&(a.points.humans+=p)})}function hn(a,p){const v=a.hand.every(Ee=>i[Ee].race==="goblin");console.log(`from inside calculateGoblinLord, goblinHand = ${v}`);const O=p.hand.every(Ee=>i[Ee].race==="elf"),te=p.hand.includes("elfKing");v&&O&&te?a.points.goblins=5e5:v&&(a.points.goblins=1e6)}function wt(a,p){const v=p.hand.every(Ee=>i[Ee].race==="goblin"),O=a.hand.every(Ee=>i[Ee].race==="elf"||i[Ee].title==="faeBot"),te=p.hand.includes("goblinLord");v&&te&&O?a.points.elves=5e5:O?a.points.elves*=3:a.points.elves*=2}function vt(a){a.points.beasts=0,a.hand.forEach(p=>{i[p].race==="beast"&&(a.points.beasts+=12)})}function dn(a,p){a.points.bots=0,p.points.bots=0,a.hand.forEach(v=>{i[v].race==="bot"&&(a.points.bots+=i[v].points+2)}),p.hand.forEach(v=>{i[v].race==="bot"&&(a.points.bots+=i[v].points+2)})}function kt(a){let p=0;o.discards.forEach(v=>{s.includes(v)&&(p+=1)}),r.discards.forEach(v=>{s.includes(v)&&(p+=1)}),a.points.dwarves+=p*5}function Tt(a,p){p==="warpstalker"&&Xe(en,i[p].points=Math.ceil(Math.random()*7)+6,i),p==="voidRunner"&&Xe(en,i[p].points=M,i),p==="nebulite"&&a.hand.forEach(v=>{i[v].race==="xeno"&&i[v].title!=="nebulite"&&(a.points.xenos+=4)})}function pn(a,p){if(!["warpstalker","voidRunner"].includes(a))return i[a].points;if(S()===p){if(a==="warpstalker")return i.warpstalker.points;if(a==="voidRunner")return i.voidRunner.points}else{if(a==="warpstalker")return K.warpstalker.points;if(a==="voidRunner")return K.voidRunner.points}}function lt(a,p){a.boosts=[...a.boosts,p],p==="chastity"&&(a.hasChastity=!0),p==="charge"&&(a.chargeDrawnTurns=[...a.chargeDrawnTurns,M])}function jt(a){if(!(a.hand.includes("xenoguard")||a.hand.includes("corruption")||a.discards.includes("corruption"))){for(let p=0;p<a.chargeDrawnTurns.length;p++)a.chargePoints+=M-a.chargeDrawnTurns[p];a.points.bots+=a.chargePoints,a.points.humans+=a.chargePoints,a.boosts.forEach(p=>{p==="rejuvenate"&&Object.entries(a.points).forEach(([v,O])=>a.points[v]+=10)})}}function Kt(a,p){a.traps=[...a.traps,p],p==="corruption"&&(a.hasCorruption=!0),p==="infect"&&(a.infectDrawnTurns=[...a.infectDrawnTurns,M]),p==="exposed"&&!a.hasChastity&&!a.hand.includes("chastity")&&(a.isExposed=!0)}function Gt(a){if(!(a.hand.includes("rhino")||a.hand.includes("chastity")||a.discards.includes("chastity"))){for(let p=0;p<a.infectDrawnTurns.length;p++)a.infectPoints+=M-a.infectDrawnTurns[p];Object.entries(a.points).forEach(([p,v])=>a.points[p]-=a.infectPoints),a.traps.forEach(p=>{p==="sap"&&Object.entries(a.points).forEach(([v,O])=>a.points[v]-=10),p==="xenophobia"&&(a.points.xenos-=10)})}}function Yt(a,p){a.neutrals=[...a.neutrals,p],p==="echo"&&(a.playingTwice=!0),p==="vision"&&(a.hasVision=!0),p==="ticktock"&&(g.emit("increase-turn-count"),g.emit("display-event","ticktock")),p==="neutralize"&&g.emit("neutralize-deck"),p==="xenoBloom"&&g.emit("display-event","xenoBloom")}function Et(){g.emit("display-event","neutralize"),ne.update(a=>(a.boosts=[],a.traps=[],a.neutrals=[],a.chargeDrawnTurns=[],a.infectDrawnTurns=[],a.hasChastity=!1,a.hasCorruption=!1,a.hasVision=!1,a.isExposed=!1,a.chargePoints=0,a.infectPoints=0,a)),ie.update(a=>(a.boosts=[],a.traps=[],a.neutrals=[],a.chargeDrawnTurns=[],a.infectDrawnTurns=[],a.hasChastity=!1,a.hasCorruption=!1,a.hasVision=!1,a.isExposed=!1,a.chargePoints=0,a.infectPoints=0,a))}function gn(a){a.neutrals.forEach(p=>{p==="xenoBloom"&&(ne.update(v=>(v.points.xenos+=15,v)),ie.update(v=>(v.points.xenos+=15,v)))})}function Ct(a){n(8,D=!0),setTimeout(()=>n(8,D=!1),2e3),a==="neutralize"&&n(7,be="Neutralized!"),a==="switcharoo"&&n(7,be="Switcharoo!"),a==="xenoBloom"&&n(7,be="XenoBloom!"),a==="ticktock"&&n(7,be="Tick Tock!")}return[P,E,N,W,F,M,J,be,D,i,r,o,Pe,me,et,q,Te,pn,a=>q(a,o.hand),a=>q(a,r.hand)]}class $a extends at{constructor(e){super(),ot(this,e,za,Wa,it,{},null,[-1,-1,-1,-1])}}function ja(t){let e,n,i;return n=new $a({}),{c(){e=y("main"),_e(n.$$.fragment),k(e,"class","svelte-hd17me")},m(s,r){z(s,e,r),pe(n,e,null),i=!0},p:Y,i(s){i||(w(n.$$.fragment,s),i=!0)},o(s){B(n.$$.fragment,s),i=!1},d(s){s&&V(e),ge(n)}}}class os extends at{constructor(e){super(),ot(this,e,null,ja,it,{})}}function Ka(t){let e,n,i,s;return e=new ur({props:{path:"/home",component:os}}),i=new ur({props:{path:"/",component:os}}),{c(){_e(e.$$.fragment),n=R(),_e(i.$$.fragment)},m(r,o){pe(e,r,o),z(r,n,o),pe(i,r,o),s=!0},p:Y,i(r){s||(w(e.$$.fragment,r),w(i.$$.fragment,r),s=!0)},o(r){B(e.$$.fragment,r),B(i.$$.fragment,r),s=!1},d(r){ge(e,r),r&&V(n),ge(i,r)}}}function Ga(t){let e,n;return e=new Po({props:{$$slots:{default:[Ka]},$$scope:{ctx:t}}}),{c(){_e(e.$$.fragment)},m(i,s){pe(e,i,s),n=!0},p(i,[s]){const r={};s&1&&(r.$$scope={dirty:s,ctx:i}),e.$set(r)},i(i){n||(w(e.$$.fragment,i),n=!0)},o(i){B(e.$$.fragment,i),n=!1},d(i){ge(e,i)}}}class Ya extends at{constructor(e){super(),ot(this,e,null,Ga,it,{})}}new Ya({target:document.getElementById("app")});
