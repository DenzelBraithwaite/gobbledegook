(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();function Z(){}const xt=t=>t;function it(t,e){for(const n in e)t[n]=e[n];return t}function _r(t){return!!t&&(typeof t=="object"||typeof t=="function")&&typeof t.then=="function"}function Ni(t){return t()}function Dn(){return Object.create(null)}function je(t){t.forEach(Ni)}function yt(t){return typeof t=="function"}function ze(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let Vt;function qn(t,e){return Vt||(Vt=document.createElement("a")),Vt.href=e,t===Vt.href}function br(t){return Object.keys(t).length===0}function Di(t,...e){if(t==null)return Z;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function ke(t,e,n){t.$$.on_destroy.push(Di(e,n))}function rt(t,e,n,i){if(t){const r=qi(t,e,n,i);return t[0](r)}}function qi(t,e,n,i){return t[1]&&i?it(n.ctx.slice(),t[1](i(e))):n.ctx}function st(t,e,n,i){if(t[2]&&i){const r=t[2](i(n));if(e.dirty===void 0)return r;if(typeof r=="object"){const s=[],o=Math.max(e.dirty.length,r.length);for(let a=0;a<o;a+=1)s[a]=e.dirty[a]|r[a];return s}return e.dirty|r}return e.dirty}function ot(t,e,n,i,r,s){if(r){const o=qi(e,n,i,s);t.p(o,r)}}function at(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let i=0;i<n;i++)e[i]=-1;return e}return-1}function fn(t){const e={};for(const n in t)n[0]!=="$"&&(e[n]=t[n]);return e}function Mn(t,e){const n={};e=new Set(e);for(const i in t)!e.has(i)&&i[0]!=="$"&&(n[i]=t[i]);return n}function fe(t,e,n){return t.set(n),e}function In(t){const e=typeof t=="string"&&t.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return e?[parseFloat(e[1]),e[2]||"px"]:[t,"px"]}const Mi=typeof window<"u";let wn=Mi?()=>window.performance.now():()=>Date.now(),kn=Mi?t=>requestAnimationFrame(t):Z;const mt=new Set;function Ii(t){mt.forEach(e=>{e.c(t)||(mt.delete(e),e.f())}),mt.size!==0&&kn(Ii)}function vn(t){let e;return mt.size===0&&kn(Ii),{promise:new Promise(n=>{mt.add(e={c:t,f:n})}),abort(){mt.delete(e)}}}function g(t,e){t.appendChild(e)}function Vi(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function yr(t){const e=S("style");return wr(Vi(t),e),e.sheet}function wr(t,e){return g(t.head||t,e),e.sheet}function j(t,e,n){t.insertBefore(e,n||null)}function F(t){t.parentNode&&t.parentNode.removeChild(t)}function Me(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function S(t){return document.createElement(t)}function $(t){return document.createTextNode(t)}function q(){return $(" ")}function wt(){return $("")}function lt(t,e,n,i){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n,i)}function E(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}const kr=["width","height"];function Vn(t,e){const n=Object.getOwnPropertyDescriptors(t.__proto__);for(const i in e)e[i]==null?t.removeAttribute(i):i==="style"?t.style.cssText=e[i]:i==="__value"?t.value=t[i]=e[i]:n[i]&&n[i].set&&kr.indexOf(i)===-1?t[i]=e[i]:E(t,i,e[i])}function vr(t){return Array.from(t.childNodes)}function Te(t,e){e=""+e,t.data!==e&&(t.data=e)}function Ui(t,e,{bubbles:n=!1,cancelable:i=!1}={}){const r=document.createEvent("CustomEvent");return r.initCustomEvent(t,n,i,e),r}function Un(t,e){return new t(e)}const Yt=new Map;let $t=0;function Tr(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function Er(t,e){const n={stylesheet:yr(e),rules:{}};return Yt.set(t,n),n}function Xt(t,e,n,i,r,s,o,a=0){const l=16.666/i;let u=`{
`;for(let w=0;w<=1;w+=l){const L=e+(n-e)*s(w);u+=w*100+`%{${o(L,1-L)}}
`}const p=u+`100% {${o(n,1-n)}}
}`,k=`__svelte_${Tr(p)}_${a}`,v=Vi(t),{stylesheet:m,rules:_}=Yt.get(v)||Er(v,t);_[k]||(_[k]=!0,m.insertRule(`@keyframes ${k} ${p}`,m.cssRules.length));const b=t.style.animation||"";return t.style.animation=`${b?`${b}, `:""}${k} ${i}ms linear ${r}ms 1 both`,$t+=1,k}function Jt(t,e){const n=(t.style.animation||"").split(", "),i=n.filter(e?s=>s.indexOf(e)<0:s=>s.indexOf("__svelte")===-1),r=n.length-i.length;r&&(t.style.animation=i.join(", "),$t-=r,$t||Ar())}function Ar(){kn(()=>{$t||(Yt.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&F(e)}),Yt.clear())})}let Ot;function We(t){Ot=t}function kt(){if(!Ot)throw new Error("Function called outside component initialization");return Ot}function Hi(t){kt().$$.on_mount.push(t)}function Cr(t){kt().$$.on_destroy.push(t)}function Wi(){const t=kt();return(e,n,{cancelable:i=!1}={})=>{const r=t.$$.callbacks[e];if(r){const s=Ui(e,n,{cancelable:i});return r.slice().forEach(o=>{o.call(t,s)}),!s.defaultPrevented}return!0}}function rn(t,e){return kt().$$.context.set(t,e),e}function _t(t){return kt().$$.context.get(t)}function Rt(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(i=>i.call(this,e))}const pt=[],Hn=[];let bt=[];const Wn=[],Pr=Promise.resolve();let hn=!1;function Rr(){hn||(hn=!0,Pr.then(Tn))}function Fe(t){bt.push(t)}const sn=new Set;let ht=0;function Tn(){if(ht!==0)return;const t=Ot;do{try{for(;ht<pt.length;){const e=pt[ht];ht++,We(e),Sr(e.$$)}}catch(e){throw pt.length=0,ht=0,e}for(We(null),pt.length=0,ht=0;Hn.length;)Hn.pop()();for(let e=0;e<bt.length;e+=1){const n=bt[e];sn.has(n)||(sn.add(n),n())}bt.length=0}while(pt.length);for(;Wn.length;)Wn.pop()();hn=!1,sn.clear(),We(t)}function Sr(t){if(t.fragment!==null){t.update(),je(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Fe)}}function Or(t){const e=[],n=[];bt.forEach(i=>t.indexOf(i)===-1?e.push(i):n.push(i)),n.forEach(i=>i()),bt=e}let At;function En(){return At||(At=Promise.resolve(),At.then(()=>{At=null})),At}function nt(t,e,n){t.dispatchEvent(Ui(`${e?"intro":"outro"}${n}`))}const zt=new Set;let Ie;function be(){Ie={r:0,c:[],p:Ie}}function ye(){Ie.r||je(Ie.c),Ie=Ie.p}function T(t,e){t&&t.i&&(zt.delete(t),t.i(e))}function A(t,e,n,i){if(t&&t.o){if(zt.has(t))return;zt.add(t),Ie.c.push(()=>{zt.delete(t),i&&(n&&t.d(1),i())}),t.o(e)}else i&&i()}const An={duration:0};function Fi(t,e,n){const i={direction:"in"};let r=e(t,n,i),s=!1,o,a,l=0;function u(){o&&Jt(t,o)}function p(){const{delay:v=0,duration:m=300,easing:_=xt,tick:b=Z,css:w}=r||An;w&&(o=Xt(t,0,1,m,v,_,w,l++)),b(0,1);const L=wn()+v,M=L+m;a&&a.abort(),s=!0,Fe(()=>nt(t,!0,"start")),a=vn(N=>{if(s){if(N>=M)return b(1,0),nt(t,!0,"end"),u(),s=!1;if(N>=L){const G=_((N-L)/m);b(G,1-G)}}return s})}let k=!1;return{start(){k||(k=!0,Jt(t),yt(r)?(r=r(i),En().then(p)):p())},invalidate(){k=!1},end(){s&&(u(),s=!1)}}}function zi(t,e,n){const i={direction:"out"};let r=e(t,n,i),s=!0,o;const a=Ie;a.r+=1;function l(){const{delay:u=0,duration:p=300,easing:k=xt,tick:v=Z,css:m}=r||An;m&&(o=Xt(t,1,0,p,u,k,m));const _=wn()+u,b=_+p;Fe(()=>nt(t,!1,"start")),vn(w=>{if(s){if(w>=b)return v(0,1),nt(t,!1,"end"),--a.r||je(a.c),!1;if(w>=_){const L=k((w-_)/p);v(1-L,L)}}return s})}return yt(r)?En().then(()=>{r=r(i),l()}):l(),{end(u){u&&r.tick&&r.tick(1,0),s&&(o&&Jt(t,o),s=!1)}}}function Fn(t,e,n,i){const r={direction:"both"};let s=e(t,n,r),o=i?0:1,a=null,l=null,u=null;function p(){u&&Jt(t,u)}function k(m,_){const b=m.b-o;return _*=Math.abs(b),{a:o,b:m.b,d:b,duration:_,start:m.start,end:m.start+_,group:m.group}}function v(m){const{delay:_=0,duration:b=300,easing:w=xt,tick:L=Z,css:M}=s||An,N={start:wn()+_,b:m};m||(N.group=Ie,Ie.r+=1),a||l?l=N:(M&&(p(),u=Xt(t,o,m,b,_,w,M)),m&&L(0,1),a=k(N,b),Fe(()=>nt(t,m,"start")),vn(G=>{if(l&&G>l.start&&(a=k(l,b),l=null,nt(t,a.b,"start"),M&&(p(),u=Xt(t,o,a.b,a.duration,0,w,s.css))),a){if(G>=a.end)L(o=a.b,1-o),nt(t,a.b,"end"),l||(a.b?p():--a.group.r||je(a.group.c)),a=null;else if(G>=a.start){const O=G-a.start;o=a.a+a.d*w(O/a.duration),L(o,1-o)}}return!!(a||l)}))}return{run(m){yt(s)?En().then(()=>{s=s(r),v(m)}):v(m)},end(){p(),a=l=null}}}function zn(t,e){const n=e.token={};function i(r,s,o,a){if(e.token!==n)return;e.resolved=a;let l=e.ctx;o!==void 0&&(l=l.slice(),l[o]=a);const u=r&&(e.current=r)(l);let p=!1;e.block&&(e.blocks?e.blocks.forEach((k,v)=>{v!==s&&k&&(be(),A(k,1,1,()=>{e.blocks[v]===k&&(e.blocks[v]=null)}),ye())}):e.block.d(1),u.c(),T(u,1),u.m(e.mount(),e.anchor),p=!0),e.block=u,e.blocks&&(e.blocks[s]=u),p&&Tn()}if(_r(t)){const r=kt();if(t.then(s=>{We(r),i(e.then,1,e.value,s),We(null)},s=>{if(We(r),i(e.catch,2,e.error,s),We(null),!e.hasCatch)throw s}),e.current!==e.pending)return i(e.pending,0),!0}else{if(e.current!==e.then)return i(e.then,1,e.value,t),!0;e.resolved=t}}function Br(t,e,n){const i=e.slice(),{resolved:r}=t;t.current===t.then&&(i[t.value]=r),t.current===t.catch&&(i[t.error]=r),t.block.p(i,n)}function Ki(t,e){const n={},i={},r={$$scope:1};let s=t.length;for(;s--;){const o=t[s],a=e[s];if(a){for(const l in o)l in a||(i[l]=1);for(const l in a)r[l]||(n[l]=a[l],r[l]=1);t[s]=a}else for(const l in o)r[l]=1}for(const o in i)o in n||(n[o]=void 0);return n}function Kn(t){return typeof t=="object"&&t!==null?t:{}}function pe(t){t&&t.c()}function te(t,e,n,i){const{fragment:r,after_update:s}=t.$$;r&&r.m(e,n),i||Fe(()=>{const o=t.$$.on_mount.map(Ni).filter(yt);t.$$.on_destroy?t.$$.on_destroy.push(...o):je(o),t.$$.on_mount=[]}),s.forEach(Fe)}function ne(t,e){const n=t.$$;n.fragment!==null&&(Or(n.after_update),je(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Lr(t,e){t.$$.dirty[0]===-1&&(pt.push(t),Rr(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Ge(t,e,n,i,r,s,o,a=[-1]){const l=Ot;We(t);const u=t.$$={fragment:null,ctx:[],props:s,update:Z,not_equal:r,bound:Dn(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(l?l.$$.context:[])),callbacks:Dn(),dirty:a,skip_bound:!1,root:e.target||l.$$.root};o&&o(u.root);let p=!1;if(u.ctx=n?n(t,e.props||{},(k,v,...m)=>{const _=m.length?m[0]:v;return u.ctx&&r(u.ctx[k],u.ctx[k]=_)&&(!u.skip_bound&&u.bound[k]&&u.bound[k](_),p&&Lr(t,k)),v}):[],u.update(),p=!0,je(u.before_update),u.fragment=i?i(u.ctx):!1,e.target){if(e.hydrate){const k=vr(e.target);u.fragment&&u.fragment.l(k),k.forEach(F)}else u.fragment&&u.fragment.c();e.intro&&T(t.$$.fragment),te(t,e.target,e.anchor,e.customElement),Tn()}We(l)}class Ye{$destroy(){ne(this,1),this.$destroy=Z}$on(e,n){if(!yt(n))return Z;const i=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return i.push(n),()=>{const r=i.indexOf(n);r!==-1&&i.splice(r,1)}}$set(e){this.$$set&&!br(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const dn={},Qt={},ji={},Gi=/^:(.+)/,jn=4,Nr=3,Dr=2,qr=1,Mr=1,Bt=t=>t.replace(/(^\/+|\/+$)/g,"").split("/"),on=t=>t.replace(/(^\/+|\/+$)/g,""),Ir=(t,e)=>{const n=t.default?0:Bt(t.path).reduce((i,r)=>(i+=jn,r===""?i+=Mr:Gi.test(r)?i+=Dr:r[0]==="*"?i-=jn+qr:i+=Nr,i),0);return{route:t,score:n,index:e}},Vr=t=>t.map(Ir).sort((e,n)=>e.score<n.score?1:e.score>n.score?-1:e.index-n.index),Gn=(t,e)=>{let n,i;const[r]=e.split("?"),s=Bt(r),o=s[0]==="",a=Vr(t);for(let l=0,u=a.length;l<u;l++){const p=a[l].route;let k=!1;if(p.default){i={route:p,params:{},uri:e};continue}const v=Bt(p.path),m={},_=Math.max(s.length,v.length);let b=0;for(;b<_;b++){const w=v[b],L=s[b];if(w&&w[0]==="*"){const N=w==="*"?"*":w.slice(1);m[N]=s.slice(b).map(decodeURIComponent).join("/");break}if(typeof L>"u"){k=!0;break}const M=Gi.exec(w);if(M&&!o){const N=decodeURIComponent(L);m[M[1]]=N}else if(w!==L){k=!0;break}}if(!k){n={route:p,params:m,uri:"/"+s.slice(0,b).join("/")};break}}return n||i||null},an=(t,e)=>t+(e?`?${e}`:""),Ur=(t,e)=>{if(t.startsWith("/"))return t;const[n,i]=t.split("?"),[r]=e.split("?"),s=Bt(n),o=Bt(r);if(s[0]==="")return an(r,i);if(!s[0].startsWith(".")){const u=o.concat(s).join("/");return an((r==="/"?"":"/")+u,i)}const a=o.concat(s),l=[];return a.forEach(u=>{u===".."?l.pop():u!=="."&&l.push(u)}),an("/"+l.join("/"),i)},Yn=(t,e)=>`${on(e==="/"?t:`${on(t)}/${on(e)}`)}/`,Hr=t=>!t.defaultPrevented&&t.button===0&&!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey),Yi=()=>typeof window<"u"&&"document"in window&&"location"in window,Wr=t=>({active:t&4}),$n=t=>({active:!!t[2]});function Fr(t){let e,n,i,r;const s=t[16].default,o=rt(s,t,t[15],$n);let a=[{href:t[0]},{"aria-current":t[2]},t[1],t[6]],l={};for(let u=0;u<a.length;u+=1)l=it(l,a[u]);return{c(){e=S("a"),o&&o.c(),Vn(e,l)},m(u,p){j(u,e,p),o&&o.m(e,null),n=!0,i||(r=lt(e,"click",t[5]),i=!0)},p(u,[p]){o&&o.p&&(!n||p&32772)&&ot(o,s,u,u[15],n?st(s,u[15],p,Wr):at(u[15]),$n),Vn(e,l=Ki(a,[(!n||p&1)&&{href:u[0]},(!n||p&4)&&{"aria-current":u[2]},p&2&&u[1],p&64&&u[6]]))},i(u){n||(T(o,u),n=!0)},o(u){A(o,u),n=!1},d(u){u&&F(e),o&&o.d(u),i=!1,r()}}}function zr(t,e,n){let i;const r=["to","replace","state","getProps"];let s=Mn(e,r),o,a,{$$slots:l={},$$scope:u}=e,{to:p="#"}=e,{replace:k=!1}=e,{state:v={}}=e,{getProps:m=()=>({})}=e;const _=_t(dn);ke(t,_,D=>n(13,o=D));const{base:b}=_t(Qt);ke(t,b,D=>n(14,a=D));const{navigate:w}=_t(ji),L=Wi();let M,N,G,O;const R=D=>{if(L("click",D),Hr(D)){D.preventDefault();const I=o.pathname===M||k;w(M,{state:v,replace:I})}};return t.$$set=D=>{e=it(it({},e),fn(D)),n(6,s=Mn(e,r)),"to"in D&&n(7,p=D.to),"replace"in D&&n(8,k=D.replace),"state"in D&&n(9,v=D.state),"getProps"in D&&n(10,m=D.getProps),"$$scope"in D&&n(15,u=D.$$scope)},t.$$.update=()=>{t.$$.dirty&16512&&n(0,M=p==="/"?a.uri:Ur(p,a.uri)),t.$$.dirty&8193&&n(11,N=o.pathname.startsWith(M)),t.$$.dirty&8193&&n(12,G=M===o.pathname),t.$$.dirty&4096&&n(2,i=G?"page":void 0),n(1,O=m({location:o,href:M,isPartiallyCurrent:N,isCurrent:G,existingProps:s}))},[M,O,i,_,b,R,s,p,k,v,m,N,G,o,a,u,l]}class Kr extends Ye{constructor(e){super(),Ge(this,e,zr,Fr,ze,{to:7,replace:8,state:9,getProps:10})}}const jr=t=>({params:t&4}),Xn=t=>({params:t[2]});function Jn(t){let e,n,i,r;const s=[Yr,Gr],o=[];function a(l,u){return l[0]?0:1}return e=a(t),n=o[e]=s[e](t),{c(){n.c(),i=wt()},m(l,u){o[e].m(l,u),j(l,i,u),r=!0},p(l,u){let p=e;e=a(l),e===p?o[e].p(l,u):(be(),A(o[p],1,1,()=>{o[p]=null}),ye(),n=o[e],n?n.p(l,u):(n=o[e]=s[e](l),n.c()),T(n,1),n.m(i.parentNode,i))},i(l){r||(T(n),r=!0)},o(l){A(n),r=!1},d(l){o[e].d(l),l&&F(i)}}}function Gr(t){let e;const n=t[8].default,i=rt(n,t,t[7],Xn);return{c(){i&&i.c()},m(r,s){i&&i.m(r,s),e=!0},p(r,s){i&&i.p&&(!e||s&132)&&ot(i,n,r,r[7],e?st(n,r[7],s,jr):at(r[7]),Xn)},i(r){e||(T(i,r),e=!0)},o(r){A(i,r),e=!1},d(r){i&&i.d(r)}}}function Yr(t){let e,n,i,r={ctx:t,current:null,token:null,hasCatch:!1,pending:Jr,then:Xr,catch:$r,value:12,blocks:[,,,]};return zn(n=t[0],r),{c(){e=wt(),r.block.c()},m(s,o){j(s,e,o),r.block.m(s,r.anchor=o),r.mount=()=>e.parentNode,r.anchor=e,i=!0},p(s,o){t=s,r.ctx=t,o&1&&n!==(n=t[0])&&zn(n,r)||Br(r,t,o)},i(s){i||(T(r.block),i=!0)},o(s){for(let o=0;o<3;o+=1){const a=r.blocks[o];A(a)}i=!1},d(s){s&&F(e),r.block.d(s),r.token=null,r=null}}}function $r(t){return{c:Z,m:Z,p:Z,i:Z,o:Z,d:Z}}function Xr(t){var a;let e,n,i;const r=[t[2],t[3]];var s=((a=t[12])==null?void 0:a.default)||t[12];function o(l){let u={};for(let p=0;p<r.length;p+=1)u=it(u,r[p]);return{props:u}}return s&&(e=Un(s,o())),{c(){e&&pe(e.$$.fragment),n=wt()},m(l,u){e&&te(e,l,u),j(l,n,u),i=!0},p(l,u){var k;const p=u&12?Ki(r,[u&4&&Kn(l[2]),u&8&&Kn(l[3])]):{};if(u&1&&s!==(s=((k=l[12])==null?void 0:k.default)||l[12])){if(e){be();const v=e;A(v.$$.fragment,1,0,()=>{ne(v,1)}),ye()}s?(e=Un(s,o()),pe(e.$$.fragment),T(e.$$.fragment,1),te(e,n.parentNode,n)):e=null}else s&&e.$set(p)},i(l){i||(e&&T(e.$$.fragment,l),i=!0)},o(l){e&&A(e.$$.fragment,l),i=!1},d(l){l&&F(n),e&&ne(e,l)}}}function Jr(t){return{c:Z,m:Z,p:Z,i:Z,o:Z,d:Z}}function Qr(t){let e,n,i=t[1]&&t[1].route===t[5]&&Jn(t);return{c(){i&&i.c(),e=wt()},m(r,s){i&&i.m(r,s),j(r,e,s),n=!0},p(r,[s]){r[1]&&r[1].route===r[5]?i?(i.p(r,s),s&2&&T(i,1)):(i=Jn(r),i.c(),T(i,1),i.m(e.parentNode,e)):i&&(be(),A(i,1,1,()=>{i=null}),ye())},i(r){n||(T(i),n=!0)},o(r){A(i),n=!1},d(r){i&&i.d(r),r&&F(e)}}}function Zr(t,e,n){let i,{$$slots:r={},$$scope:s}=e,{path:o=""}=e,{component:a=null}=e,l={},u={};const{registerRoute:p,unregisterRoute:k,activeRoute:v}=_t(Qt);ke(t,v,_=>n(1,i=_));const m={path:o,default:o===""};return p(m),Cr(()=>{k(m)}),t.$$set=_=>{n(11,e=it(it({},e),fn(_))),"path"in _&&n(6,o=_.path),"component"in _&&n(0,a=_.component),"$$scope"in _&&n(7,s=_.$$scope)},t.$$.update=()=>{if(i&&i.route===m){n(2,l=i.params);const{component:_,path:b,...w}=e;n(3,u=w),_&&(_.toString().startsWith("class ")?n(0,a=_):n(0,a=_())),Yi()&&(window==null||window.scrollTo(0,0))}},e=fn(e),[a,i,l,u,v,m,o,s,r]}class Qn extends Ye{constructor(e){super(),Ge(this,e,Zr,Qr,ze,{path:6,component:0})}}const dt=[];function xr(t,e){return{subscribe:Pe(t,e).subscribe}}function Pe(t,e=Z){let n;const i=new Set;function r(a){if(ze(t,a)&&(t=a,n)){const l=!dt.length;for(const u of i)u[1](),dt.push(u,t);if(l){for(let u=0;u<dt.length;u+=2)dt[u][0](dt[u+1]);dt.length=0}}}function s(a){r(a(t))}function o(a,l=Z){const u=[a,l];return i.add(u),i.size===1&&(n=e(r)||Z),a(t),()=>{i.delete(u),i.size===0&&n&&(n(),n=null)}}return{set:r,update:s,subscribe:o}}function es(t,e,n){const i=!Array.isArray(t),r=i?[t]:t,s=e.length<2;return xr(n,o=>{let a=!1;const l=[];let u=0,p=Z;const k=()=>{if(u)return;p();const m=e(i?l[0]:l,o);s?o(m):p=yt(m)?m:Z},v=r.map((m,_)=>Di(m,b=>{l[_]=b,u&=~(1<<_),a&&k()},()=>{u|=1<<_}));return a=!0,k(),function(){je(v),p(),a=!1}})}const ln=t=>({...t.location,state:t.history.state,key:t.history.state&&t.history.state.key||"initial"}),ts=t=>{const e=[];let n=ln(t);return{get location(){return n},listen(i){e.push(i);const r=()=>{n=ln(t),i({location:n,action:"POP"})};return t.addEventListener("popstate",r),()=>{t.removeEventListener("popstate",r);const s=e.indexOf(i);e.splice(s,1)}},navigate(i,{state:r,replace:s=!1}={}){r={...r,key:Date.now()+""};try{s?t.history.replaceState(r,"",i):t.history.pushState(r,"",i)}catch{t.location[s?"replace":"assign"](i)}n=ln(t),e.forEach(o=>o({location:n,action:"PUSH"})),document.activeElement.blur()}}},ns=(t="/")=>{let e=0;const n=[{pathname:t,search:""}],i=[];return{get location(){return n[e]},addEventListener(r,s){},removeEventListener(r,s){},history:{get entries(){return n},get index(){return e},get state(){return i[e]},pushState(r,s,o){const[a,l=""]=o.split("?");e++,n.push({pathname:a,search:l}),i.push(r)},replaceState(r,s,o){const[a,l=""]=o.split("?");n[e]={pathname:a,search:l},i[e]=r}}}},is=ts(Yi()?window:ns()),rs=t=>({route:t&2,location:t&1}),Zn=t=>({route:t[1]&&t[1].uri,location:t[0]});function ss(t){let e;const n=t[12].default,i=rt(n,t,t[11],Zn);return{c(){i&&i.c()},m(r,s){i&&i.m(r,s),e=!0},p(r,[s]){i&&i.p&&(!e||s&2051)&&ot(i,n,r,r[11],e?st(n,r[11],s,rs):at(r[11]),Zn)},i(r){e||(T(i,r),e=!0)},o(r){A(i,r),e=!1},d(r){i&&i.d(r)}}}function os(t,e,n){let i,r,s,o,{$$slots:a={},$$scope:l}=e,{basepath:u="/"}=e,{url:p=null}=e,{history:k=is}=e;rn(ji,k);const v=_t(dn),m=_t(Qt),_=Pe([]);ke(t,_,R=>n(9,r=R));const b=Pe(null);ke(t,b,R=>n(1,o=R));let w=!1;const L=v||Pe(p?{pathname:p}:k.location);ke(t,L,R=>n(0,i=R));const M=m?m.routerBase:Pe({path:u,uri:u});ke(t,M,R=>n(10,s=R));const N=es([M,b],([R,D])=>{if(!D)return R;const{path:I}=R,{route:Q,uri:ve}=D;return{path:Q.default?I:Q.path.replace(/\*.*$/,""),uri:ve}}),G=R=>{const{path:D}=s;let{path:I}=R;if(R._path=I,R.path=Yn(D,I),typeof window>"u"){if(w)return;const Q=Gn([R],i.pathname);Q&&(b.set(Q),w=!0)}else _.update(Q=>[...Q,R])},O=R=>{_.update(D=>D.filter(I=>I!==R))};return v||(Hi(()=>k.listen(D=>{L.set(D.location)})),rn(dn,L)),rn(Qt,{activeRoute:b,base:M,routerBase:N,registerRoute:G,unregisterRoute:O}),t.$$set=R=>{"basepath"in R&&n(6,u=R.basepath),"url"in R&&n(7,p=R.url),"history"in R&&n(8,k=R.history),"$$scope"in R&&n(11,l=R.$$scope)},t.$$.update=()=>{if(t.$$.dirty&1024){const{path:R}=s;_.update(D=>D.map(I=>Object.assign(I,{path:Yn(R,I._path)})))}if(t.$$.dirty&513){const R=Gn(r,i.pathname);b.set(R)}},[i,o,_,b,L,M,u,p,k,r,s,l,a]}class as extends Ye{constructor(e){super(),Ge(this,e,os,ss,ze,{basepath:6,url:7,history:8})}}function ls(t){const e=t-1;return e*e*e+1}function Zt(t,{delay:e=0,duration:n=400,easing:i=xt}={}){const r=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:i,css:s=>`opacity: ${s*r}`}}function $i(t,{delay:e=0,duration:n=400,easing:i=ls,x:r=0,y:s=0,opacity:o=0}={}){const a=getComputedStyle(t),l=+a.opacity,u=a.transform==="none"?"":a.transform,p=l*(1-o),[k,v]=In(r),[m,_]=In(s);return{delay:e,duration:n,easing:i,css:(b,w)=>`
			transform: ${u} translate(${(1-b)*k}${v}, ${(1-b)*m}${_});
			opacity: ${l-p*w}`}}const he=Pe({id:void 0,title:"Player 1",points:{beasts:0,bots:0,dwarves:0,elves:0,humans:0,goblins:0,xenos:0},highestPoints:0,justWon:!1,wins:0,losses:0,draws:0,turn:!1,dwarfNextTurn:!1,goblinLordMarked:!1,hand:[],startingHand:[],cardsDrawn:[],discards:[],warpStalkerPointValue:0,voidRunnerPointValue:0}),de=Pe({id:void 0,title:"Player 2",points:{beasts:0,bots:0,dwarves:0,elves:0,humans:0,goblins:0,xenos:0},highestPoints:0,justWon:!1,wins:0,losses:0,draws:0,turn:!1,dwarfNextTurn:!1,goblinLordMarked:!1,hand:[],startingHand:[],cardsDrawn:[],discards:[],warpStalkerPointValue:0,voidRunnerPointValue:0}),Ct=Pe({emperor:{title:"emperor",displayTitle:"Emperor",points:10,amount:1,rarity:"legendary",trait:"Human points are doubled and all races in your hand except xenos will count towards your final score.",traitTitle:"Unity Pact",description:"The leader of the human race.",race:"human",image:"/humans/emperor.gif"},commander:{title:"commander",displayTitle:"Commander",points:8,amount:2,rarity:"epic",trait:"When the commander is in your hand, all humans you have will receive +1 point, including commanders. This effect also stacks with the emperor.",traitTitle:"Rally",description:"Powerful warrior second only to the emperor.",race:"human",image:"/humans/commander.png"},assassin:{title:"assassin",displayTitle:"Assassin",points:6,amount:3,rarity:"amazing",trait:"",traitTitle:"",description:"A highly skilled professional killer.",race:"human",image:"/humans/assassin.png"},knight:{title:"knight",displayTitle:"Knight",points:4,amount:4,rarity:"uncommon",trait:"",traitTitle:"",description:"A middle ranked warrior.",race:"human",image:"/humans/knight.png"},soldier:{title:"soldier",displayTitle:"Soldier",points:3,amount:4,rarity:"uncommon",trait:"",traitTitle:"",description:"A low ranked warrior.",race:"human",image:"/humans/soldier.png"},scout:{title:"scout",displayTitle:"Scout",points:2,amount:5,rarity:"common",trait:"",traitTitle:"",description:"The lowest ranked in the human army.",race:"human",image:"/humans/scout.png"},villager:{title:"villager",displayTitle:"Villager",points:1,amount:6,rarity:"common",trait:"",traitTitle:"",description:"An innocent villager.",race:"human",image:"/humans/villager.png"},goblinLord:{title:"goblinLord",displayTitle:"Goblin Lord",points:10,amount:1,rarity:"legendary",trait:"If your hand contains only goblins, you receive an insane amount of bonus points, doesn't count goblin lord's mark. Beware, the elf king can block this trait, resulting in a draw.",traitTitle:"Gobbledegook",description:"The leader of the goblins.",race:"goblin",image:"/goblins/goblin-lord.gif"},goblinLordsMark:{title:"goblinLordsMark",displayTitle:"Goblin Lord's Mark",points:0,amount:1,rarity:"epic",trait:"Draw the goblin lord next turn, only applies if this card is drawn. If no goblin lord, draw a goblin.",traitTitle:"Death's Mark",description:"A sign that the goblin lord is near.",race:"goblin-ish",image:"/goblins/goblin-lord_mark.png"},giant:{title:"giant",displayTitle:"Giant",points:8,amount:2,rarity:"epic",trait:"",traitTitle:"",description:"The strongest weapons of the goblin lord.",race:"goblin",image:"/goblins/giant.png"},troll:{title:"troll",displayTitle:"Troll",points:6,amount:3,rarity:"amazing",trait:"",traitTitle:"",description:"Loyal high ranked soldier in the goblin army.",race:"goblin",image:"/goblins/troll.png"},shaman:{title:"shaman",displayTitle:"Shaman",points:5,amount:4,rarity:"rare",trait:"",traitTitle:"",description:"A magic wielding goblin.",race:"goblin",image:"/goblins/shaman.png"},thief:{title:"thief",displayTitle:"Thief",points:3,amount:4,rarity:"uncommon",trait:"",traitTitle:"",description:"A quick, elusive but weak goblin.",race:"goblin",image:"/goblins/thief.png"},hobgoblin:{title:"hobgoblin",displayTitle:"Hobgoblin",points:2,amount:4,rarity:"uncommon",trait:"",traitTitle:"",description:"A low ranked goblin.",race:"goblin",image:"/goblins/hobgoblin.png"},bokoblin:{title:"bokoblin",displayTitle:"Bokoblin",points:1,amount:6,rarity:"common",trait:"",traitTitle:"",description:"The weakest of goblins.",race:"goblin",image:"/goblins/bokoblin.png"},elfKing:{title:"elfKing",displayTitle:"Elf King",points:10,amount:1,rarity:"legendary",trait:"If your hand contains only elves, they will have their points trippled, otherwise doubled! The elf king also prevents the enemy from using the goblin lord's special trait.",traitTitle:"Superior Race",description:"The purest, most powerful and respected leader of the elves.",race:"elf",image:"/elves/elf-king.gif"},elfChampion:{title:"elfChampion",displayTitle:"Elf Champion",points:8,amount:2,rarity:"epic",trait:"",traitTitle:"",description:"Elf king guard candidate.",race:"elf",image:"/elves/champion.png"},darkElf:{title:"darkElf",displayTitle:"Dark Elf",points:6,amount:3,rarity:"amazing",trait:"",traitTitle:"",description:"High ranked powerful elf.",race:"elf",image:"/elves/dark-elf.png"},forestDweller:{title:"forestDweller",displayTitle:"Forest Dweller",points:5,amount:3,rarity:"amazing",trait:"",traitTitle:"",description:"An elf in tune with nature, they're quite strong..",race:"elf",image:"/elves/forest-dweller.png"},nadallen:{title:"nadallen",displayTitle:"Nadallen",points:4,amount:1,rarity:"rare",trait:"If both Nelladan and Nadallen are in your hand, they both receive +5 bonus points. This effect does not stack with itself or the elf king.",traitTitle:"Twin Power",description:"The stronger half of the rare elvan twins.",race:"elf",image:"/elves/nadallen.png"},nelladan:{title:"nelladan",displayTitle:"Nelladan",points:2,amount:4,rarity:"uncommon",trait:"If both Nelladan and Nadallen are in your hand, they both receive +5 bonus points. This effect does not stack with itself or the elf king.",traitTitle:"Twin Power",description:"A rare elvan twin.",race:"elf",image:"/elves/nelladan.png"},woodElf:{title:"woodElf",displayTitle:"Wood Elf",points:3,amount:4,rarity:"uncommon",trait:"",traitTitle:"",description:"An elf who aspires to be a forest dwelling elf.",race:"elf",image:"/elves/wood-elf.png"},wildElf:{title:"wildElf",displayTitle:"Wild Elf",points:2,amount:4,rarity:"uncommon",trait:"",traitTitle:"",description:"An elf with no social status.",race:"elf",image:"/elves/wild-elf.png"},bard:{title:"bard",displayTitle:"Bard",points:1,amount:4,rarity:"common",trait:"",traitTitle:"",description:"A weak musician.",race:"elf",image:"/elves/bard.png"},longbeardLeader:{title:"longbeardLeader",displayTitle:"Longbeard Leader",points:10,amount:1,rarity:"legendary",trait:"At the end of the game, if there are more discarded dwarves than remaining(or equal) dwarves in the deck, dwarves receive 50 bonus points. Additionally, if drawn, the next card drawn will be a dwarf.",traitTitle:"Drunken rage",description:"The bravest and most feared amongst the dwarves.",race:"dwarf",image:"/dwarves/longbeard-leader.gif"},dwarfCommander:{title:"dwarfCommander",displayTitle:"Dwarf Commander",points:8,amount:2,rarity:"epic",trait:"If drawn, the next card will be a dwarf. Has no effect if there are no remaining dwarves.",traitTitle:"Recruit",description:"Right hand man to the longbeard leader himself.",race:"dwarf",image:"/dwarves/dwarf-commander.png"},alchemist:{title:"alchemist",displayTitle:"Alchemist",points:6,amount:2,rarity:"amazing",trait:"",traitTitle:"",description:"A dwarven warrior wielding science as magic.",race:"dwarf",image:"/dwarves/alchemist.png"},dwarfWarrior:{title:"dwarfWarrior",displayTitle:"Dwarf Warrior",points:5,amount:3,rarity:"amazing",trait:"",traitTitle:"",description:"A strong and reliable dwarven warrior.",race:"dwarf",image:"/dwarves/warrior.png"},hunter:{title:"hunter",displayTitle:"Hunter",points:4,amount:3,rarity:"rare",trait:"",traitTitle:"",description:"A strong and capable hunter.",race:"dwarf",image:"/dwarves/hunter.png"},traveller:{title:"traveller",displayTitle:"Traveller",points:3,amount:4,rarity:"uncommon",trait:"",traitTitle:"",description:"An adventurous but feeble dwarf.",race:"dwarf",image:"/dwarves/traveller.png"},miner:{title:"miner",displayTitle:"Miner",points:2,amount:3,rarity:"uncommon",trait:"",traitTitle:"",description:"An average miner, not great in a fight.",race:"dwarf",image:"/dwarves/miner.png"},blacksmith:{title:"blacksmith",displayTitle:"Blacksmith",points:2,amount:3,rarity:"uncommon",trait:"",traitTitle:"",description:"A typical blacksmith, not very strong.",race:"dwarf",image:"/dwarves/blacksmith.png"},hobbit:{title:"hobbit",displayTitle:"Hobbit",points:1,amount:4,rarity:"uncommon",trait:"Half and half.",traitTitle:"Hobbit points count towards both dwarves and humans.",description:"Half dwarf, half human. Although rare and different, they're generally accepted by all dwarves.",race:"dwarf",image:"/dwarves/hobbit.png"},bartender:{title:"bartender",displayTitle:"Bartender",points:1,amount:4,rarity:"common",trait:"",traitTitle:"",description:"A popular dwarf at the local pub, a serious drinker even amongst dwarves..",race:"dwarf",image:"/dwarves/bartender.png"},crusher541A57:{title:"crusher541A57",displayTitle:"Crusher 541-A-57",points:10,amount:1,rarity:"legendary",trait:"ALL bots will receive +2 points. Additionally, Crusher will hack all bots and steal their points.",traitTitle:"Binary Manipulator",description:"The most advanced battle and hacking unit known to man.",race:"bot",image:"/bots/crusher-5A1A-57.gif"},ai:{title:"ai",displayTitle:"A.I.",points:8,amount:2,rarity:"epic",trait:"Converts viruses into helpful programs, setting their point value to 6. A.I. will also receive +1 point for every cleansed virus.",traitTitle:"Antivirus",description:"The core of the modern bot society.",race:"bot",image:"/bots/ai.png"},faeBot:{title:"faeBot",displayTitle:"Fae Bot",points:6,amount:3,rarity:"amazing",trait:"",traitTitle:"",description:"A bot created as a gift to the elves as a peace treaty.",race:"bot",image:"/bots/fae-bot.png"},sawBot3000:{title:"sawBot3000",displayTitle:"Sawbot-3000",points:4,amount:4,rarity:"rare",trait:"",traitTitle:"",description:"A bot designed to kill, beware.",race:"bot",image:"/bots/saw-bot-3000.png"},infernoBot:{title:"infernoBot",displayTitle:"Inferno Bot",points:3,amount:4,rarity:"rare",trait:"",traitTitle:"",description:"An angry aggressive bot, known to attack on sight.",race:"bot",image:"/bots/inferno-bot.png"},incubator:{title:"incubator",displayTitle:"Incubator",points:2,amount:5,rarity:"uncommon",trait:"",traitTitle:"",description:"A weak mother bot used to raise young infants.",race:"bot",image:"/bots/incubator.png"},virus:{title:"virus",displayTitle:"Virus",points:-2,amount:7,rarity:"common",trait:"",traitTitle:"",description:"A common computer virus.",race:"bot",image:"/bots/virus.png"},dreamDestroyer:{title:"dreamDestroyer",displayTitle:"Dream Destroyer",points:12,amount:1,rarity:"legendary",trait:"All of your beasts are worth 12 points.",traitTitle:"ðŸ¤¬Roid RageðŸ¤¬",description:"The fiercest creature in the animal kingdom.",race:"beast",image:"/beasts/dream-destroyer.gif"},rhino:{title:"rhino",displayTitle:"Rhinestone",points:8,amount:3,rarity:"amazing",trait:"Blocks trap cards. (not yet implemented)",traitTitle:"Thick skin",description:"A feared beast at the top of the food chain.",race:"beast",image:"/beasts/rhino.png"},bear:{title:"bear",displayTitle:"Theodore Thunderpaws",points:7,amount:3,rarity:"amazing",trait:"",traitTitle:"",description:"A powerful top level beast, matched by few.",race:"beast",image:"/beasts/bear.png"},lion:{title:"lion",displayTitle:"Savannah Goldenmane",points:6,amount:4,rarity:"rare",trait:"",traitTitle:"",description:"The original kings of the jungle.",race:"beast",image:"/beasts/lion.png"},panther:{title:"panther",displayTitle:"Panthera Nocturna",points:5,amount:4,rarity:"rare",trait:"",traitTitle:"",description:"A quick and efficient beast, known to stalk it's prey before pouncing.",race:"beast",image:"/beasts/panther.png"},wolf:{title:"wolf",displayTitle:"Alpha Wolfbane",points:4,amount:4,rarity:"rare",trait:"",traitTitle:"",description:"A lone wolf with the strength of a pack.",race:"beast",image:"/beasts/wolf.png"},fox:{title:"fox",displayTitle:"Finn Foxglove",points:3,amount:4,rarity:"uncommon",trait:"",traitTitle:"",description:"A fox on steroids.",race:"beast",image:"/beasts/fox.png"},dog:{title:"dog",displayTitle:"Pawl Barkington",points:2,amount:4,rarity:"uncommon",trait:"",traitTitle:"",description:"More bark than bite, recognized as the weakest beast.",race:"beast",image:"/beasts/dog.png"},xenoGuard:{title:"xenoGuard",displayTitle:"Xeno Guard",points:10,amount:3,rarity:"epic",trait:"",traitTitle:"",description:"The xenoGuard is a highly intelligent and powerful creature, feared by many. It is the most feared creature in the xeno hive, tasked with the safety of the xeno overlord.",race:"xeno",image:"/xenos/xeno_guard.png"},abyssolarian:{title:"abyssolarian",displayTitle:"Abyssolarian",points:9,amount:3,rarity:"epic",trait:"",traitTitle:"",description:"A feral xeno born in the darkest depths of Xenopp. Produces light to lure prey.",race:"xeno",image:"/xenos/xeno_placeholder.png"},warpstalker:{title:"warpstalker",displayTitle:"Warpstalker",points:0,amount:3,rarity:"epic",trait:"When drawn, a random point value (7-13 inclusive) will be chosen, then applied to ALL ally warpstalkers.",traitTitle:"Hive Resonance",description:"A xeno capable of riftwalking, similar to teleporting over short distances. Sometimes riftwalks to the wrong place.",race:"xeno",image:"/xenos/xeno_placeholder.png"},voidRunner:{title:"voidRunner",displayTitle:"Void Runner",points:0,amount:3,rarity:"epic",trait:"When drawn, ALL ally void Runners' points are set to the number of turns passed.",traitTitle:"Hive Unity",description:"A non sentient xeno who's only purpose is to run and grow stronger. If it ever stops it will die.",race:"xeno",image:"/xenos/xeno_placeholder.png"},nebulite:{title:"nebulite",displayTitle:"Nebulite",points:0,amount:3,rarity:"epic",trait:"Buffs all xenos by +4, does not apply to self and does not stack with other Nebulites.",traitTitle:"Hive Blossom",description:"Artificially created xenos incapable of speech.",race:"xeno",image:"/xenos/xeno_placeholder.png"},celenial:{title:"celenial",displayTitle:"Celenial",points:5,amount:3,rarity:"amazing",trait:"",traitTitle:"",description:"The lowest of the xenos, often mistreated. Excluding the nebulites, celenials are the weakest of the xenos, often used as bait for the abyssolarians.",race:"xeno",image:"/xenos/xeno_placeholder.png"}}),cs=Pe(["dreamDestroyer","rhino","rhino","rhino","bear","bear","bear","lion","lion","lion","panther","panther","panther","wolf","wolf","wolf","fox","fox","fox","dog","dog","dog"]),us=Pe(["crusher541A57","ai","ai","faeBot","faeBot","faeBot","sawBot3000","sawBot3000","sawBot3000","sawBot3000","infernoBot","infernoBot","infernoBot","infernoBot","incubator","incubator","incubator","incubator","virus","virus","virus","virus","virus","virus"]),fs=Pe(["longbeardLeader","dwarfCommander","dwarfCommander","alchemist","alchemist","dwarfWarrior","dwarfWarrior","hunter","hunter","hunter","miner","miner","miner","blacksmith","blacksmith","traveller","traveller","bartender","bartender","hobbit","hobbit","hobbit"]),hs=Pe(["elfKing","elfChampion","elfChampion","darkElf","darkElf","forestDweller","forestDweller","forestDweller","nadallen","nelladan","nelladan","nelladan","nelladan","woodElf","woodElf","woodElf","wildElf","wildElf","wildElf","bard","bard","bard"]),ds=Pe(["goblinLord","giant","giant","troll","troll","troll","shaman","shaman","shaman","thief","thief","thief","hobgoblin","hobgoblin","hobgoblin","bokoblin","bokoblin","bokoblin","goblinLordsMark"]),ps=Pe(["emperor","commander","commander","assassin","assassin","assassin","knight","knight","knight","knight","soldier","soldier","soldier","soldier","scout","scout","scout","scout","villager","villager","villager","villager"]),gs=Pe(["xenoGuard","xenoGuard","xenoGuard","abyssolarian","abyssolarian","abyssolarian","warpstalker","warpstalker","warpstalker","voidRunner","voidRunner","voidRunner","celenial","celenial","celenial","nebulite","nebulite","nebulite"]);function ms(t){let e,n,i,r,s;const o=t[6].default,a=rt(o,t,t[11],null);return{c(){e=S("button"),a&&a.c(),E(e,"class",n=t[0]+" "+t[1]+" svelte-1duzco6")},m(l,u){j(l,e,u),a&&a.m(e,null),i=!0,r||(s=lt(e,"click",t[10]),r=!0)},p(l,u){a&&a.p&&(!i||u&2048)&&ot(a,o,l,l[11],i?st(o,l[11],u,null):at(l[11]),null),(!i||u&3&&n!==(n=l[0]+" "+l[1]+" svelte-1duzco6"))&&E(e,"class",n)},i(l){i||(T(a,l),i=!0)},o(l){A(a,l),i=!1},d(l){l&&F(e),a&&a.d(l),r=!1,s()}}}function _s(t){let e,n,i,r,s;const o=t[6].default,a=rt(o,t,t[11],null);return{c(){e=S("button"),a&&a.c(),E(e,"class",n="round "+t[0]+" svelte-1duzco6")},m(l,u){j(l,e,u),a&&a.m(e,null),i=!0,r||(s=lt(e,"click",t[9]),r=!0)},p(l,u){a&&a.p&&(!i||u&2048)&&ot(a,o,l,l[11],i?st(o,l[11],u,null):at(l[11]),null),(!i||u&1&&n!==(n="round "+l[0]+" svelte-1duzco6"))&&E(e,"class",n)},i(l){i||(T(a,l),i=!0)},o(l){A(a,l),i=!1},d(l){l&&F(e),a&&a.d(l),r=!1,s()}}}function bs(t){let e,n;return e=new Kr({props:{to:t[5],$$slots:{default:[ws]},$$scope:{ctx:t}}}),{c(){pe(e.$$.fragment)},m(i,r){te(e,i,r),n=!0},p(i,r){const s={};r&32&&(s.to=i[5]),r&2051&&(s.$$scope={dirty:r,ctx:i}),e.$set(s)},i(i){n||(T(e.$$.fragment,i),n=!0)},o(i){A(e.$$.fragment,i),n=!1},d(i){ne(e,i)}}}function ys(t){let e,n,i,r,s;const o=t[6].default,a=rt(o,t,t[11],null);return{c(){e=S("button"),a&&a.c(),E(e,"type","submit"),E(e,"class",n=t[0]+" "+t[1]+" svelte-1duzco6")},m(l,u){j(l,e,u),a&&a.m(e,null),i=!0,r||(s=lt(e,"click",t[7]),r=!0)},p(l,u){a&&a.p&&(!i||u&2048)&&ot(a,o,l,l[11],i?st(o,l[11],u,null):at(l[11]),null),(!i||u&3&&n!==(n=l[0]+" "+l[1]+" svelte-1duzco6"))&&E(e,"class",n)},i(l){i||(T(a,l),i=!0)},o(l){A(a,l),i=!1},d(l){l&&F(e),a&&a.d(l),r=!1,s()}}}function ws(t){let e,n,i,r,s;const o=t[6].default,a=rt(o,t,t[11],null);return{c(){e=S("button"),a&&a.c(),E(e,"class",n=t[0]+" "+t[1]+" svelte-1duzco6")},m(l,u){j(l,e,u),a&&a.m(e,null),i=!0,r||(s=lt(e,"click",t[8]),r=!0)},p(l,u){a&&a.p&&(!i||u&2048)&&ot(a,o,l,l[11],i?st(o,l[11],u,null):at(l[11]),null),(!i||u&3&&n!==(n=l[0]+" "+l[1]+" svelte-1duzco6"))&&E(e,"class",n)},i(l){i||(T(a,l),i=!0)},o(l){A(a,l),i=!1},d(l){l&&F(e),a&&a.d(l),r=!1,s()}}}function ks(t){let e,n,i,r;const s=[ys,bs,_s,ms],o=[];function a(l,u){return l[3]?0:l[4]?1:l[2]?2:3}return e=a(t),n=o[e]=s[e](t),{c(){n.c(),i=wt()},m(l,u){o[e].m(l,u),j(l,i,u),r=!0},p(l,[u]){let p=e;e=a(l),e===p?o[e].p(l,u):(be(),A(o[p],1,1,()=>{o[p]=null}),ye(),n=o[e],n?n.p(l,u):(n=o[e]=s[e](l),n.c()),T(n,1),n.m(i.parentNode,i))},i(l){r||(T(n),r=!0)},o(l){A(n),r=!1},d(l){o[e].d(l),l&&F(i)}}}function vs(t,e,n){let{$$slots:i={},$$scope:r}=e,{customClasses:s=""}=e,{bgColor:o=""}=e,{round:a=!1}=e,{btnSubmit:l=!1}=e,{btnLink:u=!1}=e,{path:p=""}=e;function k(b){Rt.call(this,t,b)}function v(b){Rt.call(this,t,b)}function m(b){Rt.call(this,t,b)}function _(b){Rt.call(this,t,b)}return t.$$set=b=>{"customClasses"in b&&n(0,s=b.customClasses),"bgColor"in b&&n(1,o=b.bgColor),"round"in b&&n(2,a=b.round),"btnSubmit"in b&&n(3,l=b.btnSubmit),"btnLink"in b&&n(4,u=b.btnLink),"path"in b&&n(5,p=b.path),"$$scope"in b&&n(11,r=b.$$scope)},[s,o,a,l,u,p,i,k,v,m,_,r]}class en extends Ye{constructor(e){super(),Ge(this,e,vs,ks,ze,{customClasses:0,bgColor:1,round:2,btnSubmit:3,btnLink:4,path:5})}}function Ts(t){let e,n,i,r,s,o=ei(t[0])+"",a,l,u,p,k,v,m,_,b,w,L,M,N,G,O,R,D,I,Q,ve,we,x,V,z,De,X=t[7]&&xn(t);return{c(){e=S("div"),n=S("img"),r=q(),s=S("p"),a=$(o),u=q(),p=S("p"),k=$(t[4]),m=q(),_=S("p"),b=$(t[2]),L=q(),M=S("div"),N=S("div"),G=S("p"),O=$(t[6]),R=q(),X&&X.c(),D=q(),I=S("p"),Q=$(t[7]),E(n,"class","card-img svelte-lkh856"),qn(n.src,i=t[3])||E(n,"src",i),E(n,"alt","img of card"),E(s,"class",l="race "+t[0]+"-race svelte-lkh856"),E(p,"class",v="points "+t[0]+"-race svelte-lkh856"),E(_,"class",w="card-title "+t[0]+"-title svelte-lkh856"),E(G,"class","description svelte-lkh856"),E(N,"class","bottom-section-wrapper svelte-lkh856"),E(M,"class","card-bottom-section svelte-lkh856"),E(e,"class",ve="card bg-"+t[0]+(t[5]==="legendary"?"-rare":"")+" svelte-lkh856")},m(B,ge){j(B,e,ge),g(e,n),g(e,r),g(e,s),g(s,a),g(e,u),g(e,p),g(p,k),g(e,m),g(e,_),g(_,b),g(e,L),g(e,M),g(M,N),g(N,G),g(G,O),g(N,R),X&&X.m(N,null),g(N,D),g(N,I),g(I,Q),V=!0,z||(De=lt(e,"click",t[9]),z=!0)},p(B,ge){(!V||ge&8&&!qn(n.src,i=B[3]))&&E(n,"src",i),(!V||ge&1)&&o!==(o=ei(B[0])+"")&&Te(a,o),(!V||ge&1&&l!==(l="race "+B[0]+"-race svelte-lkh856"))&&E(s,"class",l),(!V||ge&16)&&Te(k,B[4]),(!V||ge&1&&v!==(v="points "+B[0]+"-race svelte-lkh856"))&&E(p,"class",v),(!V||ge&4)&&Te(b,B[2]),(!V||ge&1&&w!==(w="card-title "+B[0]+"-title svelte-lkh856"))&&E(_,"class",w),(!V||ge&64)&&Te(O,B[6]),B[7]?X?X.p(B,ge):(X=xn(B),X.c(),X.m(N,D)):X&&(X.d(1),X=null),(!V||ge&128)&&Te(Q,B[7]),(!V||ge&33&&ve!==(ve="card bg-"+B[0]+(B[5]==="legendary"?"-rare":"")+" svelte-lkh856"))&&E(e,"class",ve)},i(B){V||(Fe(()=>{V&&(x&&x.end(1),we=Fi(e,$i,{x:100}),we.start())}),V=!0)},o(B){we&&we.invalidate(),x=zi(e,Zt,{}),V=!1},d(B){B&&F(e),X&&X.d(),B&&x&&x.end(),z=!1,De()}}}function Es(t){let e,n,i,r,s,o;return{c(){e=S("div"),E(e,"class","card facedown bottom-deck svelte-lkh856")},m(a,l){j(a,e,l),r=!0,s||(o=lt(e,"click",t[11]),s=!0)},p:Z,i(a){r||(Fe(()=>{r&&(i&&i.end(1),n=Fi(e,$i,{x:100}),n.start())}),r=!0)},o(a){n&&n.invalidate(),i=zi(e,Zt,{}),r=!1},d(a){a&&F(e),a&&i&&i.end(),s=!1,o()}}}function xn(t){let e,n;return{c(){e=S("p"),n=$(t[8]),E(e,"class","special-trait svelte-lkh856")},m(i,r){j(i,e,r),g(e,n)},p(i,r){r&256&&Te(n,i[8])},d(i){i&&F(e)}}}function As(t){let e,n,i,r;const s=[Es,Ts],o=[];function a(l,u){return l[1]?1:0}return e=a(t),n=o[e]=s[e](t),{c(){n.c(),i=wt()},m(l,u){o[e].m(l,u),j(l,i,u),r=!0},p(l,[u]){let p=e;e=a(l),e===p?o[e].p(l,u):(be(),A(o[p],1,1,()=>{o[p]=null}),ye(),n=o[e],n?n.p(l,u):(n=o[e]=s[e](l),n.c()),T(n,1),n.m(i.parentNode,i))},i(l){r||(T(n),r=!0)},o(l){A(n),r=!1},d(l){o[e].d(l),l&&F(i)}}}function ei(t){const e=t[0].toUpperCase(),n=t.slice(1);return e+n}function Cs(t,e,n){let{faceUp:i=!0}=e,{displayTitle:r="Title here..."}=e,{title:s=""}=e,{img:o="/card-bg.png"}=e,{points:a=0}=e,{race:l="none"}=e,{rarity:u="common"}=e,{description:p=""}=e,{trait:k=""}=e,{traitTitle:v=""}=e;const m=Wi();function _(w){m("cardClick",{title:s,points:a,race:l,trait:k})}function b(w){Rt.call(this,t,w)}return t.$$set=w=>{"faceUp"in w&&n(1,i=w.faceUp),"displayTitle"in w&&n(2,r=w.displayTitle),"title"in w&&n(10,s=w.title),"img"in w&&n(3,o=w.img),"points"in w&&n(4,a=w.points),"race"in w&&n(0,l=w.race),"rarity"in w&&n(5,u=w.rarity),"description"in w&&n(6,p=w.description),"trait"in w&&n(7,k=w.trait),"traitTitle"in w&&n(8,v=w.traitTitle)},t.$$.update=()=>{t.$$.dirty&1&&l==="goblin-ish"&&n(0,l="goblin")},[l,i,r,o,a,u,p,k,v,_,s,b]}class Ne extends Ye{constructor(e){super(),Ge(this,e,Cs,As,ze,{faceUp:1,displayTitle:2,title:10,img:3,points:4,race:0,rarity:5,description:6,trait:7,traitTitle:8})}}const Ue=Object.create(null);Ue.open="0";Ue.close="1";Ue.ping="2";Ue.pong="3";Ue.message="4";Ue.upgrade="5";Ue.noop="6";const Kt=Object.create(null);Object.keys(Ue).forEach(t=>{Kt[Ue[t]]=t});const pn={type:"error",data:"parser error"},Xi=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Ji=typeof ArrayBuffer=="function",Qi=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,Cn=({type:t,data:e},n,i)=>Xi&&e instanceof Blob?n?i(e):ti(e,i):Ji&&(e instanceof ArrayBuffer||Qi(e))?n?i(e):ti(new Blob([e]),i):i(Ue[t]+(e||"")),ti=(t,e)=>{const n=new FileReader;return n.onload=function(){const i=n.result.split(",")[1];e("b"+(i||""))},n.readAsDataURL(t)};function ni(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let cn;function Ps(t,e){if(Xi&&t.data instanceof Blob)return t.data.arrayBuffer().then(ni).then(e);if(Ji&&(t.data instanceof ArrayBuffer||Qi(t.data)))return e(ni(t.data));Cn(t,!1,n=>{cn||(cn=new TextEncoder),e(cn.encode(n))})}const ii="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",St=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<ii.length;t++)St[ii.charCodeAt(t)]=t;const Rs=t=>{let e=t.length*.75,n=t.length,i,r=0,s,o,a,l;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const u=new ArrayBuffer(e),p=new Uint8Array(u);for(i=0;i<n;i+=4)s=St[t.charCodeAt(i)],o=St[t.charCodeAt(i+1)],a=St[t.charCodeAt(i+2)],l=St[t.charCodeAt(i+3)],p[r++]=s<<2|o>>4,p[r++]=(o&15)<<4|a>>2,p[r++]=(a&3)<<6|l&63;return u},Ss=typeof ArrayBuffer=="function",Pn=(t,e)=>{if(typeof t!="string")return{type:"message",data:Zi(t,e)};const n=t.charAt(0);return n==="b"?{type:"message",data:Os(t.substring(1),e)}:Kt[n]?t.length>1?{type:Kt[n],data:t.substring(1)}:{type:Kt[n]}:pn},Os=(t,e)=>{if(Ss){const n=Rs(t);return Zi(n,e)}else return{base64:!0,data:t}},Zi=(t,e)=>{switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},xi=String.fromCharCode(30),Bs=(t,e)=>{const n=t.length,i=new Array(n);let r=0;t.forEach((s,o)=>{Cn(s,!1,a=>{i[o]=a,++r===n&&e(i.join(xi))})})},Ls=(t,e)=>{const n=t.split(xi),i=[];for(let r=0;r<n.length;r++){const s=Pn(n[r],e);if(i.push(s),s.type==="error")break}return i};function Ns(){return new TransformStream({transform(t,e){Ps(t,n=>{const i=n.length;let r;if(i<126)r=new Uint8Array(1),new DataView(r.buffer).setUint8(0,i);else if(i<65536){r=new Uint8Array(3);const s=new DataView(r.buffer);s.setUint8(0,126),s.setUint16(1,i)}else{r=new Uint8Array(9);const s=new DataView(r.buffer);s.setUint8(0,127),s.setBigUint64(1,BigInt(i))}t.data&&typeof t.data!="string"&&(r[0]|=128),e.enqueue(r),e.enqueue(n)})}})}let un;function Ut(t){return t.reduce((e,n)=>e+n.length,0)}function Ht(t,e){if(t[0].length===e)return t.shift();const n=new Uint8Array(e);let i=0;for(let r=0;r<e;r++)n[r]=t[0][i++],i===t[0].length&&(t.shift(),i=0);return t.length&&i<t[0].length&&(t[0]=t[0].slice(i)),n}function Ds(t,e){un||(un=new TextDecoder);const n=[];let i=0,r=-1,s=!1;return new TransformStream({transform(o,a){for(n.push(o);;){if(i===0){if(Ut(n)<1)break;const l=Ht(n,1);s=(l[0]&128)===128,r=l[0]&127,r<126?i=3:r===126?i=1:i=2}else if(i===1){if(Ut(n)<2)break;const l=Ht(n,2);r=new DataView(l.buffer,l.byteOffset,l.length).getUint16(0),i=3}else if(i===2){if(Ut(n)<8)break;const l=Ht(n,8),u=new DataView(l.buffer,l.byteOffset,l.length),p=u.getUint32(0);if(p>Math.pow(2,53-32)-1){a.enqueue(pn);break}r=p*Math.pow(2,32)+u.getUint32(4),i=3}else{if(Ut(n)<r)break;const l=Ht(n,r);a.enqueue(Pn(s?l:un.decode(l),e)),i=0}if(r===0||r>t){a.enqueue(pn);break}}}})}const er=4;function me(t){if(t)return qs(t)}function qs(t){for(var e in me.prototype)t[e]=me.prototype[e];return t}me.prototype.on=me.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};me.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this};me.prototype.off=me.prototype.removeListener=me.prototype.removeAllListeners=me.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var i,r=0;r<n.length;r++)if(i=n[r],i===e||i.fn===e){n.splice(r,1);break}return n.length===0&&delete this._callbacks["$"+t],this};me.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(n){n=n.slice(0);for(var i=0,r=n.length;i<r;++i)n[i].apply(this,e)}return this};me.prototype.emitReserved=me.prototype.emit;me.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};me.prototype.hasListeners=function(t){return!!this.listeners(t).length};const Oe=(()=>typeof self<"u"?self:typeof window<"u"?window:Function("return this")())();function tr(t,...e){return e.reduce((n,i)=>(t.hasOwnProperty(i)&&(n[i]=t[i]),n),{})}const Ms=Oe.setTimeout,Is=Oe.clearTimeout;function tn(t,e){e.useNativeTimers?(t.setTimeoutFn=Ms.bind(Oe),t.clearTimeoutFn=Is.bind(Oe)):(t.setTimeoutFn=Oe.setTimeout.bind(Oe),t.clearTimeoutFn=Oe.clearTimeout.bind(Oe))}const Vs=1.33;function Us(t){return typeof t=="string"?Hs(t):Math.ceil((t.byteLength||t.size)*Vs)}function Hs(t){let e=0,n=0;for(let i=0,r=t.length;i<r;i++)e=t.charCodeAt(i),e<128?n+=1:e<2048?n+=2:e<55296||e>=57344?n+=3:(i++,n+=4);return n}function Ws(t){let e="";for(let n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e}function Fs(t){let e={},n=t.split("&");for(let i=0,r=n.length;i<r;i++){let s=n[i].split("=");e[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return e}class zs extends Error{constructor(e,n,i){super(e),this.description=n,this.context=i,this.type="TransportError"}}class Rn extends me{constructor(e){super(),this.writable=!1,tn(this,e),this.opts=e,this.query=e.query,this.socket=e.socket}onError(e,n,i){return super.emitReserved("error",new zs(e,n,i)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const n=Pn(e,this.socket.binaryType);this.onPacket(n)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,n={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const n=Ws(e);return n.length?"?"+n:""}}const nr="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),gn=64,Ks={};let ri=0,Wt=0,si;function oi(t){let e="";do e=nr[t%gn]+e,t=Math.floor(t/gn);while(t>0);return e}function ir(){const t=oi(+new Date);return t!==si?(ri=0,si=t):t+"."+oi(ri++)}for(;Wt<gn;Wt++)Ks[nr[Wt]]=Wt;let rr=!1;try{rr=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const js=rr;function sr(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||js))return new XMLHttpRequest}catch{}if(!e)try{return new Oe[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function Gs(){}const Ys=function(){return new sr({xdomain:!1}).responseType!=null}();class $s extends Rn{constructor(e){if(super(e),this.polling=!1,typeof location<"u"){const i=location.protocol==="https:";let r=location.port;r||(r=i?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||r!==e.port}const n=e&&e.forceBase64;this.supportsBinary=Ys&&!n,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";const n=()=>{this.readyState="paused",e()};if(this.polling||!this.writable){let i=0;this.polling&&(i++,this.once("pollComplete",function(){--i||n()})),this.writable||(i++,this.once("drain",function(){--i||n()}))}else n()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const n=i=>{if(this.readyState==="opening"&&i.type==="open"&&this.onOpen(),i.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(i)};Ls(e,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,Bs(e,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=ir()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(e,n)}request(e={}){return Object.assign(e,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new Ve(this.uri(),e)}doWrite(e,n){const i=this.request({method:"POST",data:e});i.on("success",n),i.on("error",(r,s)=>{this.onError("xhr post error",r,s)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(n,i)=>{this.onError("xhr poll error",n,i)}),this.pollXhr=e}}class Ve extends me{constructor(e,n){super(),tn(this,n),this.opts=n,this.method=n.method||"GET",this.uri=e,this.data=n.data!==void 0?n.data:null,this.create()}create(){var e;const n=tr(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this.opts.xd;const i=this.xhr=new sr(n);try{i.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){i.setDisableHeaderCheck&&i.setDisableHeaderCheck(!0);for(let r in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(r)&&i.setRequestHeader(r,this.opts.extraHeaders[r])}}catch{}if(this.method==="POST")try{i.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{i.setRequestHeader("Accept","*/*")}catch{}(e=this.opts.cookieJar)===null||e===void 0||e.addCookies(i),"withCredentials"in i&&(i.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(i.timeout=this.opts.requestTimeout),i.onreadystatechange=()=>{var r;i.readyState===3&&((r=this.opts.cookieJar)===null||r===void 0||r.parseCookies(i)),i.readyState===4&&(i.status===200||i.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof i.status=="number"?i.status:0)},0))},i.send(this.data)}catch(r){this.setTimeoutFn(()=>{this.onError(r)},0);return}typeof document<"u"&&(this.index=Ve.requestsCount++,Ve.requests[this.index]=this)}onError(e){this.emitReserved("error",e,this.xhr),this.cleanup(!0)}cleanup(e){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=Gs,e)try{this.xhr.abort()}catch{}typeof document<"u"&&delete Ve.requests[this.index],this.xhr=null}}onLoad(){const e=this.xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}Ve.requestsCount=0;Ve.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",ai);else if(typeof addEventListener=="function"){const t="onpagehide"in Oe?"pagehide":"unload";addEventListener(t,ai,!1)}}function ai(){for(let t in Ve.requests)Ve.requests.hasOwnProperty(t)&&Ve.requests[t].abort()}const Sn=(()=>typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,n)=>n(e,0))(),Ft=Oe.WebSocket||Oe.MozWebSocket,li=!0,Xs="arraybuffer",ci=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Js extends Rn{constructor(e){super(e),this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const e=this.uri(),n=this.opts.protocols,i=ci?{}:tr(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(i.headers=this.opts.extraHeaders);try{this.ws=li&&!ci?n?new Ft(e,n):new Ft(e):new Ft(e,n,i)}catch(r){return this.emitReserved("error",r)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const i=e[n],r=n===e.length-1;Cn(i,this.supportsBinary,s=>{const o={};try{li&&this.ws.send(s)}catch{}r&&Sn(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=ir()),this.supportsBinary||(n.b64=1),this.createUri(e,n)}check(){return!!Ft}}class Qs extends Rn{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(e=>{const n=Ds(Number.MAX_SAFE_INTEGER,this.socket.binaryType),i=e.readable.pipeThrough(n).getReader(),r=Ns();r.readable.pipeTo(e.writable),this.writer=r.writable.getWriter();const s=()=>{i.read().then(({done:a,value:l})=>{a||(this.onPacket(l),s())}).catch(a=>{})};s();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this.writer.write(o).then(()=>this.onOpen())})}))}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const i=e[n],r=n===e.length-1;this.writer.write(i).then(()=>{r&&Sn(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this.transport)===null||e===void 0||e.close()}}const Zs={websocket:Js,webtransport:Qs,polling:$s},xs=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,eo=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function mn(t){if(t.length>2e3)throw"URI too long";const e=t,n=t.indexOf("["),i=t.indexOf("]");n!=-1&&i!=-1&&(t=t.substring(0,n)+t.substring(n,i).replace(/:/g,";")+t.substring(i,t.length));let r=xs.exec(t||""),s={},o=14;for(;o--;)s[eo[o]]=r[o]||"";return n!=-1&&i!=-1&&(s.source=e,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=to(s,s.path),s.queryKey=no(s,s.query),s}function to(t,e){const n=/\/{2,9}/g,i=e.replace(n,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&i.splice(0,1),e.slice(-1)=="/"&&i.splice(i.length-1,1),i}function no(t,e){const n={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(i,r,s){r&&(n[r]=s)}),n}let or=class gt extends me{constructor(e,n={}){super(),this.binaryType=Xs,this.writeBuffer=[],e&&typeof e=="object"&&(n=e,e=null),e?(e=mn(e),n.hostname=e.host,n.secure=e.protocol==="https"||e.protocol==="wss",n.port=e.port,e.query&&(n.query=e.query)):n.host&&(n.hostname=mn(n.host).host),tn(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=n.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Fs(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(e){const n=Object.assign({},this.opts.query);n.EIO=er,n.transport=e,this.id&&(n.sid=this.id);const i=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new Zs[e](i)}open(){let e;if(this.opts.rememberUpgrade&&gt.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)e="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else e=this.transports[0];this.readyState="opening";try{e=this.createTransport(e)}catch{this.transports.shift(),this.open();return}e.open(),this.setTransport(e)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",n=>this.onClose("transport close",n))}probe(e){let n=this.createTransport(e),i=!1;gt.priorWebsocketSuccess=!1;const r=()=>{i||(n.send([{type:"ping",data:"probe"}]),n.once("packet",k=>{if(!i)if(k.type==="pong"&&k.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;gt.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{i||this.readyState!=="closed"&&(p(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const v=new Error("probe error");v.transport=n.name,this.emitReserved("upgradeError",v)}}))};function s(){i||(i=!0,p(),n.close(),n=null)}const o=k=>{const v=new Error("probe error: "+k);v.transport=n.name,s(),this.emitReserved("upgradeError",v)};function a(){o("transport closed")}function l(){o("socket closed")}function u(k){n&&k.name!==n.name&&s()}const p=()=>{n.removeListener("open",r),n.removeListener("error",o),n.removeListener("close",a),this.off("close",l),this.off("upgrading",u)};n.once("open",r),n.once("error",o),n.once("close",a),this.once("close",l),this.once("upgrading",u),this.upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{i||n.open()},200):n.open()}onOpen(){if(this.readyState="open",gt.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let e=0;const n=this.upgrades.length;for(;e<n;e++)this.probe(this.upgrades[e])}}onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),this.resetPingTimeout(),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const n=new Error("server error");n.code=e.data,this.onError(n);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this.getWritablePackets();this.transport.send(e),this.prevBufferLen=e.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let i=0;i<this.writeBuffer.length;i++){const r=this.writeBuffer[i].data;if(r&&(n+=Us(r)),i>0&&n>this.maxPayload)return this.writeBuffer.slice(0,i);n+=2}return this.writeBuffer}write(e,n,i){return this.sendPacket("message",e,n,i),this}send(e,n,i){return this.sendPacket("message",e,n,i),this}sendPacket(e,n,i,r){if(typeof n=="function"&&(r=n,n=void 0),typeof i=="function"&&(r=i,i=null),this.readyState==="closing"||this.readyState==="closed")return;i=i||{},i.compress=i.compress!==!1;const s={type:e,data:n,options:i};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),r&&this.once("flush",r),this.flush()}close(){const e=()=>{this.onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),e()},i=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?i():e()}):this.upgrading?i():e()),this}onError(e){gt.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}onClose(e,n){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",e,n),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(e){const n=[];let i=0;const r=e.length;for(;i<r;i++)~this.transports.indexOf(e[i])&&n.push(e[i]);return n}};or.protocol=er;function io(t,e="",n){let i=t;n=n||typeof location<"u"&&location,t==null&&(t=n.protocol+"//"+n.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=n.protocol+t:t=n.host+t),/^(https?|wss?):\/\//.test(t)||(typeof n<"u"?t=n.protocol+"//"+t:t="https://"+t),i=mn(t)),i.port||(/^(http|ws)$/.test(i.protocol)?i.port="80":/^(http|ws)s$/.test(i.protocol)&&(i.port="443")),i.path=i.path||"/";const s=i.host.indexOf(":")!==-1?"["+i.host+"]":i.host;return i.id=i.protocol+"://"+s+":"+i.port+e,i.href=i.protocol+"://"+s+(n&&n.port===i.port?"":":"+i.port),i}const ro=typeof ArrayBuffer=="function",so=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,ar=Object.prototype.toString,oo=typeof Blob=="function"||typeof Blob<"u"&&ar.call(Blob)==="[object BlobConstructor]",ao=typeof File=="function"||typeof File<"u"&&ar.call(File)==="[object FileConstructor]";function On(t){return ro&&(t instanceof ArrayBuffer||so(t))||oo&&t instanceof Blob||ao&&t instanceof File}function jt(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let n=0,i=t.length;n<i;n++)if(jt(t[n]))return!0;return!1}if(On(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return jt(t.toJSON(),!0);for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&jt(t[n]))return!0;return!1}function lo(t){const e=[],n=t.data,i=t;return i.data=_n(n,e),i.attachments=e.length,{packet:i,buffers:e}}function _n(t,e){if(!t)return t;if(On(t)){const n={_placeholder:!0,num:e.length};return e.push(t),n}else if(Array.isArray(t)){const n=new Array(t.length);for(let i=0;i<t.length;i++)n[i]=_n(t[i],e);return n}else if(typeof t=="object"&&!(t instanceof Date)){const n={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=_n(t[i],e));return n}return t}function co(t,e){return t.data=bn(t.data,e),delete t.attachments,t}function bn(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let n=0;n<t.length;n++)t[n]=bn(t[n],e);else if(typeof t=="object")for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(t[n]=bn(t[n],e));return t}const uo=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],fo=5;var W;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(W||(W={}));class ho{constructor(e){this.replacer=e}encode(e){return(e.type===W.EVENT||e.type===W.ACK)&&jt(e)?this.encodeAsBinary({type:e.type===W.EVENT?W.BINARY_EVENT:W.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let n=""+e.type;return(e.type===W.BINARY_EVENT||e.type===W.BINARY_ACK)&&(n+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(n+=e.nsp+","),e.id!=null&&(n+=e.id),e.data!=null&&(n+=JSON.stringify(e.data,this.replacer)),n}encodeAsBinary(e){const n=lo(e),i=this.encodeAsString(n.packet),r=n.buffers;return r.unshift(i),r}}function ui(t){return Object.prototype.toString.call(t)==="[object Object]"}class Bn extends me{constructor(e){super(),this.reviver=e}add(e){let n;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(e);const i=n.type===W.BINARY_EVENT;i||n.type===W.BINARY_ACK?(n.type=i?W.EVENT:W.ACK,this.reconstructor=new po(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(On(e)||e.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(e),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let n=0;const i={type:Number(e.charAt(0))};if(W[i.type]===void 0)throw new Error("unknown packet type "+i.type);if(i.type===W.BINARY_EVENT||i.type===W.BINARY_ACK){const s=n+1;for(;e.charAt(++n)!=="-"&&n!=e.length;);const o=e.substring(s,n);if(o!=Number(o)||e.charAt(n)!=="-")throw new Error("Illegal attachments");i.attachments=Number(o)}if(e.charAt(n+1)==="/"){const s=n+1;for(;++n&&!(e.charAt(n)===","||n===e.length););i.nsp=e.substring(s,n)}else i.nsp="/";const r=e.charAt(n+1);if(r!==""&&Number(r)==r){const s=n+1;for(;++n;){const o=e.charAt(n);if(o==null||Number(o)!=o){--n;break}if(n===e.length)break}i.id=Number(e.substring(s,n+1))}if(e.charAt(++n)){const s=this.tryParse(e.substr(n));if(Bn.isPayloadValid(i.type,s))i.data=s;else throw new Error("invalid payload")}return i}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,n){switch(e){case W.CONNECT:return ui(n);case W.DISCONNECT:return n===void 0;case W.CONNECT_ERROR:return typeof n=="string"||ui(n);case W.EVENT:case W.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&uo.indexOf(n[0])===-1);case W.ACK:case W.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class po{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const n=co(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const go=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Bn,Encoder:ho,get PacketType(){return W},protocol:fo},Symbol.toStringTag,{value:"Module"}));function Le(t,e,n){return t.on(e,n),function(){t.off(e,n)}}const mo=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class lr extends me{constructor(e,n,i){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=n,i&&i.auth&&(this.auth=i.auth),this._opts=Object.assign({},i),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[Le(e,"open",this.onopen.bind(this)),Le(e,"packet",this.onpacket.bind(this)),Le(e,"error",this.onerror.bind(this)),Le(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...n){if(mo.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(n.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const i={type:W.EVENT,data:n};if(i.options={},i.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const o=this.ids++,a=n.pop();this._registerAckCallback(o,a),i.id=o}const r=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!r||!this.connected)||(this.connected?(this.notifyOutgoingListeners(i),this.packet(i)):this.sendBuffer.push(i)),this.flags={},this}_registerAckCallback(e,n){var i;const r=(i=this.flags.timeout)!==null&&i!==void 0?i:this._opts.ackTimeout;if(r===void 0){this.acks[e]=n;return}const s=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let o=0;o<this.sendBuffer.length;o++)this.sendBuffer[o].id===e&&this.sendBuffer.splice(o,1);n.call(this,new Error("operation has timed out"))},r);this.acks[e]=(...o)=>{this.io.clearTimeoutFn(s),n.apply(this,[null,...o])}}emitWithAck(e,...n){const i=this.flags.timeout!==void 0||this._opts.ackTimeout!==void 0;return new Promise((r,s)=>{n.push((o,a)=>i?o?s(o):r(a):r(o)),this.emit(e,...n)})}_addToQueue(e){let n;typeof e[e.length-1]=="function"&&(n=e.pop());const i={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((r,...s)=>i!==this._queue[0]?void 0:(r!==null?i.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(r)):(this._queue.shift(),n&&n(null,...s)),i.pending=!1,this._drainQueue())),this._queue.push(i),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!e||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:W.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,n)}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case W.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case W.EVENT:case W.BINARY_EVENT:this.onevent(e);break;case W.ACK:case W.BINARY_ACK:this.onack(e);break;case W.DISCONNECT:this.ondisconnect();break;case W.CONNECT_ERROR:this.destroy();const i=new Error(e.data.message);i.data=e.data.data,this.emitReserved("connect_error",i);break}}onevent(e){const n=e.data||[];e.id!=null&&n.push(this.ack(e.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const i of n)i.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const n=this;let i=!1;return function(...r){i||(i=!0,n.packet({type:W.ACK,id:e,data:r}))}}onack(e){const n=this.acks[e.id];typeof n=="function"&&(n.apply(this,e.data),delete this.acks[e.id])}onconnect(e,n){this.id=e,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:W.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const n=this._anyListeners;for(let i=0;i<n.length;i++)if(e===n[i])return n.splice(i,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const n=this._anyOutgoingListeners;for(let i=0;i<n.length;i++)if(e===n[i])return n.splice(i,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const i of n)i.apply(this,e.data)}}}function vt(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}vt.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=Math.floor(e*10)&1?t+n:t-n}return Math.min(t,this.max)|0};vt.prototype.reset=function(){this.attempts=0};vt.prototype.setMin=function(t){this.ms=t};vt.prototype.setMax=function(t){this.max=t};vt.prototype.setJitter=function(t){this.jitter=t};class yn extends me{constructor(e,n){var i;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(n=e,e=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,tn(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((i=n.randomizationFactor)!==null&&i!==void 0?i:.5),this.backoff=new vt({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=e;const r=n.parser||go;this.encoder=new r.Encoder,this.decoder=new r.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var n;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(n=this.backoff)===null||n===void 0||n.setMin(e),this)}randomizationFactor(e){var n;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(n=this.backoff)===null||n===void 0||n.setJitter(e),this)}reconnectionDelayMax(e){var n;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(n=this.backoff)===null||n===void 0||n.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new or(this.uri,this.opts);const n=this.engine,i=this;this._readyState="opening",this.skipReconnect=!1;const r=Le(n,"open",function(){i.onopen(),e&&e()}),s=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),e?e(a):this.maybeReconnectOnOpen()},o=Le(n,"error",s);if(this._timeout!==!1){const a=this._timeout,l=this.setTimeoutFn(()=>{r(),s(new Error("timeout")),n.close()},a);this.opts.autoUnref&&l.unref(),this.subs.push(()=>{this.clearTimeoutFn(l)})}return this.subs.push(r),this.subs.push(o),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(Le(e,"ping",this.onping.bind(this)),Le(e,"data",this.ondata.bind(this)),Le(e,"error",this.onerror.bind(this)),Le(e,"close",this.onclose.bind(this)),Le(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(n){this.onclose("parse error",n)}}ondecoded(e){Sn(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,n){let i=this.nsps[e];return i?this._autoConnect&&!i.active&&i.connect():(i=new lr(this,e,n),this.nsps[e]=i),i}_destroy(e){const n=Object.keys(this.nsps);for(const i of n)if(this.nsps[i].active)return;this._close()}_packet(e){const n=this.encoder.encode(e);for(let i=0;i<n.length;i++)this.engine.write(n[i],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e,n){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const i=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(r=>{r?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",r)):e.onreconnect()}))},n);this.opts.autoUnref&&i.unref(),this.subs.push(()=>{this.clearTimeoutFn(i)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Pt={};function Gt(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const n=io(t,e.path||"/socket.io"),i=n.source,r=n.id,s=n.path,o=Pt[r]&&s in Pt[r].nsps,a=e.forceNew||e["force new connection"]||e.multiplex===!1||o;let l;return a?l=new yn(i,e):(Pt[r]||(Pt[r]=new yn(i,e)),l=Pt[r]),n.query&&!e.query&&(e.query=n.queryKey),l.socket(n.path,e)}Object.assign(Gt,{Manager:yn,Socket:lr,io:Gt,connect:Gt});function fi(t,e,n){const i=t.slice();return i[49]=e[n],i}function hi(t,e,n){const i=t.slice();return i[49]=e[n],i}function di(t,e,n){const i=t.slice();return i[49]=e[n],i}function pi(t,e,n){const i=t.slice();return i[49]=e[n],i}function gi(t,e,n){const i=t.slice();return i[49]=e[n],i}function mi(t,e,n){const i=t.slice();return i[49]=e[n],i}function _i(t,e,n){const i=t.slice();return i[49]=e[n],i}function bi(t,e,n){const i=t.slice();return i[49]=e[n],i}function yi(t,e,n){const i=t.slice();return i[49]=e[n],i}function wi(t,e,n){const i=t.slice();return i[49]=e[n],i}function _o(t){let e,n;return e=new en({props:{customClasses:"btn__green_disabled w-25",$$slots:{default:[yo]},$$scope:{ctx:t}}}),{c(){pe(e.$$.fragment)},m(i,r){te(e,i,r),n=!0},p(i,r){const s={};r[2]&256&&(s.$$scope={dirty:r,ctx:i}),e.$set(s)},i(i){n||(T(e.$$.fragment,i),n=!0)},o(i){A(e.$$.fragment,i),n=!1},d(i){ne(e,i)}}}function bo(t){let e,n;return e=new en({props:{customClasses:"btn__green w-25",$$slots:{default:[wo]},$$scope:{ctx:t}}}),e.$on("click",t[10]),{c(){pe(e.$$.fragment)},m(i,r){te(e,i,r),n=!0},p(i,r){const s={};r[2]&256&&(s.$$scope={dirty:r,ctx:i}),e.$set(s)},i(i){n||(T(e.$$.fragment,i),n=!0)},o(i){A(e.$$.fragment,i),n=!1},d(i){ne(e,i)}}}function yo(t){let e;return{c(){e=$("Game in progress...")},m(n,i){j(n,e,i)},d(n){n&&F(e)}}}function wo(t){let e;return{c(){e=$("Start game")},m(n,i){j(n,e,i)},d(n){n&&F(e)}}}function ko(t){let e,n,i,r,s,o,a,l,u,p,k,v,m,_,b,w,L,M,N=Math.ceil(t[8])+"",G,O,R,D,I,Q,ve,we,x,V=t[1].hand,z=[];for(let P=0;P<V.length;P+=1)z[P]=ki(hi(t,V,P));const De=P=>A(z[P],1,1,()=>{z[P]=null});let X=t[0].hand,B=[];for(let P=0;P<X.length;P+=1)B[P]=vi(fi(t,X,P));const ge=P=>A(B[P],1,1,()=>{B[P]=null});R=new Ne({props:{faceUp:!1}}),R.$on("click",t[12]);const He=[Eo,To],Ee=[];function Be(P,U){return P[3]||P[8]<3?0:1}I=Be(t),Q=Ee[I]=He[I](t);let J=t[4]&&Ti(t);return{c(){e=S("div"),n=S("div"),i=S("p"),r=$("Player 1"),o=q();for(let P=0;P<z.length;P+=1)z[P].c();l=q(),u=S("div"),p=S("p"),k=$("Player 2"),m=q();for(let P=0;P<B.length;P+=1)B[P].c();b=q(),w=S("div"),L=S("h1"),M=$("Turn "),G=$(N),O=q(),pe(R.$$.fragment),D=q(),Q.c(),ve=q(),J&&J.c(),E(i,"class",s="p1-name "+(t[1].turn?"turn-active":"")+" svelte-1ou3wgq"),E(n,"class",a="card-section card-section__ally "+(t[1].turn||t[1].justWon?"section-active":"")+" svelte-1ou3wgq"),E(p,"class",v="p2-name "+(t[0].turn?"turn-active":"")+" svelte-1ou3wgq"),E(u,"class",_="card-section card-section__enemy "+(t[0].turn||t[0].justWon?"section-active":"")+" svelte-1ou3wgq"),E(L,"class","turn-count svelte-1ou3wgq"),E(w,"class","game-buttons svelte-1ou3wgq"),E(e,"class",we="game-board "+(t[2]?"gobble-declared":"")+" svelte-1ou3wgq")},m(P,U){j(P,e,U),g(e,n),g(n,i),g(i,r),g(n,o);for(let _e=0;_e<z.length;_e+=1)z[_e]&&z[_e].m(n,null);g(e,l),g(e,u),g(u,p),g(p,k),g(u,m);for(let _e=0;_e<B.length;_e+=1)B[_e]&&B[_e].m(u,null);g(e,b),g(e,w),g(w,L),g(L,M),g(L,G),g(w,O),te(R,w,null),g(w,D),Ee[I].m(w,null),g(e,ve),J&&J.m(e,null),x=!0},p(P,U){if((!x||U[0]&2&&s!==(s="p1-name "+(P[1].turn?"turn-active":"")+" svelte-1ou3wgq"))&&E(i,"class",s),U[0]&10786){V=P[1].hand;let H;for(H=0;H<V.length;H+=1){const qe=hi(P,V,H);z[H]?(z[H].p(qe,U),T(z[H],1)):(z[H]=ki(qe),z[H].c(),T(z[H],1),z[H].m(n,null))}for(be(),H=V.length;H<z.length;H+=1)De(H);ye()}if((!x||U[0]&2&&a!==(a="card-section card-section__ally "+(P[1].turn||P[1].justWon?"section-active":"")+" svelte-1ou3wgq"))&&E(n,"class",a),(!x||U[0]&1&&v!==(v="p2-name "+(P[0].turn?"turn-active":"")+" svelte-1ou3wgq"))&&E(p,"class",v),U[0]&10785){X=P[0].hand;let H;for(H=0;H<X.length;H+=1){const qe=fi(P,X,H);B[H]?(B[H].p(qe,U),T(B[H],1)):(B[H]=vi(qe),B[H].c(),T(B[H],1),B[H].m(u,null))}for(be(),H=X.length;H<B.length;H+=1)ge(H);ye()}(!x||U[0]&1&&_!==(_="card-section card-section__enemy "+(P[0].turn||P[0].justWon?"section-active":"")+" svelte-1ou3wgq"))&&E(u,"class",_),(!x||U[0]&256)&&N!==(N=Math.ceil(P[8])+"")&&Te(G,N);let _e=I;I=Be(P),I===_e?Ee[I].p(P,U):(be(),A(Ee[_e],1,1,()=>{Ee[_e]=null}),ye(),Q=Ee[I],Q?Q.p(P,U):(Q=Ee[I]=He[I](P),Q.c()),T(Q,1),Q.m(w,null)),P[4]?J?J.p(P,U):(J=Ti(P),J.c(),J.m(e,null)):J&&(J.d(1),J=null),(!x||U[0]&4&&we!==(we="game-board "+(P[2]?"gobble-declared":"")+" svelte-1ou3wgq"))&&E(e,"class",we)},i(P){if(!x){for(let U=0;U<V.length;U+=1)T(z[U]);for(let U=0;U<X.length;U+=1)T(B[U]);T(R.$$.fragment,P),T(Q),x=!0}},o(P){z=z.filter(Boolean);for(let U=0;U<z.length;U+=1)A(z[U]);B=B.filter(Boolean);for(let U=0;U<B.length;U+=1)A(B[U]);A(R.$$.fragment,P),A(Q),x=!1},d(P){P&&F(e),Me(z,P),Me(B,P),ne(R),Ee[I].d(),J&&J.d()}}}function vo(t){let e,n,i,r,s,o,a,l,u,p,k,v,m,_,b=t[1].wins+"",w,L,M=t[1].losses+"",N,G,O=t[1].draws+"",R,D,I,Q,ve=t[0].wins+"",we,x,V=t[0].losses+"",z,De,X=t[0].draws+"",B,ge,He,Ee,Be,J,P,U,_e,H,qe,Lt,Ae,ct,Nt,ut,ft,Dt,qt,c,d,C,Y,Ce,K,Tt,Et,Re,Mt,Ln,nn,It,Nn,Ke,Se,$e=t[1].startingHand,ie=[];for(let h=0;h<$e.length;h+=1)ie[h]=Ei(wi(t,$e,h));const cr=h=>A(ie[h],1,1,()=>{ie[h]=null});let Xe=t[1].cardsDrawn,re=[];for(let h=0;h<Xe.length;h+=1)re[h]=Ai(yi(t,Xe,h));const ur=h=>A(re[h],1,1,()=>{re[h]=null});let Je=t[1].hand,se=[];for(let h=0;h<Je.length;h+=1)se[h]=Ci(bi(t,Je,h));const fr=h=>A(se[h],1,1,()=>{se[h]=null});let Qe=t[1].discards,oe=[];for(let h=0;h<Qe.length;h+=1)oe[h]=Pi(_i(t,Qe,h));const hr=h=>A(oe[h],1,1,()=>{oe[h]=null});let Ze=t[0].startingHand,ae=[];for(let h=0;h<Ze.length;h+=1)ae[h]=Ri(mi(t,Ze,h));const dr=h=>A(ae[h],1,1,()=>{ae[h]=null});let xe=t[0].cardsDrawn,le=[];for(let h=0;h<xe.length;h+=1)le[h]=Si(gi(t,xe,h));const pr=h=>A(le[h],1,1,()=>{le[h]=null});let et=t[0].hand,ce=[];for(let h=0;h<et.length;h+=1)ce[h]=Oi(pi(t,et,h));const gr=h=>A(ce[h],1,1,()=>{ce[h]=null});let tt=t[0].discards,ue=[];for(let h=0;h<tt.length;h+=1)ue[h]=Bi(di(t,tt,h));const mr=h=>A(ue[h],1,1,()=>{ue[h]=null});return{c(){e=S("div"),n=S("div"),i=S("div"),r=S("p"),s=$(t[6]),o=q(),a=S("p"),l=$(t[7]),u=q(),p=S("h2"),p.textContent="Player 1",k=q(),v=S("div"),m=S("p"),_=$("Player 1 Win/Lose/Draw: "),w=$(b),L=$("/"),N=$(M),G=$("/"),R=$(O),D=q(),I=S("p"),Q=$("Player 2 Win/Lose/Draw: "),we=$(ve),x=$("/"),z=$(V),De=$("/"),B=$(X),ge=q(),He=S("h2"),He.textContent="Player 2",Ee=q(),Be=S("div"),J=S("div"),P=S("p"),P.textContent="Starting Hand:",U=q();for(let h=0;h<ie.length;h+=1)ie[h].c();_e=q(),H=S("p"),H.textContent="Cards drawn:",qe=q();for(let h=0;h<re.length;h+=1)re[h].c();Lt=q(),Ae=S("div"),ct=S("p"),ct.textContent="Final Hand:",Nt=q();for(let h=0;h<se.length;h+=1)se[h].c();ut=q(),ft=S("p"),ft.textContent="Cards discarded:",Dt=q();for(let h=0;h<oe.length;h+=1)oe[h].c();qt=q(),c=S("div"),d=S("div"),C=S("p"),C.textContent="Starting Hand:",Y=q();for(let h=0;h<ae.length;h+=1)ae[h].c();Ce=q(),K=S("p"),K.textContent="Cards drawn:",Tt=q();for(let h=0;h<le.length;h+=1)le[h].c();Et=q(),Re=S("div"),Mt=S("p"),Mt.textContent="Final Hand:",Ln=q();for(let h=0;h<ce.length;h+=1)ce[h].c();nn=q(),It=S("p"),It.textContent="Cards discarded:",Nn=q();for(let h=0;h<ue.length;h+=1)ue[h].c();E(p,"class","results-player-floating-header results-player-float-left svelte-1ou3wgq"),E(He,"class","results-player-floating-header results-player-float-right svelte-1ou3wgq"),E(n,"class","results-messages-flex-wrapper svelte-1ou3wgq"),E(P,"class","history__small-header svelte-1ou3wgq"),E(H,"class","history__small-header svelte-1ou3wgq"),E(J,"class","history__cards-drawn"),E(ct,"class","history__small-header svelte-1ou3wgq"),E(ft,"class","history__small-header svelte-1ou3wgq"),E(Ae,"class","history__cards-discarded"),E(Be,"class","player-history-wrapper svelte-1ou3wgq"),E(C,"class","history__small-header svelte-1ou3wgq"),E(K,"class","history__small-header svelte-1ou3wgq"),E(d,"class","history__cards-drawn"),E(Mt,"class","history__small-header svelte-1ou3wgq"),E(It,"class","history__small-header svelte-1ou3wgq"),E(Re,"class","history__cards-discarded"),E(c,"class","player-history-wrapper svelte-1ou3wgq"),E(e,"class","results-screen svelte-1ou3wgq")},m(h,y){j(h,e,y),g(e,n),g(n,i),g(i,r),g(r,s),g(i,o),g(i,a),g(a,l),g(i,u),g(i,p),g(n,k),g(n,v),g(v,m),g(m,_),g(m,w),g(m,L),g(m,N),g(m,G),g(m,R),g(v,D),g(v,I),g(I,Q),g(I,we),g(I,x),g(I,z),g(I,De),g(I,B),g(v,ge),g(v,He),g(e,Ee),g(e,Be),g(Be,J),g(J,P),g(J,U);for(let f=0;f<ie.length;f+=1)ie[f]&&ie[f].m(J,null);g(J,_e),g(J,H),g(J,qe);for(let f=0;f<re.length;f+=1)re[f]&&re[f].m(J,null);g(Be,Lt),g(Be,Ae),g(Ae,ct),g(Ae,Nt);for(let f=0;f<se.length;f+=1)se[f]&&se[f].m(Ae,null);g(Ae,ut),g(Ae,ft),g(Ae,Dt);for(let f=0;f<oe.length;f+=1)oe[f]&&oe[f].m(Ae,null);g(e,qt),g(e,c),g(c,d),g(d,C),g(d,Y);for(let f=0;f<ae.length;f+=1)ae[f]&&ae[f].m(d,null);g(d,Ce),g(d,K),g(d,Tt);for(let f=0;f<le.length;f+=1)le[f]&&le[f].m(d,null);g(c,Et),g(c,Re),g(Re,Mt),g(Re,Ln);for(let f=0;f<ce.length;f+=1)ce[f]&&ce[f].m(Re,null);g(Re,nn),g(Re,It),g(Re,Nn);for(let f=0;f<ue.length;f+=1)ue[f]&&ue[f].m(Re,null);Se=!0},p(h,y){if((!Se||y[0]&64)&&Te(s,h[6]),(!Se||y[0]&128)&&Te(l,h[7]),(!Se||y[0]&2)&&b!==(b=h[1].wins+"")&&Te(w,b),(!Se||y[0]&2)&&M!==(M=h[1].losses+"")&&Te(N,M),(!Se||y[0]&2)&&O!==(O=h[1].draws+"")&&Te(R,O),(!Se||y[0]&1)&&ve!==(ve=h[0].wins+"")&&Te(we,ve),(!Se||y[0]&1)&&V!==(V=h[0].losses+"")&&Te(z,V),(!Se||y[0]&1)&&X!==(X=h[0].draws+"")&&Te(B,X),y[0]&33282){$e=h[1].startingHand;let f;for(f=0;f<$e.length;f+=1){const ee=wi(h,$e,f);ie[f]?(ie[f].p(ee,y),T(ie[f],1)):(ie[f]=Ei(ee),ie[f].c(),T(ie[f],1),ie[f].m(J,_e))}for(be(),f=$e.length;f<ie.length;f+=1)cr(f);ye()}if(y[0]&33282){Xe=h[1].cardsDrawn;let f;for(f=0;f<Xe.length;f+=1){const ee=yi(h,Xe,f);re[f]?(re[f].p(ee,y),T(re[f],1)):(re[f]=Ai(ee),re[f].c(),T(re[f],1),re[f].m(J,null))}for(be(),f=Xe.length;f<re.length;f+=1)ur(f);ye()}if(y[0]&33282){Je=h[1].hand;let f;for(f=0;f<Je.length;f+=1){const ee=bi(h,Je,f);se[f]?(se[f].p(ee,y),T(se[f],1)):(se[f]=Ci(ee),se[f].c(),T(se[f],1),se[f].m(Ae,ut))}for(be(),f=Je.length;f<se.length;f+=1)fr(f);ye()}if(y[0]&33282){Qe=h[1].discards;let f;for(f=0;f<Qe.length;f+=1){const ee=_i(h,Qe,f);oe[f]?(oe[f].p(ee,y),T(oe[f],1)):(oe[f]=Pi(ee),oe[f].c(),T(oe[f],1),oe[f].m(Ae,null))}for(be(),f=Qe.length;f<oe.length;f+=1)hr(f);ye()}if(y[0]&33281){Ze=h[0].startingHand;let f;for(f=0;f<Ze.length;f+=1){const ee=mi(h,Ze,f);ae[f]?(ae[f].p(ee,y),T(ae[f],1)):(ae[f]=Ri(ee),ae[f].c(),T(ae[f],1),ae[f].m(d,Ce))}for(be(),f=Ze.length;f<ae.length;f+=1)dr(f);ye()}if(y[0]&33281){xe=h[0].cardsDrawn;let f;for(f=0;f<xe.length;f+=1){const ee=gi(h,xe,f);le[f]?(le[f].p(ee,y),T(le[f],1)):(le[f]=Si(ee),le[f].c(),T(le[f],1),le[f].m(d,null))}for(be(),f=xe.length;f<le.length;f+=1)pr(f);ye()}if(y[0]&33281){et=h[0].hand;let f;for(f=0;f<et.length;f+=1){const ee=pi(h,et,f);ce[f]?(ce[f].p(ee,y),T(ce[f],1)):(ce[f]=Oi(ee),ce[f].c(),T(ce[f],1),ce[f].m(Re,nn))}for(be(),f=et.length;f<ce.length;f+=1)gr(f);ye()}if(y[0]&33281){tt=h[0].discards;let f;for(f=0;f<tt.length;f+=1){const ee=di(h,tt,f);ue[f]?(ue[f].p(ee,y),T(ue[f],1)):(ue[f]=Bi(ee),ue[f].c(),T(ue[f],1),ue[f].m(Re,null))}for(be(),f=tt.length;f<ue.length;f+=1)mr(f);ye()}},i(h){if(!Se){for(let y=0;y<$e.length;y+=1)T(ie[y]);for(let y=0;y<Xe.length;y+=1)T(re[y]);for(let y=0;y<Je.length;y+=1)T(se[y]);for(let y=0;y<Qe.length;y+=1)T(oe[y]);for(let y=0;y<Ze.length;y+=1)T(ae[y]);for(let y=0;y<xe.length;y+=1)T(le[y]);for(let y=0;y<et.length;y+=1)T(ce[y]);for(let y=0;y<tt.length;y+=1)T(ue[y]);Fe(()=>{Se&&(Ke||(Ke=Fn(e,Zt,{},!0)),Ke.run(1))}),Se=!0}},o(h){ie=ie.filter(Boolean);for(let y=0;y<ie.length;y+=1)A(ie[y]);re=re.filter(Boolean);for(let y=0;y<re.length;y+=1)A(re[y]);se=se.filter(Boolean);for(let y=0;y<se.length;y+=1)A(se[y]);oe=oe.filter(Boolean);for(let y=0;y<oe.length;y+=1)A(oe[y]);ae=ae.filter(Boolean);for(let y=0;y<ae.length;y+=1)A(ae[y]);le=le.filter(Boolean);for(let y=0;y<le.length;y+=1)A(le[y]);ce=ce.filter(Boolean);for(let y=0;y<ce.length;y+=1)A(ce[y]);ue=ue.filter(Boolean);for(let y=0;y<ue.length;y+=1)A(ue[y]);Ke||(Ke=Fn(e,Zt,{},!1)),Ke.run(0),Se=!1},d(h){h&&F(e),Me(ie,h),Me(re,h),Me(se,h),Me(oe,h),Me(ae,h),Me(le,h),Me(ce,h),Me(ue,h),h&&Ke&&Ke.end()}}}function ki(t){let e,n;return e=new Ne({props:{faceUp:t[11]("p1")||t[5],displayTitle:t[9][t[49]].displayTitle,title:t[9][t[49]].title,img:t[9][t[49]].image,trait:t[9][t[49]].trait,traitTitle:t[9][t[49]].traitTitle,description:t[9][t[49]].description,race:t[9][t[49]].race,rarity:t[9][t[49]].rarity,points:t[9][t[49]].points}}),e.$on("cardClick",t[16]),{c(){pe(e.$$.fragment)},m(i,r){te(e,i,r),n=!0},p(i,r){const s={};r[0]&32&&(s.faceUp=i[11]("p1")||i[5]),r[0]&514&&(s.displayTitle=i[9][i[49]].displayTitle),r[0]&514&&(s.title=i[9][i[49]].title),r[0]&514&&(s.img=i[9][i[49]].image),r[0]&514&&(s.trait=i[9][i[49]].trait),r[0]&514&&(s.traitTitle=i[9][i[49]].traitTitle),r[0]&514&&(s.description=i[9][i[49]].description),r[0]&514&&(s.race=i[9][i[49]].race),r[0]&514&&(s.rarity=i[9][i[49]].rarity),r[0]&514&&(s.points=i[9][i[49]].points),e.$set(s)},i(i){n||(T(e.$$.fragment,i),n=!0)},o(i){A(e.$$.fragment,i),n=!1},d(i){ne(e,i)}}}function vi(t){let e,n;return e=new Ne({props:{faceUp:t[11]("p2")||t[5],displayTitle:t[9][t[49]].displayTitle,title:t[9][t[49]].title,img:t[9][t[49]].image,trait:t[9][t[49]].trait,traitTitle:t[9][t[49]].traitTitle,description:t[9][t[49]].description,race:t[9][t[49]].race,rarity:t[9][t[49]].rarity,points:t[9][t[49]].points}}),e.$on("cardClick",t[17]),{c(){pe(e.$$.fragment)},m(i,r){te(e,i,r),n=!0},p(i,r){const s={};r[0]&32&&(s.faceUp=i[11]("p2")||i[5]),r[0]&513&&(s.displayTitle=i[9][i[49]].displayTitle),r[0]&513&&(s.title=i[9][i[49]].title),r[0]&513&&(s.img=i[9][i[49]].image),r[0]&513&&(s.trait=i[9][i[49]].trait),r[0]&513&&(s.traitTitle=i[9][i[49]].traitTitle),r[0]&513&&(s.description=i[9][i[49]].description),r[0]&513&&(s.race=i[9][i[49]].race),r[0]&513&&(s.rarity=i[9][i[49]].rarity),r[0]&513&&(s.points=i[9][i[49]].points),e.$set(s)},i(i){n||(T(e.$$.fragment,i),n=!0)},o(i){A(e.$$.fragment,i),n=!1},d(i){ne(e,i)}}}function To(t){let e,n;return e=new en({props:{round:!0,customClasses:"btn__orange",$$slots:{default:[Ao]},$$scope:{ctx:t}}}),e.$on("click",t[14]),{c(){pe(e.$$.fragment)},m(i,r){te(e,i,r),n=!0},p(i,r){const s={};r[2]&256&&(s.$$scope={dirty:r,ctx:i}),e.$set(s)},i(i){n||(T(e.$$.fragment,i),n=!0)},o(i){A(e.$$.fragment,i),n=!1},d(i){ne(e,i)}}}function Eo(t){let e,n;return e=new en({props:{round:!0,customClasses:"btn__orange_disabled",$$slots:{default:[Co]},$$scope:{ctx:t}}}),{c(){pe(e.$$.fragment)},m(i,r){te(e,i,r),n=!0},p(i,r){const s={};r[2]&256&&(s.$$scope={dirty:r,ctx:i}),e.$set(s)},i(i){n||(T(e.$$.fragment,i),n=!0)},o(i){A(e.$$.fragment,i),n=!1},d(i){ne(e,i)}}}function Ao(t){let e;return{c(){e=$("Gobbledegook!")},m(n,i){j(n,e,i)},d(n){n&&F(e)}}}function Co(t){let e;return{c(){e=$("Gobbledegook!")},m(n,i){j(n,e,i)},d(n){n&&F(e)}}}function Ti(t){let e,n=t[1].turn?"Player 1":"Player 2",i,r;return{c(){e=S("p"),i=$(n),r=S("span"),r.textContent="'s turn",E(r,"class","svelte-1ou3wgq"),E(e,"class","turn-text svelte-1ou3wgq")},m(s,o){j(s,e,o),g(e,i),g(e,r)},p(s,o){o[0]&2&&n!==(n=s[1].turn?"Player 1":"Player 2")&&Te(i,n)},d(s){s&&F(e)}}}function Ei(t){let e,n,i;return n=new Ne({props:{displayTitle:t[9][t[49]].displayTitle,title:t[9][t[49]].title,img:t[9][t[49]].image,race:t[9][t[49]].race,rarity:t[9][t[49]].rarity,points:t[15](t[49],"p1")}}),{c(){e=S("div"),pe(n.$$.fragment),E(e,"class","history__card-wrapper svelte-1ou3wgq")},m(r,s){j(r,e,s),te(n,e,null),i=!0},p(r,s){const o={};s[0]&514&&(o.displayTitle=r[9][r[49]].displayTitle),s[0]&514&&(o.title=r[9][r[49]].title),s[0]&514&&(o.img=r[9][r[49]].image),s[0]&514&&(o.race=r[9][r[49]].race),s[0]&514&&(o.rarity=r[9][r[49]].rarity),s[0]&2&&(o.points=r[15](r[49],"p1")),n.$set(o)},i(r){i||(T(n.$$.fragment,r),i=!0)},o(r){A(n.$$.fragment,r),i=!1},d(r){r&&F(e),ne(n)}}}function Ai(t){let e,n,i,r;return n=new Ne({props:{displayTitle:t[9][t[49]].displayTitle,title:t[9][t[49]].title,img:t[9][t[49]].image,race:t[9][t[49]].race,rarity:t[9][t[49]].rarity,points:t[15](t[49],"p1")}}),{c(){e=S("div"),pe(n.$$.fragment),i=q(),E(e,"class","history__card-wrapper svelte-1ou3wgq")},m(s,o){j(s,e,o),te(n,e,null),g(e,i),r=!0},p(s,o){const a={};o[0]&514&&(a.displayTitle=s[9][s[49]].displayTitle),o[0]&514&&(a.title=s[9][s[49]].title),o[0]&514&&(a.img=s[9][s[49]].image),o[0]&514&&(a.race=s[9][s[49]].race),o[0]&514&&(a.rarity=s[9][s[49]].rarity),o[0]&2&&(a.points=s[15](s[49],"p1")),n.$set(a)},i(s){r||(T(n.$$.fragment,s),r=!0)},o(s){A(n.$$.fragment,s),r=!1},d(s){s&&F(e),ne(n)}}}function Ci(t){let e,n,i,r;return n=new Ne({props:{displayTitle:t[9][t[49]].displayTitle,title:t[9][t[49]].title,img:t[9][t[49]].image,race:t[9][t[49]].race,rarity:t[9][t[49]].rarity,points:t[15](t[49],"p1")}}),{c(){e=S("div"),pe(n.$$.fragment),i=q(),E(e,"class","history__card-wrapper svelte-1ou3wgq")},m(s,o){j(s,e,o),te(n,e,null),g(e,i),r=!0},p(s,o){const a={};o[0]&514&&(a.displayTitle=s[9][s[49]].displayTitle),o[0]&514&&(a.title=s[9][s[49]].title),o[0]&514&&(a.img=s[9][s[49]].image),o[0]&514&&(a.race=s[9][s[49]].race),o[0]&514&&(a.rarity=s[9][s[49]].rarity),o[0]&2&&(a.points=s[15](s[49],"p1")),n.$set(a)},i(s){r||(T(n.$$.fragment,s),r=!0)},o(s){A(n.$$.fragment,s),r=!1},d(s){s&&F(e),ne(n)}}}function Pi(t){let e,n,i,r;return n=new Ne({props:{displayTitle:t[9][t[49]].displayTitle,title:t[9][t[49]].title,img:t[9][t[49]].image,race:t[9][t[49]].race,rarity:t[9][t[49]].rarity,points:t[15](t[49],"p1")}}),{c(){e=S("div"),pe(n.$$.fragment),i=q(),E(e,"class","history__card-wrapper svelte-1ou3wgq")},m(s,o){j(s,e,o),te(n,e,null),g(e,i),r=!0},p(s,o){const a={};o[0]&514&&(a.displayTitle=s[9][s[49]].displayTitle),o[0]&514&&(a.title=s[9][s[49]].title),o[0]&514&&(a.img=s[9][s[49]].image),o[0]&514&&(a.race=s[9][s[49]].race),o[0]&514&&(a.rarity=s[9][s[49]].rarity),o[0]&2&&(a.points=s[15](s[49],"p1")),n.$set(a)},i(s){r||(T(n.$$.fragment,s),r=!0)},o(s){A(n.$$.fragment,s),r=!1},d(s){s&&F(e),ne(n)}}}function Ri(t){let e,n,i;return n=new Ne({props:{displayTitle:t[9][t[49]].displayTitle,title:t[9][t[49]].title,img:t[9][t[49]].image,race:t[9][t[49]].race,rarity:t[9][t[49]].rarity,points:t[15](t[49],"p2")}}),{c(){e=S("div"),pe(n.$$.fragment),E(e,"class","history__card-wrapper svelte-1ou3wgq")},m(r,s){j(r,e,s),te(n,e,null),i=!0},p(r,s){const o={};s[0]&513&&(o.displayTitle=r[9][r[49]].displayTitle),s[0]&513&&(o.title=r[9][r[49]].title),s[0]&513&&(o.img=r[9][r[49]].image),s[0]&513&&(o.race=r[9][r[49]].race),s[0]&513&&(o.rarity=r[9][r[49]].rarity),s[0]&1&&(o.points=r[15](r[49],"p2")),n.$set(o)},i(r){i||(T(n.$$.fragment,r),i=!0)},o(r){A(n.$$.fragment,r),i=!1},d(r){r&&F(e),ne(n)}}}function Si(t){let e,n,i,r;return n=new Ne({props:{displayTitle:t[9][t[49]].displayTitle,title:t[9][t[49]].title,img:t[9][t[49]].image,race:t[9][t[49]].race,rarity:t[9][t[49]].rarity,points:t[15](t[49],"p2")}}),{c(){e=S("div"),pe(n.$$.fragment),i=q(),E(e,"class","history__card-wrapper svelte-1ou3wgq")},m(s,o){j(s,e,o),te(n,e,null),g(e,i),r=!0},p(s,o){const a={};o[0]&513&&(a.displayTitle=s[9][s[49]].displayTitle),o[0]&513&&(a.title=s[9][s[49]].title),o[0]&513&&(a.img=s[9][s[49]].image),o[0]&513&&(a.race=s[9][s[49]].race),o[0]&513&&(a.rarity=s[9][s[49]].rarity),o[0]&1&&(a.points=s[15](s[49],"p2")),n.$set(a)},i(s){r||(T(n.$$.fragment,s),r=!0)},o(s){A(n.$$.fragment,s),r=!1},d(s){s&&F(e),ne(n)}}}function Oi(t){let e,n,i,r;return n=new Ne({props:{displayTitle:t[9][t[49]].displayTitle,title:t[9][t[49]].title,img:t[9][t[49]].image,race:t[9][t[49]].race,rarity:t[9][t[49]].rarity,points:t[15](t[49],"p2")}}),{c(){e=S("div"),pe(n.$$.fragment),i=q(),E(e,"class","history__card-wrapper svelte-1ou3wgq")},m(s,o){j(s,e,o),te(n,e,null),g(e,i),r=!0},p(s,o){const a={};o[0]&513&&(a.displayTitle=s[9][s[49]].displayTitle),o[0]&513&&(a.title=s[9][s[49]].title),o[0]&513&&(a.img=s[9][s[49]].image),o[0]&513&&(a.race=s[9][s[49]].race),o[0]&513&&(a.rarity=s[9][s[49]].rarity),o[0]&1&&(a.points=s[15](s[49],"p2")),n.$set(a)},i(s){r||(T(n.$$.fragment,s),r=!0)},o(s){A(n.$$.fragment,s),r=!1},d(s){s&&F(e),ne(n)}}}function Bi(t){let e,n,i,r;return n=new Ne({props:{displayTitle:t[9][t[49]].displayTitle,title:t[9][t[49]].title,img:t[9][t[49]].image,race:t[9][t[49]].race,rarity:t[9][t[49]].rarity,points:t[15](t[49],"p2")}}),{c(){e=S("div"),pe(n.$$.fragment),i=q(),E(e,"class","history__card-wrapper svelte-1ou3wgq")},m(s,o){j(s,e,o),te(n,e,null),g(e,i),r=!0},p(s,o){const a={};o[0]&513&&(a.displayTitle=s[9][s[49]].displayTitle),o[0]&513&&(a.title=s[9][s[49]].title),o[0]&513&&(a.img=s[9][s[49]].image),o[0]&513&&(a.race=s[9][s[49]].race),o[0]&513&&(a.rarity=s[9][s[49]].rarity),o[0]&1&&(a.points=s[15](s[49],"p2")),n.$set(a)},i(s){r||(T(n.$$.fragment,s),r=!0)},o(s){A(n.$$.fragment,s),r=!1},d(s){s&&F(e),ne(n)}}}function Po(t){let e,n,i,r,s,o,a;const l=[bo,_o],u=[];function p(_,b){return _[4]?1:0}n=p(t),i=u[n]=l[n](t);const k=[vo,ko],v=[];function m(_,b){return _[6]?0:1}return s=m(t),o=v[s]=k[s](t),{c(){e=S("main"),i.c(),r=q(),o.c()},m(_,b){j(_,e,b),u[n].m(e,null),g(e,r),v[s].m(e,null),a=!0},p(_,b){let w=n;n=p(_),n===w?u[n].p(_,b):(be(),A(u[w],1,1,()=>{u[w]=null}),ye(),i=u[n],i?i.p(_,b):(i=u[n]=l[n](_),i.c()),T(i,1),i.m(e,r));let L=s;s=m(_),s===L?v[s].p(_,b):(be(),A(v[L],1,1,()=>{v[L]=null}),ye(),o=v[s],o?o.p(_,b):(o=v[s]=k[s](_),o.c()),T(o,1),o.m(e,null))},i(_){a||(T(i),T(o),a=!0)},o(_){A(i),A(o),a=!1},d(_){_&&F(e),u[n].d(),v[s].d()}}}function Ro(t,e){let n=t.hand.filter(r=>r==="ai").length,i=t.hand.filter(r=>r==="virus").length;t.hand.includes("crusher541A57")&&(n+=e.hand.filter(r=>r==="ai").length,i+=e.hand.filter(r=>r==="virus").length),t.hand.forEach(r=>{r==="virus"&&(t.points.bots+=8),r==="ai"&&(t.points.bots+=n*i)}),t.hand.includes("crusher541A57")&&e.hand.forEach(r=>{r==="virus"&&(t.points.bots+=8),r==="ai"&&(t.points.bots+=n*i)})}function So(t,e,n){let i,r,s,o,a,l,u,p,k,v;ke(t,de,c=>n(0,i=c)),ke(t,he,c=>n(1,r=c)),ke(t,Ct,c=>n(9,s=c)),ke(t,fs,c=>n(20,o=c)),ke(t,gs,c=>n(21,a=c)),ke(t,cs,c=>n(22,l=c)),ke(t,us,c=>n(23,u=c)),ke(t,hs,c=>n(24,p=c)),ke(t,ds,c=>n(25,k=c)),ke(t,ps,c=>n(26,v=c));let m=Gt("http://192.168.2.10:6912"),_=!1,b=!1,w=!1,L=!0,M="",N="",G=0,O={dwarves:[...o],xenos:[...a]},R=Object.keys(O);Hi(()=>{m.on("connect",()=>console.log(`User ID: ${m.id} connected!`)),m.on("connect_error",c=>console.error("Connection error:",c)),m.on("set-users",c=>{Object.entries(c).forEach(([d,C])=>{he.update(Y=>(Y.id=c.p1,Y)),de.update(Y=>(Y.id=c.p2,Y))})}),m.on("game-started",c=>{I(),he.update(d=>(d.hand=c.player1.hand,d.startingHand=c.player1.hand,d.turn=c.player1.turn,d)),de.update(d=>(d.hand=c.player2.hand,d.startingHand=c.player2.hand,d.turn=c.player2.turn,d)),O={...c.fullDeck}}),m.on("turn-changed",c=>{n(8,G+=.5),he.update(d=>(d.turn=!c.player1.turn,d)),de.update(d=>(d.turn=!c.player2.turn,d))}),m.on("card-drawn",c=>{O={...c.fullDeck},R=c.deckTypes,he.set(c.player1),de.set(c.player2)}),m.on("card-discarded",c=>{he.set(c.player1),de.set(c.player2)}),m.on("gdg-declared",()=>n(2,_=!0)),m.on("xeno-points-update-started",c=>{V()==="p1"?de.update(d=>(d.warpStalkerPointValue=c.warpStalkerPointValue,d.voidRunnerPointValue=c.voidRunnerPointValue,d)):he.update(d=>(d.warpStalkerPointValue=c.warpStalkerPointValue,d.voidRunnerPointValue=c.voidRunnerPointValue,d)),m.emit("finish-xeno-points-update",V()==="p1"?r:i)}),m.on("xeno-points-update-started",c=>{V()==="p1"?de.update(d=>(d.warpStalkerPointValue=c.warpStalkerPointValue,d.voidRunnerPointValue=c.voidRunnerPointValue,d)):he.update(d=>(d.warpStalkerPointValue=c.warpStalkerPointValue,d.voidRunnerPointValue=c.voidRunnerPointValue,d))}),m.on("game-ended",c=>D()),m.emit("client-ready")});function D(){n(5,L=!0),n(4,w=!1),n(3,b=!0),he.update(c=>(c.turn=!1,c)),de.update(c=>(c.turn=!1,c)),U(r,i),U(i,r),J(),we(),we(!0)}function I(){he.update(c=>(c.highestPoints=0,c.points.beasts=0,c.points.bots=0,c.points.dwarves=0,c.points.elves=0,c.points.goblins=0,c.points.humans=0,c.points.xenos=0,c.discards=[],c.justWon=!1,c)),de.update(c=>(c.highestPoints=0,c.points.beasts=0,c.points.bots=0,c.points.dwarves=0,c.points.elves=0,c.points.goblins=0,c.points.humans=0,c.points.xenos=0,c.discards=[],c.justWon=!1,c)),O.humans=[...v],O.goblins=[...k],O.elves=[...p],O.dwarves=[...o],O.bots=[...u],O.beasts=[...l],O.xenos=[...a],fe(Ct,s.warpstalker.points=0,s),fe(Ct,s.voidRunner.points=0,s),n(8,G=0),n(5,L=!1),n(4,w=!0),n(2,_=!1),n(3,b=!1),n(6,M="")}function Q(){I(),X(r.hand),X(i.hand),ve(),m.emit("start-game",{player1:r,player2:i,fullDeck:O})}function ve(){Math.ceil(Math.random()*2)===1?(fe(he,r.turn=!0,r),fe(de,i.turn=!1,i)):(fe(he,r.turn=!1,r),fe(de,i.turn=!0,i))}function we(c=!1){const d=O.beasts.length||0,C=O.bots.length||0,Y=O.dwarves.length||0,Ce=O.elves.length||0,K=O.goblins.length||0,Tt=O.humans.length||0,Et=O.xenos.length||0;if(c)console.log(`Cards remaining per deck:

      Humans: ${Tt}

      Goblins: ${K}

      Elves: ${Ce}

      Dwarves: ${Y}
)
      Bots: ${C}
)
      Xenos: ${Et}
)
      Beasts: ${d}
`);else{const Re=Tt+K+Ce+Y+C+d+Et;console.log(`Cards remaining in deck: ${Re}`)}}function x(){return!!(r.id===m.id&&r.turn||i.id===m.id&&i.turn)}function V(){return r.id===m.id?"p1":i.id===m.id?"p2":"guest"}function z(c){return!!(L||V()==="guest"||V()==="p1"&&c==="p1"||V()==="p2"&&c==="p2")}function De(){m.emit("change-turns",{player1:r,player2:i})}function X(c){for(let d=1;d<=5;d++){let C=Math.floor(Math.random()*R.length),Y=R[C];C=Math.floor(Math.random()*O[Y].length);const Ce=O[Y][C],K=O[Y].indexOf(Ce);O[Y].splice(K,1),c.push(Ce)}r.hand===c?he.update(d=>(d.hand=c,d.startingHand=c,d)):de.update(d=>(d.hand=c,d.startingHand=c,d))}function B(c){if(L)return;let d="",C="",Y=0;if(n(3,b=!0),c.hand.length>5)return;if(c.dwarfNextTurn?(c.dwarfNextTurn=!1,O.dwarves.length!==0?d="dwarves":(Y=Math.floor(Math.random()*R.length),d=R[Y])):(Y=Math.floor(Math.random()*R.length),d=R[Y]),R.length===0&&d===void 0){console.log("No more cards!"),m.emit("start-xeno-points-update",V()==="p1"?r:i),m.emit("end-game");return}c.goblinLordMarked?(c.goblinLordMarked=!1,O.goblins.length===0?d=R[Y]:d="goblins",O.goblins.includes("goblinLord")?C=O.goblins.find(K=>K==="goblinLord"):(Y=Math.floor(Math.random()*O[d].length),C=O[d][Y])):(Y=Math.floor(Math.random()*O[d].length),C=O[d][Y],(C==="longbeardLeader"||C==="dwarfCommander")&&(c.dwarfNextTurn=!0),C==="goblinLordsMark"&&(c.goblinLordMarked=!0),(C==="warpstalker"||C==="voidRunner")&&ut(c,C));const Ce=O[d].indexOf(C);if(O[d].splice(Ce,1),O[d].length===0){const K=R.indexOf(d);R.splice(K,1)}c.title==="Player 1"?he.update(K=>(K.hand=[...K.hand,C],K.cardsDrawn=[C,...c.cardsDrawn],K)):de.update(K=>(K.hand=[...K.hand,C],K.cardsDrawn=[C,...c.cardsDrawn],K)),m.emit("draw-card",{player1:r,player2:i,deckTypes:R,fullDeck:O})}function ge(){L||V()!=="guest"&&(x()&&r.turn&&B(r),x()&&i.turn&&B(i))}function He(c){if(x()){if(x()&&r.turn){const d=r.hand.indexOf(c);he.update(C=>(C.hand.splice(d,1),C.discards=[...C.discards,c],C))}if(x()&&i.turn){const d=i.hand.indexOf(c);de.update(C=>(C.hand.splice(d,1),C.discards=[...C.discards,c],C))}m.emit("discard-card",{player1:r,player2:i}),_?(m.emit("start-xeno-points-update",V()==="p1"?r:i),m.emit("end-game")):(De(),n(3,b=!1))}}function Ee(c,d){let C=c.detail.title;d.length>5&&He(C)}function Be(){x()&&(L||(_?(m.emit("start-xeno-points-update",V()==="p1"?r:i),m.emit("end-game")):(console.log("Gobbledegook declared!!"),De(),n(2,_=!0),m.emit("gdg-declared"))))}function J(){r.highestPoints>i.highestPoints?(fe(he,r.justWon=!0,r),fe(he,r.wins+=1,r),fe(de,i.losses+=1,i),n(6,M=`Player 1 is the winner with ${r.highestPoints} points!ðŸŽŠðŸ¥³ðŸ¾`),n(7,N=`Player 2 loses with ${i.highestPoints} points...${i.highestPoints<=0?"ðŸ’©ðŸ’©ðŸ’©":"ðŸ’©"}`)):i.highestPoints>r.highestPoints?(fe(de,i.justWon=!0,i),fe(de,i.wins+=1,i),fe(he,r.losses+=1,r),n(6,M=`Player 2 is the winner with ${i.highestPoints} points!ðŸŽŠðŸ¥³ðŸ¾`),n(7,N=`Player 1 loses with ${r.highestPoints} points...${r.highestPoints<=0?"ðŸ’©ðŸ’©ðŸ’©":"ðŸ’©"}`)):r.highestPoints===5e5&&i.highestPoints===5e5?(fe(he,r.justWon=!0,r),fe(de,i.justWon=!0,i),fe(de,i.draws+=1,i),fe(he,r.draws+=1,r),n(6,M="It seems neither the goblins nor the elves want to go to war with each other while their leaders are on the field..."),n(7,N=" it's a draw!ðŸ˜“ðŸ˜“ðŸ˜“")):(fe(he,r.justWon=!0,r),fe(de,i.justWon=!0,i),fe(de,i.draws+=1,i),fe(he,r.draws+=1,r),n(6,M=`Player 1 had ${r.highestPoints} points and player 2 had ${i.highestPoints} points...`),n(7,N=" it's a draw!ðŸ˜“"))}function P(c){c.hand.forEach(d=>{switch(s[d].race){case"beast":c.points.beasts+=s[d].points;break;case"bot":s[d].title==="faeBot"&&(c.points.elves+=s[d].points),c.points.bots+=s[d].points;break;case"elf":c.points.elves+=s[d].points;break;case"dwarf":s[d].title==="hobbit"&&(c.points.humans+=s[d].points),c.points.dwarves+=s[d].points;break;case"goblin":c.points.goblins+=s[d].points;break;case"human":c.points.humans+=s[d].points;break;case"xeno":c.points.xenos+=s[d].points;break;default:console.log("Didn't match a race???")}c.highestPoints=Math.max(c.points.beasts,c.points.bots,c.points.dwarves,c.points.elves,c.points.goblins,c.points.humans,c.points.xenos)})}function U(c,d){P(c),d.hand.includes("crusher541A57")&&(c.points.bots=0),c.hand.includes("commander")&&H(c),c.hand.includes("emperor")&&_e(c),c.hand.includes("goblinLord")&&qe(c,d),c.hand.includes("elfKing")&&Lt(c,d),c.hand.includes("dreamDestroyer")&&Ae(c),c.hand.includes("dreamDestroyer")&&Ae(c),c.hand.includes("crusher541A57")&&ct(c,d),c.hand.includes("ai")&&Ro(c,d),c.hand.includes("longbeardLeader")&&Nt(c),c.hand.includes("nelladan")&&c.hand.includes("nadallen")&&(c.points.elves+=10),c.hand.includes("nebulite")&&ut(c,"nebulite"),c.highestPoints=Math.max(c.points.beasts,c.points.bots,c.points.dwarves,c.points.elves,c.points.goblins,c.points.humans,c.points.xenos),console.log({player:c.title,highestPoints:c.highestPoints,beastPoints:c.points.beasts,botPoints:c.points.bots,dwarfPoints:c.points.dwarves,elfPoints:c.points.elves,goblinPoints:c.points.goblins,humanPoints:c.points.humans,xenoPoints:c.points.xenos})}function _e(c){c.points.humans*=2,c.hand.forEach(d=>{s[d].race!=="human"&&s[d].race!=="xeno"&&s[d].title!=="hobbit"&&(c.points.humans+=s[d].points)})}function H(c){let d=c.hand.filter(C=>C==="commander").length;c.hand.forEach(C=>{(s[C].race==="human"||s[C].title==="hobbit")&&(c.points.humans+=d)})}function qe(c,d){const C=c.hand.every(K=>s[K].race==="goblin");console.log(`from inside calculateGoblinLord, goblinHand = ${C}`);const Y=d.hand.every(K=>s[K].race==="elf"),Ce=d.hand.includes("elfKing");C&&Y&&Ce?c.points.goblins=5e5:C&&(c.points.goblins=1e6)}function Lt(c,d){const C=d.hand.every(K=>s[K].race==="goblin"),Y=c.hand.every(K=>s[K].race==="elf"||s[K].title==="faeBot"),Ce=d.hand.includes("goblinLord");C&&Ce&&Y?c.points.elves=5e5:Y?c.points.elves*=3:c.points.elves*=2}function Ae(c){c.points.beasts=0,c.hand.forEach(d=>{s[d].race==="beast"&&(c.points.beasts+=12)})}function ct(c,d){c.points.bots=0,d.points.bots=0,c.hand.forEach(C=>{s[C].race==="bot"&&(c.points.bots+=s[C].points+2)}),d.hand.forEach(C=>{s[C].race==="bot"&&(c.points.bots+=s[C].points+2)})}function Nt(c){let d=0;r.discards.forEach(C=>{o.includes(C)&&(d+=1)}),i.discards.forEach(C=>{o.includes(C)&&(d+=1)}),O.dwarves?d>=O.dwarves.length?c.points.dwarves+=50:c.points.dwarves+=0:c.points.dwarves+=50}function ut(c,d){d==="warpstalker"&&(fe(Ct,s[d].points=Math.ceil(Math.random()*7)+6,s),c.warpStalkerPointValue=s[d].points),d==="voidRunner"&&(fe(Ct,s[d].points=Math.ceil(G),s),c.voidRunnerPointValue=s[d].points),d==="nebulite"&&c.hand.forEach(C=>{s[C].race==="xeno"&&s[C].title!=="nebulite"&&(c.points.xenos+=4)})}function ft(c,d){if(!["warpstalker","voidRunner"].includes(c))return s[c].points;if(d==="p1"){if(c==="warpstalker")return r.warpStalkerPointValue;if(c==="voidRunner")return r.voidRunnerPointValue}else if(d==="p2"){if(c==="warpstalker")return i.warpStalkerPointValue;if(c==="voidRunner")return i.voidRunnerPointValue}}const Dt=c=>Ee(c,r.hand),qt=c=>Ee(c,i.hand);return t.$$.update=()=>{t.$$.dirty[0]&3&&console.log({p1:r,p2:i})},[i,r,_,b,w,L,M,N,G,s,Q,z,ge,Ee,Be,ft,Dt,qt]}class Oo extends Ye{constructor(e){super(),Ge(this,e,So,Po,ze,{},null,[-1,-1,-1])}}function Bo(t){let e,n,i;return n=new Oo({}),{c(){e=S("main"),pe(n.$$.fragment),E(e,"class","svelte-jszidx")},m(r,s){j(r,e,s),te(n,e,null),i=!0},p:Z,i(r){i||(T(n.$$.fragment,r),i=!0)},o(r){A(n.$$.fragment,r),i=!1},d(r){r&&F(e),ne(n)}}}class Li extends Ye{constructor(e){super(),Ge(this,e,null,Bo,ze,{})}}function Lo(t){let e,n,i,r;return e=new Qn({props:{path:"/home",component:Li}}),i=new Qn({props:{path:"/",component:Li}}),{c(){pe(e.$$.fragment),n=q(),pe(i.$$.fragment)},m(s,o){te(e,s,o),j(s,n,o),te(i,s,o),r=!0},p:Z,i(s){r||(T(e.$$.fragment,s),T(i.$$.fragment,s),r=!0)},o(s){A(e.$$.fragment,s),A(i.$$.fragment,s),r=!1},d(s){ne(e,s),s&&F(n),ne(i,s)}}}function No(t){let e,n;return e=new as({props:{$$slots:{default:[Lo]},$$scope:{ctx:t}}}),{c(){pe(e.$$.fragment)},m(i,r){te(e,i,r),n=!0},p(i,[r]){const s={};r&1&&(s.$$scope={dirty:r,ctx:i}),e.$set(s)},i(i){n||(T(e.$$.fragment,i),n=!0)},o(i){A(e.$$.fragment,i),n=!1},d(i){ne(e,i)}}}class Do extends Ye{constructor(e){super(),Ge(this,e,null,No,ze,{})}}new Do({target:document.getElementById("app")});
